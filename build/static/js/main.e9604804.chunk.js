(this.webpackJsonpteammeet=this.webpackJsonpteammeet||[]).push([[1],{100:function(e,t,a){e.exports={whiteboardMenuContent:"WhiteboardMenuContent_whiteboardMenuContent__3wcd9",brushSizeWrapper:"WhiteboardMenuContent_brushSizeWrapper__3y0-O"}},101:function(e,t,a){e.exports={skeleton:"Skeleton_skeleton__zRo__",gradientFlash:"Skeleton_gradientFlash___3LKB",round:"Skeleton_round__3k965"}},102:function(e,t,a){e.exports={privacyEdit:"PrivacyEdit_privacyEdit__1amDH",save:"PrivacyEdit_save__3cUl5"}},103:function(e,t,a){e.exports={privacy:"Privacy_privacy__3bH6U",content:"Privacy_content__3-zUr"}},12:function(e,t,a){e.exports={container:"Home_container__3myiG",subContainer:"Home_subContainer__1mK7j",bannerContainer:"Home_bannerContainer__3VEpT",contentContainer:"Home_contentContainer__pYnAL",subContentContainer:"Home_subContentContainer__2zfwh",subContentContainerBelow:"Home_subContentContainerBelow__OXn0j",mainContainer:"Home_mainContainer__8fpkg",mainSubContainer:"Home_mainSubContainer__2Yupr",mainSubContainer1:"Home_mainSubContainer1__eoH9c",titleTxt:"Home_titleTxt__2aZse",btnContainer:"Home_btnContainer__xGMw6",MFLO:"Home_MFLO__271-l",lowerContainer:"Home_lowerContainer__aC6NM",lowerSubContainer:"Home_lowerSubContainer__35YSC",ImageContainer:"Home_ImageContainer__4bTU0",textContainer:"Home_textContainer__3kxDn",highlightedtxt:"Home_highlightedtxt__2zqSG",text:"Home_text__39p5C"}},137:function(e,t,a){e.exports={footer:"Footer_footer__7dIj9"}},142:function(e,t,a){e.exports={input:"Input_input__3rPb3"}},146:function(e,t,a){e.exports={raiseHand:"RaiseHand_raiseHand__2ZXa3"}},147:function(e,t,a){e.exports={whiteboardBrushColor:"WhiteboardBrushColor_whiteboardBrushColor__1AK65"}},148:function(e,t,a){e.exports={whiteboardMenu:"WhiteboardMenu_whiteboardMenu__Fx2Kx"}},149:function(e,t,a){e.exports={whiteboard:"Whiteboard_whiteboard__1KWNz"}},160:function(e,t,a){e.exports=a(218)},166:function(e,t,a){var n={"./ion-action-sheet.entry.js":[221,5],"./ion-alert.entry.js":[222,6],"./ion-app_8.entry.js":[223,7],"./ion-avatar_3.entry.js":[224,18],"./ion-back-button.entry.js":[225,19],"./ion-backdrop.entry.js":[226,43],"./ion-button_2.entry.js":[227,20],"./ion-card_5.entry.js":[228,21],"./ion-checkbox.entry.js":[229,22],"./ion-chip.entry.js":[230,23],"./ion-col_3.entry.js":[231,44],"./ion-datetime_3.entry.js":[232,10],"./ion-fab_3.entry.js":[233,24],"./ion-img.entry.js":[234,45],"./ion-infinite-scroll_2.entry.js":[235,46],"./ion-input.entry.js":[236,25],"./ion-item-option_3.entry.js":[237,26],"./ion-item_8.entry.js":[238,27],"./ion-loading.entry.js":[239,28],"./ion-menu_3.entry.js":[240,29],"./ion-modal.entry.js":[241,8],"./ion-nav_2.entry.js":[242,15],"./ion-popover.entry.js":[243,9],"./ion-progress-bar.entry.js":[244,30],"./ion-radio_2.entry.js":[245,31],"./ion-range.entry.js":[246,32],"./ion-refresher_2.entry.js":[247,11],"./ion-reorder_2.entry.js":[248,17],"./ion-ripple-effect.entry.js":[249,47],"./ion-route_4.entry.js":[250,33],"./ion-searchbar.entry.js":[251,34],"./ion-segment_2.entry.js":[252,35],"./ion-select_3.entry.js":[253,36],"./ion-slide_2.entry.js":[254,48],"./ion-spinner.entry.js":[255,13],"./ion-split-pane.entry.js":[256,49],"./ion-tab-bar_2.entry.js":[257,37],"./ion-tab_2.entry.js":[258,16],"./ion-text.entry.js":[259,38],"./ion-textarea.entry.js":[260,39],"./ion-toast.entry.js":[261,40],"./ion-toggle.entry.js":[262,12],"./ion-virtual-scroll.entry.js":[263,50]};function r(e){if(!a.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],r=t[0];return a.e(t[1]).then((function(){return a(r)}))}r.keys=function(){return Object.keys(n)},r.id=166,e.exports=r},168:function(e,t,a){var n={"./ion-icon.entry.js":[267,57]};function r(e){if(!a.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],r=t[0];return a.e(t[1]).then((function(){return a(r)}))}r.keys=function(){return Object.keys(n)},r.id=168,e.exports=r},192:function(e,t){function a(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}a.keys=function(){return[]},a.resolve=a,e.exports=a,a.id=192},196:function(e,t){},197:function(e,t){},198:function(e,t){},215:function(e,t,a){},217:function(e,t,a){},218:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(43),c=a.n(i),o=a(2),s=a(3),l=a(7),d=a(4),u=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function h(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");u?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):m(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):m(t,e)}))}}function m(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var v=function(){function e(){Object(o.a)(this,e)}return Object(s.a)(e,null,[{key:"registerWorker",value:function(){Object(d.some)(e.ignorePlatforms,(function(e){return Object(l.u)(e)}))||h()}}]),e}();v.ignorePlatforms=["cordova","electron"];var p=a(9),C=a.n(p),E=a(14),b=a(5),g=a(6),f=a(10),N=a(75),_=a(34),w=a(62),k=a.n(w),y=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return this.props.visibility&&r.a.createElement("div",{className:k.a.header},r.a.createElement(l.g,null,r.a.createElement(l.l,null,r.a.createElement(l.d,null,r.a.createElement(_.a,{to:$a.home.path},r.a.createElement("img",{className:k.a.logo,src:this.logo,alt:"Stagetrack Studio"})),r.a.createElement("div",{className:this.taglineClass},"Let\u2019s start a meeting with your team.")))))}},{key:"logo",get:function(){var e=this.props.invert?"logoInvert.svg":"logo.svg";return"/assets/logo/".concat(e)}},{key:"taglineClass",get:function(){var e=this.props.invert&&k.a.invert;return"".concat(k.a.tagline," ").concat(e)}}]),a}(n.Component),S=a(93),O=a.n(S),j=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return this.props.visibility&&r.a.createElement("div",{className:this.className},this.props.children)}},{key:"className",get:function(){var e=this.props.width,t=e&&O.a[e];return"".concat(O.a.container," ").concat(t)}}]),a}(n.Component),M=a(94),I=a.n(M),R=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("img",{className:this.className,src:"/assets/background.svg",alt:"Floating animation"})}},{key:"className",get:function(){var e=this.props.flip&&I.a.flip;return"".concat(I.a.floatingAnimation," ").concat(e)}}]),a}(n.Component),A=a(63),B=a.n(A),x=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:this.className},r.a.createElement(_.a,{className:B.a.link,to:$a.privacy.path},"Privacy Policy"),r.a.createElement("p",{className:B.a.text,dangerouslySetInnerHTML:this.copyright}))}},{key:"className",get:function(){var e=this.props.invert&&B.a.invert;return"".concat(B.a.copyright," ").concat(e)}},{key:"copyright",get:function(){var e=(new Date).getFullYear();return{__html:"&copy; ".concat("Stagetrack Studio"," ").concat(e)}}}]),a}(n.Component),D=a(137),T=a.n(D),H=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return this.props.visibility&&r.a.createElement("div",{className:T.a.footer},r.a.createElement(R,{flip:this.floatingAnimationFlip}),r.a.createElement(x,{invert:this.copyrightInvert}))}},{key:"floatingAnimationFlip",get:function(){return!this.props.invert}},{key:"copyrightInvert",get:function(){return Boolean(this.props.invert)}}]),a}(n.Component),P=a(8),V=a(17),L=a(16),U=a(44),W=a(139),z={auth:{type:null}},F=function(e){return{type:"REPLACE_APP_AUTH_TYPE",authType:e}};var G={message:"",handleProceed:null,timeoutId:0},q={replaceMessage:function(e){return{type:"REPLACE_ALERT_MESSAGE",message:e}},replaceHandleProceed:function(e){return{type:"REPLACE_ALERT_HANDLE_PROCEED",handleProceed:e}},replaceTimeoutId:function(e){return{type:"REPLACE_ALERT_TIMEOUT_ID",timeoutId:e}}};function X(e){return Object(d.cloneDeep)(e.alert)}var Z={username:"",password:"",confirmPassword:""};var J={username:"",password:""};var Y=a(76),K={id:"",connectionId:"",videos:[],mediaStream:new MediaStream,screenStream:new MediaStream,calls:[],whiteboardDrawings:[],whiteboardEnabled:!0,menuExpanded:["top","bottom"]},Q={replaceId:function(e){return{type:"REPLACE_MEETING_ID",id:e}},replaceConnectionId:function(e){return{type:"REPLACE_MEETING_CONNECTION_ID",connectionId:e}},replaceVideos:function(e){return{type:"REPLACE_MEETING_VIDEOS",videos:e}},replaceMediaStream:function(e){return{type:"REPLACE_MEETING_MEDIA_STREAM",mediaStream:e}},replaceScreenStream:function(e){return{type:"REPLACE_MEETING_SCREEN_STREAM",screenStream:e}},replaceVideoStream:function(e,t){return{type:"REPLACE_MEETING_VIDEO_STREAM",payload:{connectionId:e,stream:t}}},replaceVideoKind:function(e,t){return{type:"REPLACE_MEETING_VIDEO_KIND",payload:{connectionId:e,kind:t}}},replaceVideoRaiseHand:function(e,t){return{type:"REPLACE_MEETING_VIDEO_RAISE_HAND",payload:{connectionId:e,raiseHand:t}}},replaceVideoActive:function(e,t){return{type:"REPLACE_MEETING_VIDEO_ACTIVE",payload:{connectionId:e,active:t}}},replaceWhiteboardDrawings:function(e){return{type:"REPLACE_MEETING_WHITEBOARD_DRAWINGS",whiteboardDrawings:e}},replaceWhiteboardEnabled:function(e){return{type:"REPLACE_MEETING_WHITEBOARD_ENABLED",enabled:e}},replaceVideoStreamMutedVideo:function(e,t){return{type:"REPLACE_MEETING_VIDEO_STREAM_MUTED_VIDEO",payload:{connectionId:e,muted:t}}},replaceVideoStreamMutedAudio:function(e,t){return{type:"REPLACE_MEETING_VIDEO_STREAM_MUTED_AUDIO",payload:{connectionId:e,muted:t}}},updateVideoRenderId:function(e){return{type:"UPDATE_MEETING_VIDEO_RENDER_ID",connectionId:e}},pushVideo:function(e){return{type:"PUSH_MEETING_VIDEO",video:e}},pushVideoScreen:function(e){return{type:"PUSH_MEETING_VIDEO_SCREEN",video:e}},pushCall:function(e){return{type:"PUSH_MEETING_CALL",call:e}},pushWhiteboardDrawing:function(e){return{type:"PUSH_MEETING_WHITEBOARD_DRAWING",whiteboardDrawing:e}},pushMenuExpanded:function(e){return{type:"PUSH_MEETING_MENU_EXPANDED",menuExpanded:e}},pullVideo:function(e){return{type:"PULL_MEETING_VIDEO",connectionId:e}},pullMenuExpanded:function(e){return{type:"PULL_MEETING_MENU_EXPANDED",menuExpanded:e}},reset:function(){return{type:"RESET_MEETING"}}};function $(e){return Object(d.cloneDeep)(e.meeting)}var ee={meetingId:""},te={replaceMeetingId:function(e){return{type:"REPLACE_JOIN_MEETING_ID",meetingId:e}},replaceMeetingMeetingId:function(e){return Q.replaceId(e)}};var ae={username:"",password:"",clicked:!1},ne={replaceUsername:function(e){return{type:"REPLACE_START_USERNAME",username:e}},replacePassword:function(e){return{type:"REPLACE_START_PASSWORD",password:e}},replaceAppAuthType:function(e){return F(e)},replaceApploginScreen:function(){return{type:"REPLACE_LOGIN_SCREEN"}}};var re={name:"",username:"",password:""};var ie={hosts:[]};var ce={privacy:""};var oe={privacy:""};var se={activeMenu:null,brushSize:"1",brushColor:"#000000"};var le=Object(U.combineReducers)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REPLACE_APP_AUTH_TYPE":return z.auth.type=t.authType,Object(d.cloneDeep)(z);default:return e}},alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REPLACE_ALERT_MESSAGE":return G.message=t.message,Object(d.cloneDeep)(G);case"REPLACE_ALERT_HANDLE_PROCEED":return G.handleProceed=t.handleProceed,Object(d.cloneDeep)(G);case"REPLACE_ALERT_TIMEOUT_ID":return G.timeoutId=t.timeoutId,Object(d.cloneDeep)(G);default:return e}},install:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REPLACE_INSTALL_USERNAME":return Z.username=t.username,Object(d.cloneDeep)(Z);case"REPLACE_INSTALL_PASSWORD":return Z.password=t.password,Object(d.cloneDeep)(Z);case"REPLACE_INSTALL_CONFIRM_PASSWORD":return Z.confirmPassword=t.confirmPassword,Object(d.cloneDeep)(Z);default:return e}},adminSignIn:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REPLACE_ADMIN_SIGN_IN_USERNAME":return J.username=t.username,Object(d.cloneDeep)(J);case"REPLACE_ADMIN_SIGN_IN_PASSWORD":return J.password=t.password,Object(d.cloneDeep)(J);default:return e}},join:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REPLACE_JOIN_MEETING_ID":return ee.meetingId=t.meetingId,Object(d.cloneDeep)(ee);default:return e}},start:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REPLACE_START_USERNAME":return ae.username=t.username,Object(d.cloneDeep)(ae);case"REPLACE_START_PASSWORD":return ae.password=t.password,Object(d.cloneDeep)(ae);case"REPLACE_LOGIN_SCREEN":return ae.clicked=!ae.clicked,Object(d.cloneDeep)(ae);default:return e}},meeting:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REPLACE_MEETING_ID":return K.id=t.id,Object(d.cloneDeep)(K);case"REPLACE_MEETING_CONNECTION_ID":return K.connectionId=t.connectionId,Object(d.cloneDeep)(K);case"REPLACE_MEETING_VIDEOS":return K.videos=t.videos,Object(d.cloneDeep)(K);case"REPLACE_MEETING_MEDIA_STREAM":return K.mediaStream=t.mediaStream,Object(d.cloneDeep)(K);case"REPLACE_MEETING_SCREEN_STREAM":return K.screenStream=t.screenStream,Object(d.cloneDeep)(K);case"REPLACE_MEETING_VIDEO_STREAM":var a=t.payload,n=a.connectionId,r=a.stream,i=Object(d.find)(K.videos,{id:n});return i&&(i.stream=r),Object(d.cloneDeep)(K);case"REPLACE_MEETING_VIDEO_KIND":var c=t.payload,o=c.connectionId,s=c.kind,l=Object(d.find)(K.videos,{id:o});return l&&(l.kind=s),Object(d.cloneDeep)(K);case"REPLACE_MEETING_VIDEO_RAISE_HAND":var u=t.payload,h=u.connectionId,m=u.raiseHand,v=Object(d.find)(K.videos,{id:h});return v&&(v.raiseHand=m),Object(d.cloneDeep)(K);case"REPLACE_MEETING_VIDEO_ACTIVE":var p=t.payload,C=p.connectionId,E=p.active,b=Object(d.find)(K.videos,{active:E}),g=Object(d.find)(K.videos,{id:C});return b&&(b.active=!E),g&&(g.active=E),Object(d.cloneDeep)(K);case"REPLACE_MEETING_WHITEBOARD_DRAWINGS":return K.whiteboardDrawings=t.whiteboardDrawings,Object(d.cloneDeep)(K);case"REPLACE_MEETING_WHITEBOARD_ENABLED":return K.whiteboardEnabled=t.enabled,Object(d.cloneDeep)(K);case"REPLACE_MEETING_VIDEO_STREAM_MUTED_VIDEO":var f=t.payload,N=f.connectionId,_=f.muted,w=Object(d.find)(K.videos,{id:N});return console.log(w),w&&(w.streamMuted.video=_),Object(d.cloneDeep)(K);case"REPLACE_MEETING_VIDEO_STREAM_MUTED_AUDIO":var k=t.payload,y=k.connectionId,S=k.muted,O=Object(d.find)(K.videos,{id:y});return O&&(O.streamMuted.audio=S),Object(d.cloneDeep)(K);case"UPDATE_MEETING_VIDEO_RENDER_ID":var j=t.connectionId,M=Object(d.find)(K.videos,{id:j});return M&&(M.renderId=Object(Y.a)()),Object(d.cloneDeep)(K);case"PUSH_MEETING_VIDEO":var I=Object(d.some)(K.videos,{id:t.video.id});return I||K.videos.push(t.video),Object(d.cloneDeep)(K);case"PUSH_MEETING_VIDEO_SCREEN":var R=Object(d.some)(K.videos,{id:t.video.id,kind:t.video.kind});return R||K.videos.push(t.video),Object(d.cloneDeep)(K);case"PUSH_MEETING_CALL":return K.calls.push(t.call),Object(d.cloneDeep)(K);case"PUSH_MEETING_WHITEBOARD_DRAWING":var A=function(e){return JSON.stringify(e)},B=t.whiteboardDrawing,x=Object(d.map)(K.whiteboardDrawings,A),D=Object(d.findIndex)(x,(function(e){return e===JSON.stringify(B)})),T=D>=0;return T||K.whiteboardDrawings.push(B),Object(d.cloneDeep)(K);case"PUSH_MEETING_MENU_EXPANDED":return K.menuExpanded.push(t.menuExpanded),Object(d.cloneDeep)(K);case"PULL_MEETING_VIDEO":var H=t.connectionId,P=Object(d.some)(K.videos,{id:H});return P&&(K.videos=Object(d.reject)(K.videos,{id:H})),Object(d.cloneDeep)(K);case"PULL_MEETING_MENU_EXPANDED":return Object(d.pull)(K.menuExpanded,t.menuExpanded),Object(d.cloneDeep)(K);case"RESET_MEETING":return K.id="",K.connectionId="",K.videos=[],K.menuExpanded=["top","bottom"],Object(d.cloneDeep)(K);default:return e}},hostCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REPLACE_HOST_CREATE_NAME":return re.name=t.name,Object(d.cloneDeep)(re);case"REPLACE_HOST_CREATE_USERNAME":return re.username=t.username,Object(d.cloneDeep)(re);case"REPLACE_HOST_CREATE_PASSWORD":return re.password=t.password,Object(d.cloneDeep)(re);default:return e}},hosts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REPLACE_HOSTS_HOSTS":return ie.hosts=t.hosts,Object(d.cloneDeep)(ie);case"PUSH_HOSTS_HOST":return ie.hosts.unshift(t.host),Object(d.cloneDeep)(ie);case"PULL_HOSTS_HOST":var a=t.id,n=Object(d.some)(ie.hosts,{id:a});return n&&(ie.hosts=Object(d.reject)(ie.hosts,{id:a})),Object(d.cloneDeep)(ie);default:return e}},privacy:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REPLACE_PRIVACY_PRIVACY":return ce.privacy=t.privacy,Object(d.cloneDeep)(ce);default:return e}},privacyEdit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REPLACE_PRIVACY_EDIT_PRIVACY":return oe.privacy=t.privacy,Object(d.cloneDeep)(oe);default:return e}},whiteboard:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REPLACE_WHITEBOARD_ACTIVE_MENU":return se.activeMenu=t.activeMenu,Object(d.cloneDeep)(se);case"REPLACE_WHITEBOARD_BRUSH_SIZE":return se.brushSize=t.brushSize,Object(d.cloneDeep)(se);case"REPLACE_WHITEBOARD_BRUSH_COLOR":return se.brushColor=t.brushColor,Object(d.cloneDeep)(se);default:return e}}}),de=Object(U.createStore)(le,Object(W.composeWithDevTools)(Object(U.applyMiddleware)())),ue=function(){function e(){Object(o.a)(this,e)}return Object(s.a)(e,null,[{key:"clearAutoClose",value:function(){var e=X(de.getState()).timeoutId;clearTimeout(e),de.dispatch(q.replaceTimeoutId(0))}},{key:"setAutoClose",value:function(){var e=this,t=window.setTimeout((function(){de.dispatch(q.replaceMessage("")),e.clearAutoClose()}),this.timeout);de.dispatch(q.replaceTimeoutId(t))}},{key:"push",value:function(e,t){this.pull(),de.dispatch(q.replaceMessage(e)),t?de.dispatch(q.replaceHandleProceed(t)):this.setAutoClose()}},{key:"pull",value:function(){this.clearAutoClose(),de.dispatch(q.replaceMessage("")),de.dispatch(q.replaceHandleProceed(null))}}]),e}();ue.timeout=5e3;var he=a(37),me=a.n(he),ve=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleClick=n.handleClick.bind(Object(P.a)(n)),n.handleCancelClick=n.handleCancelClick.bind(Object(P.a)(n)),n.handleProceedClick=n.handleProceedClick.bind(Object(P.a)(n)),n}return Object(s.a)(a,[{key:"handleClick",value:function(){this.props.handleProceed||ue.pull()}},{key:"handleCancelClick",value:function(){ue.pull()}},{key:"handleProceedClick",value:function(){this.props.handleProceed&&(this.props.handleProceed(),ue.pull())}},{key:"render",value:function(){return this.props.message&&r.a.createElement("div",{className:this.className,onClick:this.handleClick},r.a.createElement("div",{className:me.a.content},r.a.createElement(l.h,{className:me.a.icon,icon:L.b}),r.a.createElement("span",{className:me.a.message},this.props.message)),this.actions)}},{key:"className",get:function(){var e=!this.props.handleProceed&&me.a.cursor;return"".concat(me.a.alert," ").concat(e)}},{key:"actions",get:function(){return this.props.handleProceed&&r.a.createElement("div",{className:me.a.actions},r.a.createElement("div",{className:me.a.cancel,onClick:this.handleCancelClick},"No"),r.a.createElement("div",{className:me.a.proceed,onClick:this.handleProceedClick},"Yes"))}}]),a}(n.Component),pe=Object(V.b)(X,q)(ve),Ce=a(64),Ee=a.n(Ce),be=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:Ee.a.page},r.a.createElement("div",{className:this.mainClassName},r.a.createElement(y,{visibility:this.headerVisibility,invert:this.props.invert}),r.a.createElement(j,{visibility:this.containerVisibility,width:this.props.container},this.props.children)),r.a.createElement(H,{visibility:this.footerVisibility,invert:this.footerInvert}),r.a.createElement(pe,null))}},{key:"mainClassName",get:function(){var e=this.props.invert&&Ee.a.invert,t=Ee.a[this.props.container];return"".concat(Ee.a.main," ").concat(e," ").concat(t)}},{key:"headerVisibility",get:function(){return"full"!==this.props.container}},{key:"containerVisibility",get:function(){return!this.props.invert}},{key:"footerVisibility",get:function(){return"small"===this.props.container}},{key:"footerInvert",get:function(){return!this.props.invert}}]),a}(n.Component),ge=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).timeout=void 0,n.timeoutId=void 0,n.timeout=2e3,n.timeoutId=null,n}return Object(s.a)(a,[{key:"autoRoute",value:function(){var e=this;this.timeoutId=window.setTimeout((function(){return e.props.history.push($a.home.path)}),this.timeout)}},{key:"preventAutoRoute",value:function(){this.timeoutId&&clearTimeout(this.timeoutId)}},{key:"handleDeeplinkOpen",value:function(){var e=this;N.a.App.addListener("appUrlOpen",(function(t){var a=t.url.split("musicfun.stagetrack.online").pop(),n=Object(d.startsWith)(a,"/join?id="),r=Object(d.includes)(["/start","/start/"],a);(n||r)&&(e.preventAutoRoute(),e.props.history.push(a))}))}},{key:"componentDidMount",value:function(){this.autoRoute(),this.handleDeeplinkOpen()}},{key:"render",value:function(){return r.a.createElement(l.i,null,r.a.createElement(l.e,null,r.a.createElement(be,{invert:!0,container:"small"})))}}]),a}(n.Component),fe=Object(f.f)(ge),Ne=a(12),_e=a.n(Ne),we=a(140),ke=a.n(we),ye=function(){function e(){Object(o.a)(this,e),this.storage=N.a.Storage,this.isElectron=Object(l.u)("electron")}return Object(s.a)(e,[{key:"get",value:function(){var e=Object(E.a)(C.a.mark((function e(t){var a,n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isElectron){e.next=4;break}return e.abrupt("return",window.localStorage.getItem(t));case 4:return e.next=6,this.storage.get({key:t});case 6:return a=e.sent,n=a.value,e.abrupt("return",n);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(){var e=Object(E.a)(C.a.mark((function e(t,a){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isElectron){e.next=4;break}window.localStorage.setItem(t,a),e.next=6;break;case 4:return e.next=6,this.storage.set({key:t,value:a});case 6:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"remove",value:function(){var e=Object(E.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isElectron){e.next=4;break}window.localStorage.removeItem(t),e.next=6;break;case 4:return e.next=6,this.storage.remove({key:t});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Se=function(){function e(){Object(o.a)(this,e),this.key=void 0,this.storageService=void 0,this.key={pwaInstallPrompted:"pwaInstallPrompted",accessToken:"accessToken"},this.storageService=new ye}return Object(s.a)(e,[{key:"checkPwaPrompted",value:function(){var e=Object(E.a)(C.a.mark((function e(t){var a,n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storageService.get(this.key.pwaInstallPrompted);case 2:a=e.sent,n=!!a&&Boolean(JSON.parse(a)),t(n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setPwaInstallPrompted",value:function(){var e=Object(E.a)(C.a.mark((function e(t){var a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=JSON.stringify(!0),e.next=3,this.storageService.set(this.key.pwaInstallPrompted,a);case 3:t();case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAccessToken",value:function(){var e=Object(E.a)(C.a.mark((function e(t){var a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storageService.get(this.key.accessToken);case 2:a=e.sent,t(a);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setAccessToken",value:function(){var e=Object(E.a)(C.a.mark((function e(t,a){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storageService.set(this.key.accessToken,t);case 2:a();case 3:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"removeAccessToken",value:function(){var e=Object(E.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storageService.remove(this.key.accessToken);case 2:t();case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Oe=function(){function e(){Object(o.a)(this,e),this.appStorage=void 0,this.appStorage=new Se}return Object(s.a)(e,[{key:"getClient",value:function(e){this.appStorage.getAccessToken((function(t){var a=ke.a.create({baseURL:"https://".concat("api.musicfun.stagetrack.online"),headers:{Authorization:"Bearer ".concat(t)}});e(a)}))}},{key:"handleError",value:function(e){var t=e.response&&e.response.data.message||e.message;ue.push(t)}},{key:"get",value:function(e,t){var a=this;this.getClient((function(n){n.get(e).then((function(e){return t(e.data)})).catch((function(e){t(null),a.handleError(e)}))}))}},{key:"post",value:function(e,t,a){var n=this;this.getClient((function(r){r.post(e,t).then((function(e){return a(e.data)})).catch((function(e){a(null),n.handleError(e)}))}))}},{key:"patch",value:function(e,t,a){var n=this;this.getClient((function(r){r.patch(e,t).then((function(e){return a(e.data)})).catch((function(e){a(null),n.handleError(e)}))}))}},{key:"delete",value:function(e,t,a){var n=this;this.getClient((function(r){r.delete(e,{data:t}).then((function(e){return a(e.data)})).catch((function(e){a(null),n.handleError(e)}))}))}}]),e}(),je=function(){function e(){Object(o.a)(this,e),this.requestService=void 0,this.appStorage=void 0,this.requestService=new Oe,this.appStorage=new Se}return Object(s.a)(e,[{key:"updateLastMeetingAt",value:function(e,t){var a={id:e};this.requestService.patch("/host/lastMeetingAt",a,(function(e){e&&t()}))}},{key:"signIn",value:function(e,t){var a=this;this.requestService.post("/host/signIn",e,(function(e){if(e){var n=e.id,r=e.accessToken;a.appStorage.setAccessToken(r,(function(){a.updateLastMeetingAt(n,t)}))}}))}}]),e}(),Me=a(33),Ie=a.n(Me),Re=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).request=void 0,n.request=new je,n.handleInputChange=n.handleInputChange.bind(Object(P.a)(n)),n.handleStartClick=n.handleStartClick.bind(Object(P.a)(n)),n.handleLoginFormrender=n.handleLoginFormrender.bind(Object(P.a)(n)),n.handleReplaceLoginScreenWithStartScreen=n.handleReplaceLoginScreenWithStartScreen.bind(Object(P.a)(n)),n}return Object(s.a)(a,[{key:"handleInputChange",value:function(e){var t=e.target,a=t.value;switch(t.name){case"username":this.props.replaceUsername(a);break;case"password":this.props.replacePassword(a)}}},{key:"handleStartClick",value:function(){var e=this,t=this.props,a={username:t.username,password:t.password};this.request.signIn(a,(function(){e.props.replaceAppAuthType("host"),e.props.history.push($a.meeting.path)}))}},{key:"handleReplaceLoginScreenWithStartScreen",value:function(){this.props.replaceApploginScreen()}},{key:"clearForm",value:function(){this.props.replaceUsername(""),this.props.replacePassword("")}},{key:"componentWillUnmount",value:function(){this.clearForm()}},{key:"handleLoginFormrender",value:function(){return this.props.clicked?r.a.createElement("div",{className:Ie.a.STaccessContainer},r.a.createElement("div",{className:Ie.a.STaccess1},"Studio Access"),r.a.createElement("div",{className:Ie.a.inputContainer},r.a.createElement("input",{name:"username",type:"text",value:this.props.username,placeholder:"Username",onChange:this.handleInputChange}),r.a.createElement("input",{name:"password",type:"password",value:this.props.password,placeholder:"Password",onChange:this.handleInputChange})),r.a.createElement("div",{onClick:this.handleStartClick},r.a.createElement("img",{style:{cursor:"pointer"},src:"./assets/loginbtn.png",alt:""})),r.a.createElement("div",{className:Ie.a.forgotPassword},"Forgot Password"),r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("div",{className:Ie.a.Register},"Register "),r.a.createElement("div",{className:Ie.a.Register_sub_text},"as New User"))):r.a.createElement("div",{onClick:this.handleReplaceLoginScreenWithStartScreen,className:Ie.a.STaccess},r.a.createElement("div",{className:Ie.a.arrow_container},r.a.createElement("div",{className:Ie.a.arrow_down})),r.a.createElement("div",{className:Ie.a.STaccessText},"Studio Access"))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.handleLoginFormrender())}}]),a}(n.Component),Ae=Object(f.f)(Object(V.b)((function(e){return Object(d.cloneDeep)(e.start)}),ne)(Re)),Be=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleStartClick=n.handleStartClick.bind(Object(P.a)(n)),n.handleJoinClick=n.handleJoinClick.bind(Object(P.a)(n)),n}return Object(s.a)(a,[{key:"handleStartClick",value:function(){this.props.history.push($a.start.path)}},{key:"handleJoinClick",value:function(){this.props.history.push($a.join.path)}},{key:"render",value:function(){return r.a.createElement("div",{className:_e.a.container},r.a.createElement("div",{className:_e.a.subContainer},r.a.createElement("div",{className:_e.a.bannerContainer},r.a.createElement("img",{src:"./assets/bannerLogin.png",alt:""})),r.a.createElement("div",{className:_e.a.contentContainer},r.a.createElement("div",{className:_e.a.subContentContainer},r.a.createElement("div",{className:_e.a.subContentContainerBelow},r.a.createElement("div",{className:_e.a.mainContainer},r.a.createElement("div",{className:_e.a.mainSubContainer},r.a.createElement("div",{className:_e.a.mainSubContainer1},r.a.createElement("img",{src:"./assets/kidpic.png",height:"100%",alt:""})))),r.a.createElement("div",{className:_e.a.titleTxt},"Meet up with friends & family from anywhere, share our spectecular music journey. ")),r.a.createElement("div",{className:_e.a.btnContainer},r.a.createElement(Ae,null),r.a.createElement("div",{className:_e.a.MFLO},"What is Music Fun with your Little One?"))),r.a.createElement("div",{className:_e.a.lowerContainer},r.a.createElement("div",{className:_e.a.lowerSubContainer},r.a.createElement("img",{src:"./assets/lower1.png",width:"47%",height:"80%",alt:""}),r.a.createElement("div",{className:_e.a.textContainer},r.a.createElement("div",{className:_e.a.highlightedtxt},"What is Music Fun with your Little One?"),r.a.createElement("div",{className:_e.a.text},"An enjoyable Parent/Guardian and Child experience with a live Instructor taking you on a journey of music appreciation."))),r.a.createElement("div",{className:_e.a.lowerSubContainer},r.a.createElement("div",{className:_e.a.textContainer},r.a.createElement("div",{className:_e.a.highlightedtxt},"About our programs"),r.a.createElement("div",{className:_e.a.text},"We provide a group program with friends, families, groups and schools to interact and discover to joy of music."," ")),r.a.createElement("img",{src:"./assets/lower2.png",width:"47%",height:"80%",alt:""})),r.a.createElement("div",{className:_e.a.lowerSubContainer},r.a.createElement("img",{src:"./assets/lower3.png",width:"47%",height:"80%",alt:""}),r.a.createElement("div",{className:_e.a.textContainer},r.a.createElement("div",{className:_e.a.highlightedtxt},"Music Fun... is #1 "),r.a.createElement("div",{className:_e.a.text},"Best of all, you get to share your experience with your favorite people connecting online.. "))),r.a.createElement("div",{className:_e.a.lowerSubContainer},r.a.createElement("div",{className:_e.a.textContainer},r.a.createElement("div",{className:_e.a.highlightedtxt},"How do I sign up?"),r.a.createElement("div",{className:_e.a.text},"Register and set up your day and time, Bring or join a group and start your music journey. It\u2019s as easy as 1,2,3 & 4"," ")),r.a.createElement("img",{src:"./assets/lower4.png",width:"47%",height:"80%",alt:""})),r.a.createElement("div",{className:_e.a.lowerSubContainer},r.a.createElement("img",{src:"./assets/lower5.png",width:"47%",height:"80%",alt:""}),r.a.createElement("div",{className:_e.a.textContainer},r.a.createElement("div",{className:_e.a.highlightedtxt},"Who can join class?"),r.a.createElement("div",{className:_e.a.text},"Our classes are limited 8 participants with children. Bring your friends, cousins, team, band and experience the magic!"," "))),r.a.createElement("div",{className:_e.a.lowerSubContainer},r.a.createElement("div",{className:_e.a.textContainer},r.a.createElement("div",{className:_e.a.highlightedtxt},"Why enroll in the 8 week interactive program?"),r.a.createElement("div",{className:_e.a.text},"Introduce music, have fun and try new and creative ways to interact with your little ... ")),r.a.createElement("img",{src:"./assets/lower6.png",width:"47%",height:"80%",alt:""})),r.a.createElement("div",{className:_e.a.lowerSubContainer},r.a.createElement("img",{src:"./assets/lower7.png",width:"47%",height:"80%",alt:""}),r.a.createElement("div",{className:_e.a.textContainer},r.a.createElement("div",{className:_e.a.highlightedtxt},"Who can join class?"),r.a.createElement("div",{className:_e.a.text},"Music Fun with your Little One is an 8 week interactive program:")))))))}}]),a}(n.Component),xe=Object(f.f)(Be),De=a(141),Te=a.n(De),He=a(142),Pe=a.n(He),Ve=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("input",{className:Pe.a.input,name:this.props.name,type:this.props.type,value:this.props.value,placeholder:this.props.placeholder,onChange:this.props.handleChange,autoComplete:"off"})}}]),a}(n.Component),Le=a(96),Ue=a.n(Le),We=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:Ue.a.button},r.a.createElement(l.b,{className:Ue.a.content,shape:"round",expand:"block",onClick:this.props.handleClick},this.props.text))}}]),a}(n.Component),ze=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleInputChange=n.handleInputChange.bind(Object(P.a)(n)),n.handleJoinClick=n.handleJoinClick.bind(Object(P.a)(n)),n}return Object(s.a)(a,[{key:"handleInputChange",value:function(e){var t=e.target,a=t.value;"meetingId"===t.name&&this.props.replaceMeetingId(a)}},{key:"handleJoinClick",value:function(){var e=Object(d.trim)(this.props.meetingId);if(!e){return ue.push("Meeting ID is not allowed to be empty")}this.props.replaceMeetingMeetingId(e),this.props.history.push($a.meeting.path)}},{key:"setMeetingIdFromUrl",value:function(){var e=this.props.history.location.search,t=Te.a.parse(e,{ignoreQueryPrefix:!0}).id;t&&this.props.replaceMeetingId(t)}},{key:"clearForm",value:function(){this.props.replaceMeetingId("")}},{key:"componentDidMount",value:function(){this.setMeetingIdFromUrl()}},{key:"componentWillUnmount",value:function(){this.clearForm()}},{key:"render",value:function(){return r.a.createElement(l.i,null,r.a.createElement(l.e,null,r.a.createElement(be,{invert:!1,container:"small"},r.a.createElement(l.g,null,r.a.createElement(l.l,null,r.a.createElement(l.d,null,r.a.createElement(Ve,{name:"meetingId",type:"text",value:this.props.meetingId,placeholder:"Meeting ID",handleChange:this.handleInputChange}),r.a.createElement(We,{text:"Join Meeting",handleClick:this.handleJoinClick})))))))}}]),a}(n.Component),Fe=Object(f.f)(Object(V.b)((function(e){return Object(d.cloneDeep)(e.join)}),te)(ze)),Ge=a(143),qe=a.n(Ge),Xe=function(){function e(){Object(o.a)(this,e),this.client=void 0,this.client=new qe.a(e.options)}return Object(s.a)(e,[{key:"getErrorMessage",value:function(e){switch(e){case"browser-incompatible":return"Device doesn't support WebRTC";case"disconnected":return"Already disconnected meeting";case"invalid-id":return"Invalid connection ID";case"invalid-key":return"Invalid API key";case"network":return"Can't establish network connection";case"peer-unavailable":return"Meeting ID doesn't exist";case"ssl-unavailable":return"Server doesn't support SSL";case"server-error":return"Unable to reach server";case"socket-error":return"Underlying socket error";case"socket-closed":return"Underlying socket closed";case"unavailable-id":return"Connection ID already taken";case"webrtc":return"Device doesn't support WebRTC";default:return"Something went wrong"}}},{key:"handleErrors",value:function(e){var t=this;this.client.on("error",(function(a){var n=a.type,r=t.getErrorMessage(n);ue.push(r);Object(d.includes)(["network","server-error","peer-unavailable"],n)&&e.push($a.home.path)}))}},{key:"onOpen",value:function(e){this.client.on("open",(function(t){return e(t)}))}},{key:"call",value:function(e,t,a){var n=this.client.call(e,t);a(n)}},{key:"onReceiveCall",value:function(e){this.client.on("call",(function(t){return e(t)}))}},{key:"answerCall",value:function(e,t){e.answer(t)}},{key:"onCalling",value:function(e,t){e.on("stream",(function(a){var n=e.peer;t(n,a)}))}},{key:"disconnect",value:function(){this.client.destroy()}},{key:"onDisconnect",value:function(e){this.client.on("close",(function(){return e()}))}}]),e}();Xe.options={host:"api.musicfun.stagetrack.online",path:"/peer",secure:!0};var Ze=function(){function e(){Object(o.a)(this,e)}return Object(s.a)(e,[{key:"isHostAuth",value:function(){var e;return"host"===(e=de.getState(),Object(d.cloneDeep)(e.app)).auth.type}},{key:"resetType",value:function(){de.dispatch(F(null))}}]),e}(),Je=function(){function e(){Object(o.a)(this,e),this.authService=void 0,this.authService=new Ze}return Object(s.a)(e,[{key:"setMeetingId",value:function(e){this.authService.isHostAuth()&&de.dispatch(Q.replaceId(e))}},{key:"setConnectionId",value:function(e){de.dispatch(Q.replaceConnectionId(e))}},{key:"isExistsUserVideo",value:function(e){var t=$(de.getState()).videos;return Object(d.some)(t,{id:e})}},{key:"setId",value:function(e,t){this.setMeetingId(e),this.setConnectionId(e),t(this.getMeetingId())}},{key:"setMediaStream",value:function(e){de.dispatch(Q.replaceMediaStream(e))}},{key:"setScreenStream",value:function(e){de.dispatch(Q.replaceScreenStream(e))}},{key:"getMediaStream",value:function(){return $(de.getState()).mediaStream}},{key:"getScreenStream",value:function(){return $(de.getState()).screenStream}},{key:"getMeetingId",value:function(){return $(de.getState()).id}},{key:"getConnectionId",value:function(){return $(de.getState()).connectionId}},{key:"getCalls",value:function(){return $(de.getState()).calls}},{key:"isHostMeeting",value:function(e){return $(de.getState()).id===e}},{key:"isMemberMeeting",value:function(e){return!this.isHostMeeting(e)}},{key:"isUserMeeting",value:function(e){return e===$(de.getState()).connectionId}},{key:"canMemberRemove",value:function(e){return this.authService.isHostAuth()&&!this.isHostMeeting(e)}},{key:"canConferenceCall",value:function(e){return!this.isHostMeeting(e)&&!this.isExistsUserVideo(e)}},{key:"resetMeeting",value:function(){de.dispatch(Q.reset())}},{key:"pushCall",value:function(e){de.dispatch(Q.pushCall(e))}}]),e}(),Ye=function(){function e(){Object(o.a)(this,e),this.meetingService=void 0,this.meetingService=new Je}return Object(s.a)(e,[{key:"getStream",value:function(){var e=Object(E.a)(C.a.mark((function e(t,a){var n,r,i;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=navigator.mediaDevices.getUserMedia,r={video:!0,audio:!0},e.next=5,n(r);case 5:i=e.sent,this.meetingService.setMediaStream(i),a(i),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),ue.push("Device doesn't support WebRTC"),t.push($a.home.path);case 14:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getAudioStream",value:function(){var e=Object(E.a)(C.a.mark((function e(t){var a,n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={audio:!0,video:!1},e.next=4,navigator.mediaDevices.getUserMedia(a);case 4:n=e.sent,t(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ue.push("Device doesn't support audio capture");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getAudioAndVideoStream",value:function(){var e=Object(E.a)(C.a.mark((function e(t){var a,n,r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.prev=1,a=navigator.mediaDevices.getUserMedia,n={video:!0,audio:!0},e.next=6,a(n);case 6:r=e.sent,this.meetingService.setMediaStream(r),t(r),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),ue.push("Device doesn't support WebRTC");case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(0),ue.push("Device doesn't support audio capture");case 19:case"end":return e.stop()}}),e,this,[[0,16],[1,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"toggleVideoMute",value:function(e){var t=Object(d.first)(e.getVideoTracks());return t&&(t.enabled=!t.enabled),!!t&&t.enabled}},{key:"toggleAudioMute",value:function(e){var t=Object(d.first)(e.getAudioTracks());return t&&(t.enabled=!t.enabled),!!t&&t.enabled}}]),e}(),Ke=function(){function e(){Object(o.a)(this,e)}return Object(s.a)(e,[{key:"getVideo",value:function(e){var t=$(de.getState()).videos;return Object(d.find)(t,(function(t){return t.id===e}))}},{key:"getUserVideo",value:function(){var e=$(de.getState()).connectionId;return this.getVideo(e)}},{key:"setHostVideoActive",value:function(){var e=$(de.getState()).id;de.dispatch(Q.replaceVideoActive(e,!0))}}]),e}(),Qe=function(){function e(){Object(o.a)(this,e),this.meetingRepository=void 0,this.meetingRepository=new Ke}return Object(s.a)(e,[{key:"stop",value:function(e){var t=e.getTracks();Object(d.forEach)(t,(function(e){return e.stop()}))}},{key:"isVideoEnabled",get:function(){var e=this.meetingRepository.getUserVideo(),t=e&&Object(d.first)(e.stream.getVideoTracks());return Boolean(t&&t.enabled)}},{key:"isAudioEnabled",get:function(){var e=this.meetingRepository.getUserVideo(),t=e&&Object(d.first)(e.stream.getAudioTracks());return Boolean(t&&t.enabled)}}]),e}(),$e=function(){function e(){Object(o.a)(this,e),this.meetingService=void 0,this.streamTrackService=void 0,this.meetingRepository=void 0,this.meetingService=new Je,this.streamTrackService=new Qe,this.meetingRepository=new Ke}return Object(s.a)(e,[{key:"hasVideo",value:function(e){var t=$(de.getState()).videos;return Object(d.some)(t,{id:e})}},{key:"createVideo",value:function(e,t,a,n){var r=this.meetingService.isUserMeeting(e);n({id:e,stream:t,kind:a,raiseHand:!1,memberRemove:this.meetingService.canMemberRemove(e),active:!1,muted:r,streamMuted:{video:!1,audio:!1},renderId:Object(Y.a)()})}},{key:"createMediaVideo",value:function(e,t,a,n){this.createVideo(e,t,a,n)}},{key:"pushVideo",value:function(e){de.dispatch(Q.pushVideo(e)),setTimeout((function(){de.dispatch(Q.updateVideoRenderId(e.id))}),300)}},{key:"pullVideo",value:function(e){de.dispatch(Q.pullVideo(e))}},{key:"stopUserVideo",value:function(){var e=this.meetingRepository.getUserVideo();e&&this.streamTrackService.stop(e.stream)}},{key:"replaceUserStream",value:function(e,t){var a=$(de.getState()).connectionId;de.dispatch(Q.replaceVideoKind(a,t)),de.dispatch(Q.replaceVideoStream(a,e))}}]),e}(),et=a(144),tt=function(){function e(){Object(o.a)(this,e),this.authService=void 0,this.meetingService=void 0,this.authService=new Ze,this.meetingService=new Je}return Object(s.a)(e,[{key:"canNotifyHost",value:function(e){var t=this.authService.isHostAuth(),a=this.meetingService.isExistsUserVideo(e);return t&&!a}},{key:"canNotifyMember",value:function(e){return!this.meetingService.isExistsUserVideo(e)}},{key:"playNotification",value:function(){new et.Howl({src:["/assets/notification.mp3"]}).play()}},{key:"notifyHost",value:function(e){this.canNotifyHost(e)&&this.playNotification()}},{key:"notifyMember",value:function(e){this.canNotifyMember(e)&&this.playNotification()}}]),e}(),at=a(72),nt=function(){function e(){return Object(o.a)(this,e),e.instance||(e.instance=this),e.instance}return Object(s.a)(e,[{key:"initialize",value:function(){e.canvas=new at.fabric.Canvas("whiteboardCanvas",{isDrawingMode:!0})}},{key:"getCanvas",value:function(){return e.canvas}},{key:"setDimensions",value:function(t,a){e.canvas.setDimensions({width:t,height:a})}},{key:"zoom",value:function(t){var a=e.canvas.getZoom();"in"===t?e.canvas.setZoom(1.1*a):"out"===t&&e.canvas.setZoom(.9*a)}},{key:"clear",value:function(){e.canvas.clear()}}]),e}();nt.instance=void 0,nt.canvas=void 0;var rt=function(){function e(){Object(o.a)(this,e),this.whiteboardCanvasService=void 0,this.whiteboardCanvasService=new nt}return Object(s.a)(e,[{key:"parse",value:function(e,t){at.fabric.util.enlivenObjects([e],t,"")}},{key:"isExists",value:function(e){var t=JSON.parse(JSON.stringify(this.getDrawings())),a=Object(d.findIndex)(t,e)>=0;return a}},{key:"add",value:function(e){var t=this;Object(d.forEach)(e,(function(e){return t.canvas.add(e)}))}},{key:"getDrawings",value:function(){return this.canvas.getObjects()}},{key:"handleAdd",value:function(e){this.canvas.on("object:added",e)}},{key:"canvas",get:function(){return this.whiteboardCanvasService.getCanvas()}}]),e}(),it=function(){function e(){Object(o.a)(this,e),this.contraints={video:!0,audio:!1},this.meetingService=void 0,this.mediaService=void 0,this.meetingService=new Je,this.mediaService=new Ye}return Object(s.a)(e,[{key:"handleDisplayMediaError",value:function(e){var t={"Permission denied by system":"Permission denied by system","Permission denied":null,"*":"Device does not support screen capture"},a=t[e.message],n=void 0===a?t["*"]:a,r=null!==n&&n;r&&ue.push(r)}},{key:"attachAudioAndVideoTracks",value:function(){var e=Object(E.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.mediaService.getAudioAndVideoStream((function(e){var a=e.getVideoTracks();Object(d.forEach)(a,(function(e){return t.addTrack(e)}));var n=e.getAudioTracks();Object(d.forEach)(n,(function(e){return t.addTrack(e)}))}));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getStream",value:function(){var e=Object(E.a)(C.a.mark((function e(t){var a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.mediaDevices.getDisplayMedia(this.contraints);case 3:return a=e.sent,e.next=6,this.attachAudioAndVideoTracks(a);case 6:this.meetingService.setScreenStream(a),t(a),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),this.handleDisplayMediaError(e.t0);case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),ct=a(145),ot=function(){function e(){Object(o.a)(this,e)}return Object(s.a)(e,null,[{key:"connect",value:function(){var e="https://".concat("api.musicfun.stagetrack.online","/socket");this.client=new ct.Client(e)}},{key:"subscribe",value:function(e,t){this.client.subscribe(e,(function(e){return t(e)}))}},{key:"unsubscribe",value:function(e){this.client.unsubscribe(e)}},{key:"publish",value:function(e,t){this.client.publish(e,t)}}]),e}();ot.client=void 0;var st={raiseHand:{channel:function(e){return"/raiseHand/".concat(e)},subscribe:function(e,t){ot.subscribe(this.channel(e),(function(e){return t(e)}))},unsubscribe:function(e){ot.unsubscribe(this.channel(e))},publish:function(e,t){ot.publish(this.channel(e),t)}},removeRaiseHand:{channel:function(e){return"/removeRaiseHand/".concat(e)},subscribe:function(e,t){ot.subscribe(this.channel(e),(function(e){return t(e)}))},unsubscribe:function(e){ot.unsubscribe(this.channel(e))},publish:function(e,t){ot.publish(this.channel(e),t)}},conferenceCall:{channel:function(e){return"/conferenceCall/".concat(e)},subscribe:function(e,t){ot.subscribe(this.channel(e),(function(e){return t(e)}))},unsubscribe:function(e){ot.unsubscribe(this.channel(e))},publish:function(e,t){ot.publish(this.channel(e),t)}},remoteDisconnect:{channel:function(e){return"/remoteDisconnect/".concat(e)},subscribe:function(e,t){ot.subscribe(this.channel(e),(function(e){return t(e)}))},unsubscribe:function(e){ot.unsubscribe(this.channel(e))},publish:function(e,t){ot.publish(this.channel(e),t)}},memberRemove:{channel:function(e){return"/memberRemove/".concat(e)},subscribe:function(e,t){ot.subscribe(this.channel(e),(function(e){return t(e)}))},unsubscribe:function(e){ot.unsubscribe(this.channel(e))},publish:function(e,t){ot.publish(this.channel(e),t)}},muteUsers:{channel:function(e){return"/muteUsers/".concat(e)},subscribe:function(e,t){ot.subscribe(this.channel(e),(function(e){return t(e)}))},unsubscribe:function(e){ot.unsubscribe(this.channel(e))},publish:function(e,t){ot.publish(this.channel(e),t)}},replaceActiveVideoBlock:{channel:function(e){return"/replaceActiveVideoBlock/".concat(e)},subscribe:function(e,t){ot.subscribe(this.channel(e),(function(e){return t(e)}))},unsubscribe:function(e){ot.unsubscribe(this.channel(e))},publish:function(e,t){ot.publish(this.channel(e),t)}},rtpTrackReplaced:{channel:function(e){return"/rtpTrackReplaced/".concat(e)},subscribe:function(e,t){ot.subscribe(this.channel(e),(function(e){return t(e)}))},unsubscribe:function(e){ot.unsubscribe(this.channel(e))},publish:function(e,t){ot.publish(this.channel(e),t)}},whiteboardEnabled:{channel:function(e){return"/whiteboardEnabled/".concat(e)},subscribe:function(e,t){ot.subscribe(this.channel(e),(function(e){return t(e)}))},unsubscribe:function(e){ot.unsubscribe(this.channel(e))},publish:function(e,t){ot.publish(this.channel(e),t)}},whiteboardDrawingSync:{channel:function(e){return"/whiteboardDrawingSync/".concat(e)},subscribe:function(e,t){ot.subscribe(this.channel(e),(function(e){return t(e)}))},unsubscribe:function(e){ot.unsubscribe(this.channel(e))},publish:function(e,t){ot.publish(this.channel(e),t)}},whiteboardDrawingAdd:{channel:function(e){return"/whiteboardDrawingAdd/".concat(e)},subscribe:function(e,t){ot.subscribe(this.channel(e),(function(e){return t(e)}))},unsubscribe:function(e){ot.unsubscribe(this.channel(e))},publish:function(e,t){ot.publish(this.channel(e),t)}},whiteboardCanvasClear:{channel:function(e){return"/whiteboardCanvasClear/".concat(e)},subscribe:function(e,t){ot.subscribe(this.channel(e),t)},unsubscribe:function(e){ot.unsubscribe(this.channel(e))},publish:function(e){ot.publish(this.channel(e),null)}}},lt=function(){function e(){Object(o.a)(this,e),this.meetingService=void 0,this.meetingRepository=void 0,this.meetingService=new Je,this.meetingRepository=new Ke}return Object(s.a)(e,[{key:"publishRTCTrackReplacedSocket",value:function(){var e=this.meetingService.getMeetingId(),t=this.meetingService.getConnectionId(),a=this.meetingRepository.getVideo(t);if(a){var n={connectionId:t,kind:a.kind};st.rtpTrackReplaced.publish(e,n)}}},{key:"replaceStream",value:function(e){var t=this.meetingService.getCalls();Object(d.forEach)(t,(function(t){var a=t.peerConnection.getSenders(),n=e.getTracks(),r=Object(d.find)(a,(function(e){var t=e.track;return"audio"===(null===t||void 0===t?void 0:t.kind)})),i=Object(d.find)(a,(function(e){var t=e.track;return"video"===(null===t||void 0===t?void 0:t.kind)})),c=Object(d.find)(n,(function(e){return"audio"===e.kind})),o=Object(d.find)(n,(function(e){return"video"===e.kind}));r&&c&&r.replaceTrack(c),i&&o&&i.replaceTrack(o)})),this.publishRTCTrackReplacedSocket()}}]),e}(),dt=function(){function e(){Object(o.a)(this,e),this.requestService=void 0,this.authService=void 0,this.requestService=new Oe,this.authService=new Ze}return Object(s.a)(e,[{key:"auth",value:function(e){this.authService.isHostAuth()&&this.requestService.get("/host/auth",(function(t){t||e.push($a.start.path)}))}}]),e}(),ut=a(97),ht=a.n(ut),mt=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={renderId:n.props.video.renderId},n.setSource=n.setSource.bind(Object(P.a)(n)),n}return Object(s.a)(a,[{key:"setSource",value:function(e){var t=this.props.video;e&&t&&(e.srcObject=t.stream)}},{key:"shouldComponentUpdate",value:function(e,t){var a=e.video.renderId,n=a!==t.renderId;return n&&this.setState({renderId:a}),n}},{key:"render",value:function(){var e=this;return r.a.createElement("video",{className:this.className,autoPlay:!0,muted:this.props.video.muted,playsInline:!0,ref:function(t){return e.setSource(t)}})}},{key:"className",get:function(){var e=!("screen"===this.props.video.kind)&&ht.a.horizontalFlip;return"".concat(ht.a.video," ").concat(e)}}]),a}(n.Component),vt=a(77),pt=a.n(vt),Ct=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).colors={removeHost:"danger",raiseHand:"warning"},e.icons={removeHost:L.o,raiseHand:L.l},e}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:pt.a.floatButton},r.a.createElement(l.f,{className:pt.a.button,color:this.color,size:"small",onClick:this.props.handleClick},r.a.createElement(l.h,{className:pt.a.icon,icon:this.icon})))}},{key:"color",get:function(){return this.colors[this.props.name]}},{key:"icon",get:function(){return this.icons[this.props.name]}}]),a}(n.Component),Et=a(146),bt=a.n(Et),gt=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return this.props.visibility&&r.a.createElement("div",{className:bt.a.raiseHand},r.a.createElement(Ct,{name:"raiseHand"}))}}]),a}(n.Component),ft=a(65),Nt=a.n(ft),_t=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleClick=n.handleClick.bind(Object(P.a)(n)),n}return Object(s.a)(a,[{key:"handleClick",value:function(){this.props.handleClick(this.props.video)}},{key:"render",value:function(){return r.a.createElement("div",{className:this.className,onClick:this.handleClick},r.a.createElement("div",{className:Nt.a.content},r.a.createElement(mt,{video:this.props.video}),r.a.createElement(gt,{visibility:this.props.video.raiseHand})))}},{key:"className",get:function(){var e=Nt.a[this.props.ratio],t=Object(l.u)("mobile")&&Nt.a.mobile;return"".concat(Nt.a.videoBlock," ").concat(e," ").concat(t)}}]),a}(n.Component),wt=function(){function e(){Object(o.a)(this,e),this.whiteboardCanvasService=void 0,this.whiteboardCanvasService=new nt}return Object(s.a)(e,[{key:"setColor",value:function(e){this.brush.color=e}},{key:"setSize",value:function(e){this.brush.width=parseInt(e,10)}},{key:"brush",get:function(){return this.whiteboardCanvasService.getCanvas().freeDrawingBrush}}]),e}(),kt=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).whiteboardCanvasService=void 0,n.whiteboardCanvasService=new nt,n}return Object(s.a)(a,[{key:"setDimensions",value:function(){var e,t,a=null===(e=document.getElementById("newMainContentRightInnerTextarea"))||void 0===e?void 0:e.clientWidth,n=a||900,r=null===(t=document.getElementById("newMainContentRightInnerTextarea"))||void 0===t?void 0:t.clientHeight,i=Object(l.u)("mobile")?n:r;this.whiteboardCanvasService.setDimensions(a,i)}},{key:"componentDidMount",value:function(){this.whiteboardCanvasService.initialize(),this.setDimensions()}},{key:"render",value:function(){return r.a.createElement("div",{onMouseDown:this.props.handleClick,onTouchStart:this.props.handleClick},r.a.createElement("canvas",{id:"whiteboardCanvas"}))}}]),a}(n.Component),yt=a(98),St=a.n(yt),Ot=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).icons={color:L.k,size:L.d,zoomIn:L.a,zoomOut:L.p,clear:L.u},n.handleClick=n.handleClick.bind(Object(P.a)(n)),n}return Object(s.a)(a,[{key:"handleClick",value:function(){this.props.handleClick(this.props.name)}},{key:"render",value:function(){return r.a.createElement(l.h,{className:this.className,icon:this.icon,onClick:this.handleClick})}},{key:"className",get:function(){var e=Object(l.u)("mobile")&&St.a.mobile;return"".concat(St.a.whiteboardMenuItem," ").concat(e)}},{key:"icon",get:function(){return this.icons[this.props.name]}}]),a}(n.Component),jt=a(99),Mt=a.n(jt),It=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleClick=n.handleClick.bind(Object(P.a)(n)),n}return Object(s.a)(a,[{key:"handleClick",value:function(){this.props.handleClick(this.props.color)}},{key:"render",value:function(){return r.a.createElement("div",{className:this.className,style:this.style,onClick:this.handleClick})}},{key:"className",get:function(){var e=this.props.active&&Mt.a.active;return"".concat(Mt.a.whiteboardBrushColorItem," ").concat(e)}},{key:"style",get:function(){return{background:this.props.color.hex}}}]),a}(n.Component),Rt=a(147),At=a.n(Rt),Bt=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).whiteboardBrushService=void 0,n.whiteboardBrushService=new wt,n}return Object(s.a)(a,[{key:"isActiveColor",value:function(e){return e.hex===this.props.color}},{key:"render",value:function(){return r.a.createElement("div",{className:At.a.whiteboardBrushColor},this.colors)}},{key:"colors",get:function(){var e=this;return a.colors.map((function(t){return r.a.createElement(It,{color:t,active:e.isActiveColor(t),handleClick:e.props.handleChange,key:t.name})}))}}]),a}(n.Component);Bt.colors=[{name:"black",hex:"#000000"},{name:"brown",hex:"#795548"},{name:"red",hex:"#D0021B"},{name:"purple",hex:"#E040FB"},{name:"blue",hex:"#03A9F4"},{name:"green",hex:"#009688"},{name:"lime",hex:"#8BC34A"},{name:"yellow",hex:"#FFC107"},{name:"gray",hex:"#9E9E9E"}];var xt=a(78),Dt=a.n(xt),Tt=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).whiteboardBrushService=void 0,n.whiteboardBrushService=new wt,n}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:Dt.a.whiteboardBrushSize},r.a.createElement("div",{className:Dt.a.size},this.size),r.a.createElement("input",{className:Dt.a.sizeInput,type:"range",min:"1",max:"10",value:this.props.size,onChange:this.props.handleChange}))}},{key:"size",get:function(){return"".concat(this.props.size,"x")}}]),a}(n.Component),Ht=a(100),Pt=a.n(Ht),Vt=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"isActive",value:function(e){return this.props.active===e}},{key:"render",value:function(){return this.props.active&&r.a.createElement("div",{className:this.className},this.whiteboardBrushColor,this.whiteboardBrushSize)}},{key:"className",get:function(){var e=this.isActive("size")&&Pt.a.brushSizeWrapper;return"".concat(Pt.a.whiteboardMenuContent," ").concat(e)}},{key:"whiteboardBrushColor",get:function(){return this.isActive("color")&&r.a.createElement(Bt,{color:this.props.brushColor,handleChange:this.props.handleBrushColorChange})}},{key:"whiteboardBrushSize",get:function(){return this.isActive("size")&&r.a.createElement(Tt,{size:this.props.brushSize,handleChange:this.props.handleBrushSizeChange})}}]),a}(n.Component),Lt=a(148),Ut=a.n(Lt),Wt=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).whiteboardCanvasService=void 0,n.whiteboardCanvasService=new nt,n.handleItemClick=n.handleItemClick.bind(Object(P.a)(n)),n}return Object(s.a)(a,[{key:"clearMenu",value:function(){this.props.handleActiveMenuClick(null)}},{key:"replaceActiveMenu",value:function(e){this.props.activeMenu===e?this.clearMenu():this.props.handleActiveMenuClick(e)}},{key:"zoomCanvas",value:function(e){this.whiteboardCanvasService.zoom(e),this.clearMenu()}},{key:"clearCanvas",value:function(){this.whiteboardCanvasService.clear(),this.props.handleCanvasClearClick(),this.clearMenu()}},{key:"handleItemClick",value:function(e){switch(e){case"color":this.replaceActiveMenu("color");break;case"size":this.replaceActiveMenu("size");break;case"zoomIn":this.zoomCanvas("in");break;case"zoomOut":this.zoomCanvas("out");break;case"clear":this.clearCanvas()}}},{key:"render",value:function(){return r.a.createElement("div",{className:Ut.a.whiteboardMenu},this.menuItems,r.a.createElement(Vt,{active:this.props.activeMenu,brushColor:this.props.brushColor,brushSize:this.props.brushSize,handleBrushColorChange:this.props.handleBrushColorChange,handleBrushSizeChange:this.props.handleBrushSizeChange}))}},{key:"menuItems",get:function(){var e=this;return a.items.map((function(t){return r.a.createElement(Ot,{name:t,handleClick:e.handleItemClick,key:t})}))}}]),a}(n.Component);Wt.items=["color","size","zoomIn","zoomOut","clear"];var zt=a(149),Ft=a.n(zt),Gt=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).whiteboardDrawingService=void 0,n.whiteboardBrushService=void 0,n.whiteboardDrawingService=new rt,n.whiteboardBrushService=new wt,n.handleCanvasClick=n.handleCanvasClick.bind(Object(P.a)(n)),n.handleActiveMenuClick=n.handleActiveMenuClick.bind(Object(P.a)(n)),n.handleBrushColorChange=n.handleBrushColorChange.bind(Object(P.a)(n)),n.handleBrushSizeChange=n.handleBrushSizeChange.bind(Object(P.a)(n)),n}return Object(s.a)(a,[{key:"handleCanvasClick",value:function(){this.props.replaceActiveMenu(null)}},{key:"handleActiveMenuClick",value:function(e){this.props.replaceActiveMenu(e)}},{key:"handleAddDrawing",value:function(){var e=this;this.whiteboardDrawingService.handleAdd((function(t){e.props.handleDrawingAdd(t)}))}},{key:"handleBrushColorChange",value:function(e){this.whiteboardBrushService.setColor(e.hex),this.props.replaceColor(e.hex)}},{key:"handleBrushSizeChange",value:function(e){var t=e.target.value;this.whiteboardBrushService.setSize(t),this.props.replaceSize(t)}},{key:"syncDrawing",value:function(){var e=this,t=this.props.drawings;Object(d.forEach)(t,(function(t){!t._set?e.whiteboardDrawingService.parse(t,(function(t){e.whiteboardDrawingService.add(t)})):e.whiteboardDrawingService.add([t])}))}},{key:"setPresets",value:function(){this.whiteboardBrushService.setSize(this.props.brushSize),this.whiteboardBrushService.setColor(this.props.brushColor)}},{key:"componentDidMount",value:function(){this.handleAddDrawing(),this.syncDrawing(),this.setPresets()}},{key:"render",value:function(){return r.a.createElement("div",{className:Ft.a.whiteboard},r.a.createElement(kt,{handleClick:this.handleCanvasClick}),r.a.createElement(Wt,{activeMenu:this.props.activeMenu,brushColor:this.props.brushColor,brushSize:this.props.brushSize,handleBrushColorChange:this.handleBrushColorChange,handleBrushSizeChange:this.handleBrushSizeChange,handleCanvasClearClick:this.props.handleCanvasClearClick,handleActiveMenuClick:this.handleActiveMenuClick}))}}]),a}(n.Component),qt=Object(V.b)((function(e){return Object(d.cloneDeep)(e.whiteboard)}),{replaceActiveMenu:function(e){return{type:"REPLACE_WHITEBOARD_ACTIVE_MENU",activeMenu:e}},replaceSize:function(e){return{type:"REPLACE_WHITEBOARD_BRUSH_SIZE",brushSize:e}},replaceColor:function(e){return{type:"REPLACE_WHITEBOARD_BRUSH_COLOR",brushColor:e}}})(Gt),Xt=a(66),Zt=a.n(Xt),Jt=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(l.d,{className:this.className},this.videoBlock,this.whiteboard)}},{key:"className",get:function(){var e=Object(l.u)("mobile")&&Zt.a.mobile;return"".concat(Zt.a.activeVideo," ").concat(e)}},{key:"videoBlockClassName",get:function(){var e=this.props.whiteboardEnabled&&Zt.a.hide;return"".concat(Zt.a.videoBlock," ").concat(e)}},{key:"videoBlock",get:function(){return this.props.video&&r.a.createElement("div",{className:this.videoBlockClassName,style:{height:"100%"}},r.a.createElement(_t,{ratio:"full",video:this.props.video,handleClick:this.props.handleVideoBlockClick}))}},{key:"whiteboard",get:function(){return r.a.createElement(qt,{drawings:this.props.whiteboardDrawings,handleCanvasClearClick:this.props.handleWhiteboardCanvasClearClick,handleDrawingAdd:this.props.handleWhiteboardDrawingAdd})}}]),a}(n.Component),Yt=a(79),Kt=a.n(Yt),Qt=a(35),$t=(a(215),a(73)),ea=a.n($t),ta=a(150),aa=a(152),na=a.n(aa);var ra=function(e){var t=e.children,a=Object(n.useState)(!1),i=Object(Qt.a)(a,2),c=i[0],o=i[1];return r.a.createElement(na.a,{onOpen:function(){return o(!0)},onClose:function(){return o(!1)},trigger:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-evenly"}},r.a.createElement("text",null,"Tools"),e?r.a.createElement("img",{src:"./assets/backArrow.png",height:15,width:20,style:{transform:"rotate(90deg)"},alt:""}):r.a.createElement("img",{src:"./assets/backArrow.png",height:15,width:20,alt:""})),r.a.createElement("hr",{className:"horizontal"}))}(c)},t)};var ia=function(e){var t,a,i,c,o,s,d=e.values,u=e.videos,h=e.getFirstVideo,m=e.activeVideo,v=e.canInviteMember,p=e.canRaiseHand,C=e.canEndMeeting,E=e.canVideoMute,b=e.canAudioMute,g=e.canScreenShare,f=e.canWhiteboardEnable,N=e.canMemberRemove,_=e.inviteText,w=e.handleRaiseHandClick,k=e.handleEndMeetingClick,y=(e.handleVideoClick,e.handleMenuVideoClick),S=e.handleAudioClick,O=e.handleScreenShareClick,j=e.handleWhiteboardClick,M=e.handleMemberRemoveClick,I=e.handleRemoveRaiseHand,R=e.handleMenuRemoveRaiseHandForAdmin,A=e.handleMenuMuteforAdmin,B=e.handleAdminCheck,x=(d=d||1,Object(n.useState)("blue")),D=Object(Qt.a)(x,2),T=D[0],H=D[1],P=Object(n.useState)(!1),V=Object(Qt.a)(P,2),L=V[0],U=V[1],W=Object(n.useState)(!1),z=Object(Qt.a)(W,2),F=z[0],G=z[1],q=Object(n.useState)(!0),X=Object(Qt.a)(q,2),Z=X[0],J=(X[1],function(){U(!L)}),Y=function(){for(var e=[r.a.createElement("div",{className:"changeNewBorderColor ".concat(T," vidCapture").concat(d,"_",1)},u[0])],t=1;t<d;t++)3===t&&e.push(r.a.createElement("div",{className:"changeNewBorderColor ".concat(T," vidCapture").concat(d,"_",2)},u[t]));return e},K=function(){if(!(d<=1)){for(var e=[],t=1;t<d;t++){d>=4&&2==t||d>=13&&t>=13||e.push(r.a.createElement("div",{className:"changeNewBorderColor ".concat(T," vidCapture").concat(d,"_").concat(t+1)},u[t]))}return e}},Q=function(e){var t=e.target.id;H(t)};return r.a.createElement("div",{id:"container"},r.a.createElement("div",{id:"contentContainer"},r.a.createElement("aside",{id:"nav_side"},L&&!F?r.a.createElement("div",{id:"mySidepanel",style:{color:"white",padding:20},className:"sidepanel"},r.a.createElement("div",{style:{height:"100%",border:"1px solid #FFFFFF",display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center"}},r.a.createElement("a",{className:"closebtn",onClick:J},"\xd7"),r.a.createElement("div",{className:"upperContainer"},r.a.createElement("div",{className:"menuItemSidebar active  : ''}",onClick:p?w:I},p?"Raise hand":"Unraise Hand"),r.a.createElement("hr",{className:"horizontal"}),B()&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"menuItemSidebar active  : ''}",onClick:R},"Remove Raised Hand"),r.a.createElement("hr",{className:"horizontal"}),r.a.createElement("div",{className:"menuItemSidebar active  : ''}",onClick:A},"Mute Users"),r.a.createElement("hr",{className:"horizontal"}),r.a.createElement("div",{className:"menuItemSidebar active",onClick:function(){v&&(Object(l.u)("hybrid")?ta.a.share(_):(ea()(_),ue.push("Invitation copied.")))}},"Invite Guests"),r.a.createElement("hr",{className:"horizontal"}),r.a.createElement("div",{className:"menuItemSidebar ".concat(N?"active":""),onClick:M},"Remove Member"),r.a.createElement("hr",{className:"horizontal"}),r.a.createElement(ra,null,r.a.createElement("div",{className:"menuItemSidebar ",onClick:""},"Chat"),r.a.createElement("hr",{className:"horizontal"}),r.a.createElement("div",{className:"menuItemSidebar ",onClick:""},"Display File"),r.a.createElement("hr",{className:"horizontal"}),r.a.createElement("div",{className:"menuItemSidebar ",onClick:""},"Display Video"),r.a.createElement("hr",{className:"horizontal"}),r.a.createElement("div",{className:"menuItemSidebar ".concat(g?"active":""),onClick:O},"Share Screen"),r.a.createElement("hr",{className:"horizontal"}),r.a.createElement("div",{className:"menuItemSidebar ".concat(f?"active":""),onClick:j},"White Board"),r.a.createElement("hr",{className:"horizontal"}))),r.a.createElement("div",{className:"menuItemSidebar ".concat(b?"active":""),onClick:S},"Mute Audio"),r.a.createElement("hr",{className:"horizontal"}),r.a.createElement("div",{className:"menuItemSidebar active",onClick:function(){G(!0)}},"Today's Colors"),r.a.createElement("hr",{className:"horizontal"})),r.a.createElement("div",{className:"lowerContainer"},r.a.createElement("hr",{className:"HRdivider"}),r.a.createElement("div",{className:"menuItemSidebarlower active",onClick:y},E?" Pause Session":"Unpause Session"),r.a.createElement("div",{className:"menuItemSidebarlower ".concat(C?"active":""),onClick:k},"End Session")))):L?r.a.createElement("div",{id:"mySidepanel",style:{color:"white",padding:20},className:"sidepanel"},r.a.createElement("div",{style:{height:"100%",border:"1px solid #FFFFFF",display:"flex",flexDirection:"column",alignItems:"center"}},r.a.createElement("a",{className:"backbtn",onClick:function(){G(!1)}},r.a.createElement("img",{src:"./assets/backArrow.png",style:{transform:"scaleX(-1)",margin:"20px 0px"},height:40,width:40,alt:""})),r.a.createElement("img",{width:150,src:"/assets/today_color_text.png",style:{marginRight:10},alt:""}),r.a.createElement("div",{id:"newCaptureBorderColorsContainer"},r.a.createElement("hr",{id:"green",style:{border:"5px solid #82ED93",width:"80%"},onClick:Q}),r.a.createElement("hr",{id:"aqua",style:{border:"5px solid #4EF2DE",width:"80%"},onClick:Q}),r.a.createElement("hr",{id:"red",style:{border:"5px solid #F71C1C",width:"80%"},onClick:Q}),r.a.createElement("hr",{id:"orange",style:{border:"5px solid #F29B1A",width:"80%"},onClick:Q})))):r.a.createElement("button",{className:"openbtn",id:"openbtn",onClick:J},"\u2630")),r.a.createElement("main",null,r.a.createElement("div",{className:"mainTop"},d>=27?null:26===d?r.a.createElement("div",{id:"newMainContentAreaX26"},r.a.createElement("div",{className:"x22Header"},r.a.createElement("div",{className:"changeNewBorderColor vidCapture22_22"},u[21]),r.a.createElement("div",{className:"newMainContentHeaderBg26"}),r.a.createElement("div",{className:"changeNewBorderColor vidCapture26_26"},"Balcony Seats"),r.a.createElement("div",{className:"changeNewBorderColor vidCapture25_25"},u[24]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture24_24"},u[23]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture23_23"},u[22])),r.a.createElement("div",{className:"x21Lower"},r.a.createElement("div",{className:"x18Right"},r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_1"},u[0]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_2"},u[1]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_11"},u[10]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_12"},u[11]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_18"},u[17]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_19"},u[18]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_20"},u[19]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_21"},u[20])),r.a.createElement("div",{className:"x18Middle"},r.a.createElement("div",{className:"newMainContentMiddleX13"},r.a.createElement("div",{className:"newMainContentRightInner"},r.a.createElement("div",{className:"newMainContentRightInnerTextarea"},r.a.createElement("div",{className:"newMainContentTextarea"},m)))),r.a.createElement("div",{className:"x13BottomVidsAlt"},r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_17"},u[16]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_16"},u[15]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_15"},u[14]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_14"},u[13]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_13"},u[12]))),r.a.createElement("div",{className:"x18Right"},r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_3"},u[2]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_4"},u[3]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_5"},u[4]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_6"},u[5]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_7"},u[6]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_8"},u[7]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_9"},u[8]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_10"},u[9])))):25===d?r.a.createElement("div",{id:"newMainContentAreaX25"},r.a.createElement("div",{className:"x22Header"},r.a.createElement("div",{className:"changeNewBorderColor vidCapture22_22"},u[21]),r.a.createElement("div",{className:Z?"newMainContentHeaderBg25":"newMainContentHeaderBgZ25"}),r.a.createElement("div",{className:"changeNewBorderColor vidCapture25_25"},u[24]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture24_24"},u[23]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture23_23"},u[22])),r.a.createElement("div",{className:"x21Lower"},r.a.createElement("div",{className:"x18Right"},r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_1"},u[0]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_2"},u[1]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_11"},u[10]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_12"},u[11]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_18"},u[17]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_19"},u[18]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_20"},u[19]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_21"},u[20])),r.a.createElement("div",{className:"x18Middle"},r.a.createElement("div",{className:"newMainContentMiddleX13"},r.a.createElement("div",{className:"newMainContentRightInner"},r.a.createElement("div",{className:"newMainContentRightInnerTextarea"},r.a.createElement("div",{className:"newMainContentRightInnerTextarea"},m)))),r.a.createElement("div",{className:"x13BottomVidsAlt"},r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_17"},u[16]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_16"},u[15]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_15"},u[14]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_14"},u[13]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_13"},u[12]))),r.a.createElement("div",{className:"x18Right"},r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_3"},u[2]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_4"},u[3]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_5"},u[4]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_6"},u[5]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_7"},u[6]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_8"},u[7]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_9"},u[8]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_10"},u[9])))):24===d?r.a.createElement("div",{id:"newMainContentAreaX24"},r.a.createElement("div",{className:"x22Header"},r.a.createElement("div",{className:"changeNewBorderColor vidCapture22_22"},u[21]),r.a.createElement("div",{className:Z?"newMainContentHeaderBg24":"newMainContentHeaderBgZ24"}),r.a.createElement("div",{className:"changeNewBorderColor vidCapture24_24"},u[23]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture23_23"},u[22])),r.a.createElement("div",{className:"x21Lower"},r.a.createElement("div",{className:"x18Right"},r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_1"},u[0]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_2"},u[1]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_11"},u[10]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_12"},u[11]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_18"},u[17]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_19"},u[18]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_20"},u[19]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_21"},u[20])),r.a.createElement("div",{className:"x18Middle"},r.a.createElement("div",{className:"newMainContentMiddleX13"},r.a.createElement("div",{className:"newMainContentRightInner"},r.a.createElement("div",{className:"newMainContentRightInnerTextarea"},r.a.createElement("div",{className:"newMainContentRightInnerTextarea"},m)))),r.a.createElement("div",{className:"x13BottomVidsAlt"},r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_17"},u[16]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_16"},u[15]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_15"},u[14]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_14"},u[13]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_13"},u[12]))),r.a.createElement("div",{className:"x18Right"},r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_3"},u[2]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_4"},u[3]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_5"},u[4]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_6"},u[5]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_7"},u[6]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_8"},u[7]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_9"},u[8]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_10"},u[9])))):23===d?r.a.createElement("div",{id:"newMainContentAreaX23"},r.a.createElement("div",{className:"x22Header"},r.a.createElement("div",{className:"changeNewBorderColor vidCapture22_22"},u[21]),r.a.createElement("div",{className:Z?"newMainContentHeaderBg23":"newMainContentHeaderBgZ23"}),r.a.createElement("div",{className:"chan geNewBorderColor vidCapture23_23"},u[22])),r.a.createElement("div",{className:"x21Lower"},r.a.createElement("div",{className:"x18Right"},r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_1"},u[0]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_2"},u[1]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_11"},u[10]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_12"},u[11]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_18"},u[17]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_19"},u[18]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_20"},u[19]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_21"},u[20])),r.a.createElement("div",{className:"x18Middle"},r.a.createElement("div",{className:"newMainContentMiddleX13"},r.a.createElement("div",{className:"newMainContentRightInner"},r.a.createElement("div",{className:"newMainContentRightInnerTextarea"},r.a.createElement("div",{className:"newMainContentRightInnerTextarea"},m)))),r.a.createElement("div",{className:"x13BottomVidsAlt"},r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_17"},u[16]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_16"},u[15]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_15"},u[14]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_14"},u[13]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_13"},u[12]))),r.a.createElement("div",{className:"x18Right"},r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_3"},u[2]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_4"},u[3]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_5"},u[4]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_6"},u[5]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_7"},u[6]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_8"},u[7]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_9"},u[8]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_10"},u[9])))):22===d?r.a.createElement("div",{id:"newMainContentAreaX22"},r.a.createElement("div",{className:"x22Header"},r.a.createElement("div",{className:"changeNewBorderColor vidCapture22_22"},u[22]),r.a.createElement("div",{className:Z?"newMainContentHeaderBg22":"newMainContentHeaderBgZ22"})),r.a.createElement("div",{className:"x21Lower"},r.a.createElement("div",{className:"x18Right"},r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_1"},u[0]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_2"},u[1]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_11"},u[10]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_12"},u[11]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_18"},u[17]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_19"},u[18]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_20"},u[19]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_21"},u[20])),r.a.createElement("div",{className:"x18Middle"},r.a.createElement("div",{className:"newMainContentMiddleX13"},r.a.createElement("div",{className:"newMainContentRightInner"},r.a.createElement("div",{className:"newMainContentRightInnerTextarea"},r.a.createElement("div",{className:"newMainContentRightInnerTextarea"},m)))),r.a.createElement("div",{className:"x13BottomVidsAlt"},r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_17"},u[16]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_16"},u[15]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_15"},u[14]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_14"},u[13]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_13"},u[12]))),r.a.createElement("div",{className:"x18Right"},r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_3"},u[2]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_4"},u[3]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_5"},u[4]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_6"},u[5]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_7"},u[6]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_8"},u[7]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_9"},u[8]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_10"},u[9])))):21===d?r.a.createElement("div",{id:"newMainContentAreaX21"},r.a.createElement("div",{className:Z?"newMainContentHeaderBg21":"newMainContentHeaderBgZ21"}),r.a.createElement("div",{className:"x21Lower"},r.a.createElement("div",{className:"x18Right"},r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_1"},u[0]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_2"},u[1]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_11"},u[10]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_12"},u[11]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_18"},u[17]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_19"},u[18]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_20"},u[19]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_21"},u[20])),r.a.createElement("div",{className:"x18Middle"},r.a.createElement("div",{className:"newMainContentMiddleX13"},r.a.createElement("div",{className:"newMainContentRightInner"},r.a.createElement("div",{className:"newMainContentRightInnerTextarea"},r.a.createElement("div",{className:"newMainContentRightInnerTextarea"},m)))),r.a.createElement("div",{className:"x13BottomVidsAlt"},r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_17"},u[16]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_16"},u[15]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_15"},u[14]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_14"},u[13]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_13"},u[12]))),r.a.createElement("div",{className:"x18Right"},r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_3"},u[2]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_4"},u[3]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_5"},u[4]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_6"},u[5]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_7"},u[6]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_8"},u[7]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_9"},u[8]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_10"},u[9])))):20===d?r.a.createElement("div",{id:"newMainContentAreaX20"},r.a.createElement("div",{className:"x11Left18"},r.a.createElement("div",{className:"newMainContentLeftX20"},r.a.createElement("div",{className:"changeNewBorderColor vidCapture20_1"},u[0])),r.a.createElement("div",{className:"x20BottomVidsAlt"},r.a.createElement("div",{className:"changeNewBorderColor vidCapture20_2"},u[1]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture20_20"},u[19]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture20_19"},u[18]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture20_18"},u[17]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture20_12"},u[11]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture20_11"},u[10]))),r.a.createElement("div",{className:"x11Right18"},r.a.createElement("div",{className:"x18Upper"},r.a.createElement("div",{className:Z?"newMainContentHeaderBgX18":"newMainContentHeaderBgZX18"})),r.a.createElement("div",{className:"x18Lower"},r.a.createElement("div",{className:"x18Middle"},r.a.createElement("div",{className:"newMainContentMiddleX13"},r.a.createElement("div",{className:"newMainContentRightInner"},r.a.createElement("div",{className:"newMainContentRightInnerTextarea"},r.a.createElement("div",{className:"newMainContentRightInnerTextarea"},m)))),r.a.createElement("div",{className:"x13BottomVidsAlt"},r.a.createElement("div",{className:"changeNewBorderColor vidCapture20_17"},u[16]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture20_16"},u[15]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture20_15"},u[14]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture20_14"},u[13]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture20_13"},u[12]))),r.a.createElement("div",{className:"x18Right"},r.a.createElement("div",{className:"changeNewBorderColor vidCapture20_3"},u[2]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture20_4"},u[3]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture20_5"},u[4]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture20_6"},u[5]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture20_7"},u[6]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture20_8"},u[7]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture20_9"},u[8]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture20_10"},u[9]))))):19===d?r.a.createElement("div",{id:"newMainContentAreaX19"},r.a.createElement("div",{className:"x11Left18"},r.a.createElement("div",{className:"newMainContentLeftX18"},r.a.createElement("div",{className:"changeNewBorderColor vidCapture19_1"},u[0]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture19_2"},u[1])),r.a.createElement("div",{className:"x18BottomVidsAlt"},r.a.createElement("div",{className:"changeNewBorderColor vidCapture19_19"},u[18]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture19_18"},u[17]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture19_12"},u[11]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture19_11"},u[10]))),r.a.createElement("div",{className:"x11Right18"},r.a.createElement("div",{className:"x18Upper"},r.a.createElement("div",{className:Z?"newMainContentHeaderBgX18":"newMainContentHeaderBgZX18"})),r.a.createElement("div",{className:"x18Lower"},r.a.createElement("div",{className:"x18Middle"},r.a.createElement("div",{className:"newMainContentMiddleX13"},r.a.createElement("div",{className:"newMainContentRightInner"},r.a.createElement("div",{className:"newMainContentRightInnerTextarea"},r.a.createElement("div",{className:"newMainContentRightInnerTextarea"},m)))),r.a.createElement("div",{className:"x13BottomVidsAlt"},r.a.createElement("div",{className:"changeNewBorderColor vidCapture19_17"},u[16]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture19_16"},u[15]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture19_15"},u[14]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture19_14"},u[13]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture19_13"},u[12]))),r.a.createElement("div",{className:"x18Right"},r.a.createElement("div",{className:"changeNewBorderColor vidCapture19_3"},u[2]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture19_4"},u[3]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture19_5"},u[4]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture19_6"},u[5]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture19_7"},u[6]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture19_8"},u[7]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture19_9"},u[8]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture19_10"},u[9]))))):18===d?r.a.createElement("div",{id:"newMainContentAreaX18"},r.a.createElement("div",{className:"x11Left18"},r.a.createElement("div",{className:"newMainContentLeftX18"},r.a.createElement("div",{className:"changeNewBorderColor vidCapture18_1"},u[0])),r.a.createElement("div",{className:"x18BottomVidsAlt"},r.a.createElement("div",{className:"changeNewBorderColor vidCapture18_2"},u[1]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture18_18"},u[17]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture18_12"},u[11]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture18_11"},u[10]))),r.a.createElement("div",{className:"x11Right18"},r.a.createElement("div",{className:"x18Upper"},r.a.createElement("div",{className:Z?"newMainContentHeaderBgX18":"newMainContentHeaderBgZX18"})),r.a.createElement("div",{className:"x18Lower"},r.a.createElement("div",{className:"x18Middle"},r.a.createElement("div",{className:"newMainContentMiddleX13"},r.a.createElement("div",{className:"newMainContentRightInner"},r.a.createElement("div",{className:"newMainContentRightInnerTextarea"},r.a.createElement("div",{className:"newMainContentRightInnerTextarea"},m)))),r.a.createElement("div",{className:"x13BottomVidsAlt"},r.a.createElement("div",{className:"changeNewBorderColor vidCapture18_17"},u[16]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture18_16"},u[15]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture18_15"},u[14]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture18_14"},u[13]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture18_13"},u[12]))),r.a.createElement("div",{className:"x18Right"},r.a.createElement("div",{className:"changeNewBorderColor vidCapture18_3"},u[2]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture18_4"},u[3]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture18_5"},u[4]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture18_6"},u[5]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture18_7"},u[6]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture18_8"},u[7]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture18_9"},u[8]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture18_10"},u[9]))))):r.a.createElement("div",{id:"newMainContentAreaX".concat(d)},d>=11?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"x11Left"},r.a.createElement("div",{className:Z?"newMainContentHeaderBgX12":"newMainContentHeaderBgZX12"}),r.a.createElement("div",{className:"newMainContentMain"},r.a.createElement("div",{className:"newMainContentLeft".concat(d>=12?"X11":d>1?"X".concat(d):"")},null===(t=Y())||void 0===t?void 0:t.map((function(e){return e}))),d>=13?r.a.createElement("div",{className:"x13Middle"},r.a.createElement("div",{className:"newMainContentMiddleX13"},r.a.createElement("div",{className:"newMainContentRightInner"},r.a.createElement("div",{className:"newMainContentRightInnerTextarea"},r.a.createElement("div",{className:"newMainContentRightInnerTextarea"},m)))),r.a.createElement("div",{className:"x13BottomVids"},null===(a=function(){var e=[];if(d>=13){for(var t=13;t<=d;t++)e.push(r.a.createElement("div",{className:"changeNewBorderColor ".concat(T," vidCapture").concat(d,"_").concat(t)},u[t-2]));return e}}())||void 0===a?void 0:a.map((function(e){return e})))):r.a.createElement("div",{className:"".concat(d>=12?"newMainContentMiddleX11":d>1?"newMainContentMiddleX".concat(d):"newMainContentRight")},r.a.createElement("div",{className:"newMainContentRightInner"},r.a.createElement("div",{className:"newMainContentRightInnerTextarea"},r.a.createElement("div",{className:"newMainContentRightInnerTextarea"},m)))))),r.a.createElement("div",{className:"x11Right"},null===(i=K())||void 0===i?void 0:i.map((function(e){return e})))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:Z?"newMainContentHeaderBg":"newMainContentHeaderBgZ"}),r.a.createElement("div",{className:"newMainContentMain"},r.a.createElement("div",{className:"newMainContentLeft".concat(d>1?"X".concat(d):"")},null===(c=Y())||void 0===c?void 0:c.map((function(e){return e}))),r.a.createElement("div",{className:"".concat(d>1?"newMainContentMiddleX".concat(d):"newMainContentRight")},r.a.createElement("div",{className:"newMainContentRightInner"},r.a.createElement("div",{id:"newMainContentRightInnerTextarea",className:"newMainContentRightInnerTextarea"},m))),r.a.createElement("div",{className:"newMainContentRightX".concat(d)},null===(o=K())||void 0===o?void 0:o.map((function(e){return e}))))))),r.a.createElement("div",{className:"container_FM"},r.a.createElement("div",{style:{width:"90%"}},r.a.createElement("div",{style:{marginBottom:"10px"}},r.a.createElement("img",{height:"50",width:"100%",src:Z?"/assets/bannerText.png":"/assets/bannerlogo.png",alt:""})),r.a.createElement("div",{style:{marginBottom:"10px"},className:"MiddleSection"},r.a.createElement("div",{className:"middleSectionInnerContainer"},m)),r.a.createElement("div",{style:{marginBottom:"10px"},className:"videoCaptureConatainer"},null===(s=function(){for(var e=[r.a.createElement("div",{className:"changeNewBorderColor ".concat(T," videoCapture")},h)],t=1;t<d;t++)e.push(r.a.createElement("div",{className:"videoCapture"},u[t]));return e}())||void 0===s?void 0:s.map((function(e){return e}))))))))},ca=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).peerService=void 0,n.mediaService=void 0,n.meetingService=void 0,n.videoService=void 0,n.authService=void 0,n.notificationService=void 0,n.whiteboardDrawingService=void 0,n.whiteboardCanvasService=void 0,n.screenCaptureService=void 0,n.rtpSenderService=void 0,n.streamTrackService=void 0,n.appStorage=void 0,n.hostMiddleware=void 0,n.meetingRepository=void 0,n.peerService=new Xe,n.mediaService=new Ye,n.meetingService=new Je,n.videoService=new $e,n.authService=new Ze,n.notificationService=new tt,n.whiteboardDrawingService=new rt,n.whiteboardCanvasService=new nt,n.screenCaptureService=new it,n.rtpSenderService=new lt,n.streamTrackService=new Qe,n.appStorage=new Se,n.hostMiddleware=new dt,n.hostMiddleware.auth(n.props.history),n.meetingRepository=new Ke,n.handleMenuRaiseHandClick=n.handleMenuRaiseHandClick.bind(Object(P.a)(n)),n.handleMenuEndMeetingClick=n.handleMenuEndMeetingClick.bind(Object(P.a)(n)),n.handleMenuVideoClick=n.handleMenuVideoClick.bind(Object(P.a)(n)),n.handleMenuAudioClick=n.handleMenuAudioClick.bind(Object(P.a)(n)),n.handleMenuScreenShareClick=n.handleMenuScreenShareClick.bind(Object(P.a)(n)),n.handleMenuWhiteboardClick=n.handleMenuWhiteboardClick.bind(Object(P.a)(n)),n.handleMenuMemberRemoveClick=n.handleMenuMemberRemoveClick.bind(Object(P.a)(n)),n.handleVideoBlockClick=n.handleVideoBlockClick.bind(Object(P.a)(n)),n.handleWhiteboardCanvasClearClick=n.handleWhiteboardCanvasClearClick.bind(Object(P.a)(n)),n.handleWhiteboardDrawingAdd=n.handleWhiteboardDrawingAdd.bind(Object(P.a)(n)),n.handleRemoteRemoveRaiseHand=n.handleRemoteRemoveRaiseHand.bind(Object(P.a)(n)),n.handleMenuRemoveRaiseHand=n.handleMenuRemoveRaiseHand.bind(Object(P.a)(n)),n.handleRemoveRaiseHandforAdmin=n.handleRemoveRaiseHandforAdmin.bind(Object(P.a)(n)),n.handleMenuRemoveRaiseHandForAdmin=n.handleMenuRemoveRaiseHandForAdmin.bind(Object(P.a)(n)),n.handleAdminCheck=n.handleAdminCheck.bind(Object(P.a)(n)),n.handleMuteforAdmin=n.handleMuteforAdmin.bind(Object(P.a)(n)),n.handleMenuMuteforAdmin=n.handleMenuMuteforAdmin.bind(Object(P.a)(n)),n.handleActiveVideoBlockforAdmin=n.handleActiveVideoBlockforAdmin.bind(Object(P.a)(n)),n}return Object(s.a)(a,[{key:"findUservideo",value:function(e){return Object(d.find)(this.props.videos,{id:e})}},{key:"handleStreamStop",value:function(){var e=this,t=this.meetingService.getScreenStream().getTracks();Object(d.forEach)(t,(function(t){t.onended=function(){return e.switchUserStreamToMedia()}}))}},{key:"switchUserStreamToMedia",value:function(){var e=this;this.mediaService.getStream(this.props.history,(function(){var t=e.meetingService.getMediaStream();e.videoService.replaceUserStream(t,"media"),e.rtpSenderService.replaceStream(t);var a=e.meetingService.getScreenStream();e.streamTrackService.stop(a)}))}},{key:"switchUserStreamToScreen",value:function(){var e=this;this.screenCaptureService.getStream((function(){var t=e.meetingService.getScreenStream();e.videoService.replaceUserStream(t,"screen"),e.rtpSenderService.replaceStream(t),e.handleStreamStop();var a=e.meetingService.getMediaStream();e.streamTrackService.stop(a)}))}},{key:"handleMenuRaiseHandClick",value:function(){var e;if(!(null===(e=this.userVideo)||void 0===e?void 0:e.raiseHand)){var t=this.props,a=t.id,n=t.connectionId;st.raiseHand.publish(a,n)}}},{key:"handleMenuRemoveRaiseHand",value:function(){var e;if(null===(e=this.userVideo)||void 0===e?void 0:e.raiseHand){var t=this.props,a=t.id,n=t.connectionId;st.removeRaiseHand.publish(a,n)}}},{key:"handleMenuEndMeetingClick",value:function(){var e=this;ue.push("Are you sure to end meeting?",(function(){e.peerService.disconnect()}))}},{key:"handleMenuVideoClick",value:function(){if(this.userVideo){var e=this.mediaService.toggleVideoMute(this.userVideo.stream);this.props.replaceVideoStreamMutedVideo(this.props.connectionId,!e)}}},{key:"handleMenuAudioClick",value:function(){if(this.userVideo){var e=this.mediaService.toggleAudioMute(this.userVideo.stream);this.props.replaceVideoStreamMutedAudio(this.props.connectionId,!e)}}},{key:"handleMenuScreenShareClick",value:function(){this.canScreenShare?this.switchUserStreamToScreen():this.switchUserStreamToMedia()}},{key:"handleMenuWhiteboardClick",value:function(){var e=this.props.id,t=!this.props.whiteboardEnabled;st.whiteboardEnabled.publish(e,t)}},{key:"handleMenuMemberRemoveClick",value:function(){var e;if(null===(e=this.activeVideo)||void 0===e?void 0:e.memberRemove){var t=this.props.id;st.memberRemove.publish(t,this.activeVideo.id)}}},{key:"handleMenuRemoveRaiseHandForAdmin",value:function(){var e;if(null===(e=this.activeVideo)||void 0===e?void 0:e.raiseHand){var t=this.props.id;st.removeRaiseHand.publish(t,this.activeVideo.id)}}},{key:"handleMenuMuteforAdmin",value:function(){if(this.activeVideo){var e=this.props.id;st.muteUsers.publish(e,this.activeVideo.id)}}},{key:"handleAdminCheck",value:function(){var e=this.props.connectionId;return!!this.meetingService.isHostMeeting(e)}},{key:"handleVideoBlockClick",value:function(e){if(this.handleAdminCheck()){this.props.whiteboardEnabled&&this.handleMenuWhiteboardClick();var t=this.props.id;st.replaceActiveVideoBlock.publish(t,null===e||void 0===e?void 0:e.id)}}},{key:"handleActiveVideoBlockforAdmin",value:function(e){var t=this;st.replaceActiveVideoBlock.subscribe(e,(function(e){t.props.replaceVideoActive(e,!0)}))}},{key:"handleWhiteboardCanvasClearClick",value:function(){st.whiteboardCanvasClear.publish(this.props.id)}},{key:"handleWhiteboardDrawingAdd",value:function(e){var t=this.props.id,a=e.target;this.props.pushWhiteboardDrawing(a),st.whiteboardDrawingAdd.publish(t,a)}},{key:"handleRemoteRaiseHand",value:function(e){var t=this;st.raiseHand.subscribe(e,(function(e){t.props.replaceVideoRaiseHand(e,!0)}))}},{key:"handleRemoteRemoveRaiseHand",value:function(e){var t=this;st.removeRaiseHand.subscribe(e,(function(e){t.props.replaceVideoRaiseHand(e,!1)}))}},{key:"handleRemoteMemberRemove",value:function(e){var t=this;st.memberRemove.subscribe(e,(function(e){t.meetingService.isUserMeeting(e)?t.peerService.disconnect():(t.videoService.pullVideo(e),t.meetingRepository.setHostVideoActive())}))}},{key:"handleRemoveRaiseHandforAdmin",value:function(e){var t=this;st.removeRaiseHand.subscribe(e,(function(e){t.meetingService.isHostMeeting(e)&&t.props.replaceVideoRaiseHand(e,!1)}))}},{key:"handleMuteforAdmin",value:function(e){var t=this;st.muteUsers.subscribe(e,(function(e){if(!t.meetingService.isHostMeeting(e)){var a=t.findUservideo(e);if(a){var n=t.mediaService.toggleAudioMute(a.stream);(null===a||void 0===a?void 0:a.streamMuted.audio)?t.props.replaceVideoStreamMutedAudio(a.id,!1):t.props.replaceVideoStreamMutedAudio(a.id,!n)}}}))}},{key:"handleRemoteDisconnect",value:function(e){var t=this;st.remoteDisconnect.subscribe(e,(function(e){t.meetingService.isHostMeeting(e)?t.exitMeeting():t.videoService.pullVideo(e)}))}},{key:"handleRemoteRTPTrackReplacement",value:function(e){var t=this;st.rtpTrackReplaced.subscribe(e,(function(e){var a=e.connectionId,n=e.kind;t.props.replaceVideoKind(a,n),t.props.updateVideoRenderId(a)}))}},{key:"handleRemoteConferenceCall",value:function(e,t){var a=this;st.conferenceCall.subscribe(e,(function(e){a.notificationService.notifyMember(e),a.meetingService.canConferenceCall(e)&&a.peerService.call(e,t,(function(e){a.meetingService.pushCall(e),a.handleCallStreaming(e)}))}))}},{key:"handleRemoteWhiteboardEnabled",value:function(e){var t=this;st.whiteboardEnabled.subscribe(e,(function(e){t.props.replaceWhiteboardEnabled(e)}))}},{key:"handleRemoteWhiteboardDrawingAdd",value:function(e){var t=this;st.whiteboardDrawingAdd.subscribe(e,(function(e){t.whiteboardDrawingService.isExists(e)||t.whiteboardDrawingService.parse(e,(function(e){t.whiteboardDrawingService.add(e)}))}))}},{key:"handleRemoteWhiteboardDrawingSync",value:function(e){var t=this;st.whiteboardDrawingSync.subscribe(e,(function(a){var n=a.drawings,r=a.whiteboardEnabled;r&&t.props.replaceWhiteboardEnabled(r),t.props.replaceWhiteboardDrawings(n),st.whiteboardDrawingSync.unsubscribe(e)}))}},{key:"handleRemoteWhiteboardCanvasClear",value:function(e){var t=this;st.whiteboardCanvasClear.subscribe(e,(function(){t.whiteboardCanvasService.clear(),t.props.replaceWhiteboardDrawings([])}))}},{key:"video",value:function(e){return r.a.createElement(_t,{ratio:"square",video:e,handleClick:this.handleVideoBlockClick})}},{key:"socketUnsubscribe",value:function(){var e=this.props.id;st.raiseHand.unsubscribe(e),st.removeRaiseHand.unsubscribe(e),st.conferenceCall.unsubscribe(e),st.rtpTrackReplaced.unsubscribe(e),st.remoteDisconnect.unsubscribe(e),st.memberRemove.unsubscribe(e),st.whiteboardEnabled.unsubscribe(e),st.whiteboardDrawingAdd.unsubscribe(e),st.whiteboardCanvasClear.unsubscribe(e)}},{key:"handleDisconnect",value:function(){var e=this;this.peerService.onDisconnect((function(){var t=e.props,a=t.id,n=t.connectionId;st.remoteDisconnect.publish(a,n),e.exitMeeting()}))}},{key:"whiteboardDrawingSync",value:function(e){var t=this.props,a=t.whiteboardEnabled,n={drawings:t.whiteboardDrawings,whiteboardEnabled:a};st.whiteboardDrawingSync.publish(e,n)}},{key:"exitMeeting",value:function(){var e=this;this.videoService.stopUserVideo(),this.meetingService.resetMeeting(),this.socketUnsubscribe(),this.peerService.disconnect(),this.authService.resetType(),this.props.replaceWhiteboardDrawings([]),this.appStorage.removeAccessToken((function(){e.props.history.push($a.home.path)}))}},{key:"handleUserStream",value:function(e,t){var a=this;this.videoService.createMediaVideo(e,t,"media",(function(e){a.videoService.pushVideo(e)}))}},{key:"handleCallStreaming",value:function(e){var t=this;this.peerService.onCalling(e,(function(e,a){t.videoService.createMediaVideo(e,a,"media",(function(e){t.videoService.pushVideo(e)}))}))}},{key:"handleReceiveCall",value:function(e,t){var a=this;this.peerService.onReceiveCall((function(n){a.meetingService.pushCall(n);var r=n.peer;a.peerService.answerCall(n,t),a.whiteboardDrawingSync(r),st.conferenceCall.publish(e,r),a.notificationService.notifyHost(r),a.handleCallStreaming(n)}))}},{key:"joinMeeting",value:function(e,t,a){var n=this;this.meetingService.isMemberMeeting(t)&&this.peerService.call(e,a,(function(e){n.meetingService.pushCall(e),n.handleCallStreaming(e)}))}},{key:"handleMeeting",value:function(){var e=this,t=this.props.history;this.peerService.handleErrors(t),this.peerService.onOpen((function(a){e.meetingService.setId(a,(function(n){n?(e.handleRemoteRaiseHand(n),e.handleRemoteRemoveRaiseHand(n),e.handleRemoteMemberRemove(n),e.handleRemoveRaiseHandforAdmin(n),e.handleMuteforAdmin(n),e.handleActiveVideoBlockforAdmin(n),e.handleDisconnect(),e.mediaService.getStream(t,(function(t){e.handleUserStream(a,t),e.handleReceiveCall(n,t),e.joinMeeting(n,a,t),e.handleRemoteDisconnect(n),e.handleRemoteRTPTrackReplacement(n),e.handleRemoteConferenceCall(n,t),e.handleRemoteWhiteboardEnabled(n),e.handleRemoteWhiteboardDrawingAdd(n),e.handleRemoteWhiteboardDrawingSync(a),e.handleRemoteWhiteboardCanvasClear(n)}))):e.exitMeeting()}))}))}},{key:"componentWillUnmount",value:function(){this.exitMeeting()}},{key:"componentDidMount",value:function(){this.handleMeeting()}},{key:"render",value:function(){var e;return r.a.createElement(l.i,null,r.a.createElement(l.e,null,r.a.createElement(be,{invert:!1,container:"full"},r.a.createElement("div",{className:this.className},r.a.createElement("div",{id:"container"},r.a.createElement(ia,{values:this.videos.length,videos:this.videos,getFirstVideo:this.videosFirst,activeVideo:this.activeVideoBlock,activeVideoSkeletonVisibility:this.activeVideoSkeletonVisibility,canInviteMember:this.canInviteMember,canRaiseHand:this.canRaiseHand,canEndMeeting:this.canEndMeeting,canVideoMute:this.canVideoMute,canAudioMute:this.canAudioMute,canScreenShare:this.canScreenShare,canWhiteboardEnable:this.canWhiteboardEnable,canMemberRemove:null===(e=this.activeVideo)||void 0===e?void 0:e.memberRemove,inviteText:this.inviteText,handleRaiseHandClick:this.handleMenuRaiseHandClick,handleEndMeetingClick:this.handleMenuEndMeetingClick,handleVideoClick:this.handleVideoBlockClick,handleAudioClick:this.handleMenuAudioClick,handleMenuVideoClick:this.handleMenuVideoClick,handleScreenShareClick:this.handleMenuScreenShareClick,handleWhiteboardClick:this.handleMenuWhiteboardClick,handleMemberRemoveClick:this.handleMenuMemberRemoveClick,handleRemoveRaiseHand:this.handleMenuRemoveRaiseHand,handleMenuRemoveRaiseHandForAdmin:this.handleMenuRemoveRaiseHandForAdmin,handleAdminCheck:this.handleAdminCheck,handleMenuMuteforAdmin:this.handleMenuMuteforAdmin}))))))}},{key:"className",get:function(){var e=Object(l.u)("mobile")&&Kt.a.mobile;return"".concat(Kt.a.meeting," ").concat(e," ").concat(Kt.a.menuTopSpace)}},{key:"activeVideo",get:function(){return Object(d.find)(this.props.videos,"active")}},{key:"activeVideoSkeletonVisibility",get:function(){return!this.activeVideo}},{key:"activeVideoBlock",get:function(){return r.a.createElement(Jt,{video:this.activeVideo,whiteboardDrawings:this.props.whiteboardDrawings,whiteboardEnabled:this.props.whiteboardEnabled,handleWhiteboardCanvasClearClick:this.handleWhiteboardCanvasClearClick,handleWhiteboardDrawingAdd:this.handleWhiteboardDrawingAdd,handleVideoBlockClick:this.handleVideoBlockClick})}},{key:"videosFirst",get:function(){var e=Object(d.filter)(this.props.videos);if(e.length>0)return this.video(e[0])}},{key:"videos",get:function(){var e=this,t=Object(d.filter)(this.props.videos,{kind:"media"});return console.log("this is the console for videos>>>>>>>>>>>>>>>",t),t.map((function(t){return e.video(t)}))}},{key:"ScreenVideos",get:function(){return Object(d.find)(this.props.videos,{kind:"screen"})}},{key:"userVideo",get:function(){var e=this.props,t=e.connectionId,a=e.videos;return Object(d.find)(a,{id:t})}},{key:"canInviteMember",get:function(){return Boolean(this.props.id)}},{key:"canRaiseHand",get:function(){return!!this.userVideo&&!this.userVideo.raiseHand}},{key:"canEndMeeting",get:function(){return Boolean(this.props.id)}},{key:"canVideoMute",get:function(){return!!this.userVideo&&!this.userVideo.streamMuted.video}},{key:"canAudioMute",get:function(){return!!this.userVideo&&!this.userVideo.streamMuted.audio}},{key:"canScreenShare",get:function(){var e=this.props.videos;return Object(d.every)(e,(function(e){return"screen"!==e.kind}))}},{key:"canWhiteboardEnable",get:function(){return!this.props.whiteboardEnabled}},{key:"inviteText",get:function(){var e="https://".concat("musicfun.stagetrack.online"),t=this.props.id;return"Hi there,\n Jump into Stagetrack Studio - ".concat(e,"/join?id=").concat(t)}}]),a}(n.Component);ca.raiseHandTimeout=5e3,ca.videoColumnSize=Object(l.u)("mobile")?"4":"2";var oa=Object(f.f)(Object(V.b)($,Q)(ca)),sa=function(){function e(){Object(o.a)(this,e),this.requestService=void 0,this.requestService=new Oe}return Object(s.a)(e,[{key:"createAdmin",value:function(e,t){this.requestService.post("/admin",e,(function(e){e&&t()}))}},{key:"validateInstall",value:function(e){this.requestService.get("/admin",(function(t){t&&e()}))}}]),e}(),la=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).request=void 0,n.request=new sa,n.handleInputChange=n.handleInputChange.bind(Object(P.a)(n)),n.handleCreateClick=n.handleCreateClick.bind(Object(P.a)(n)),n.validateInstall(),n}return Object(s.a)(a,[{key:"handleInputChange",value:function(e){var t=e.target,a=t.value;switch(t.name){case"username":this.props.replaceUsername(a);break;case"password":this.props.replacePassword(a);break;case"confirmPassword":this.props.replaceConfirmPassword(a)}}},{key:"handleCreateClick",value:function(){var e=this,t=this.props,a={username:t.username,password:t.password,confirmPassword:t.confirmPassword};this.request.createAdmin(a,(function(){e.props.history.push($a.adminSignIn.path)}))}},{key:"validateInstall",value:function(){var e=this;this.request.validateInstall((function(){e.props.history.push($a.adminSignIn.path)}))}},{key:"render",value:function(){return r.a.createElement(l.i,null,r.a.createElement(l.e,null,r.a.createElement(be,{invert:!1,container:"small"},r.a.createElement(l.g,null,r.a.createElement(l.l,null,r.a.createElement(l.d,null,r.a.createElement(Ve,{name:"username",type:"text",value:this.props.username,placeholder:"Username",handleChange:this.handleInputChange}),r.a.createElement(Ve,{name:"password",type:"password",value:this.props.password,placeholder:"Password",handleChange:this.handleInputChange}),r.a.createElement(Ve,{name:"confirmPassword",type:"password",value:this.props.confirmPassword,placeholder:"Confirm password",handleChange:this.handleInputChange}),r.a.createElement(We,{text:"Create Admin",handleClick:this.handleCreateClick})))))))}}]),a}(n.Component),da=Object(f.f)(Object(V.b)((function(e){return Object(d.cloneDeep)(e.install)}),{replaceUsername:function(e){return{type:"REPLACE_INSTALL_USERNAME",username:e}},replacePassword:function(e){return{type:"REPLACE_INSTALL_PASSWORD",password:e}},replaceConfirmPassword:function(e){return{type:"REPLACE_INSTALL_CONFIRM_PASSWORD",confirmPassword:e}}})(la)),ua=function(){function e(){Object(o.a)(this,e),this.requestService=void 0,this.appStorage=void 0,this.requestService=new Oe,this.appStorage=new Se}return Object(s.a)(e,[{key:"signIn",value:function(e,t){var a=this;this.requestService.post("/admin/signIn",e,(function(e){e&&a.appStorage.setAccessToken(e.accessToken,t)}))}}]),e}(),ha=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).request=void 0,n.request=new ua,n.handleInputChange=n.handleInputChange.bind(Object(P.a)(n)),n.handleSignInClick=n.handleSignInClick.bind(Object(P.a)(n)),n}return Object(s.a)(a,[{key:"handleInputChange",value:function(e){var t=e.target,a=t.value;switch(t.name){case"username":this.props.replaceUsername(a);break;case"password":this.props.replacePassword(a)}}},{key:"handleSignInClick",value:function(){var e=this,t=this.props,a={username:t.username,password:t.password};this.request.signIn(a,(function(){e.props.history.push($a.hosts.path)}))}},{key:"clearForm",value:function(){this.props.replaceUsername(""),this.props.replacePassword("")}},{key:"componentWillUnmount",value:function(){this.clearForm()}},{key:"render",value:function(){return r.a.createElement(l.i,null,r.a.createElement(l.e,null,r.a.createElement(be,{invert:!1,container:"small"},r.a.createElement(l.g,null,r.a.createElement(l.l,null,r.a.createElement(l.d,null,r.a.createElement(Ve,{name:"username",type:"text",value:this.props.username,placeholder:"Username",handleChange:this.handleInputChange}),r.a.createElement(Ve,{name:"password",type:"password",value:this.props.password,placeholder:"Password",handleChange:this.handleInputChange}),r.a.createElement(We,{text:"Sign In",handleClick:this.handleSignInClick})))))))}}]),a}(n.Component),ma=Object(f.f)(Object(V.b)((function(e){return Object(d.cloneDeep)(e.adminSignIn)}),{replaceUsername:function(e){return{type:"REPLACE_ADMIN_SIGN_IN_USERNAME",username:e}},replacePassword:function(e){return{type:"REPLACE_ADMIN_SIGN_IN_PASSWORD",password:e}}})(ha)),va=function(){function e(){Object(o.a)(this,e),this.requestService=void 0,this.requestService=new Oe}return Object(s.a)(e,[{key:"auth",value:function(e){this.requestService.get("/admin/auth",(function(t){t||e.push($a.adminSignIn.path)}))}}]),e}(),pa=function(){function e(){Object(o.a)(this,e),this.requestService=void 0,this.requestService=new Oe}return Object(s.a)(e,[{key:"create",value:function(e,t){this.requestService.post("/host",e,(function(e){e&&t(e)}))}},{key:"listHosts",value:function(e){this.requestService.get("/hosts",(function(t){t&&e(t)}))}},{key:"delete",value:function(e,t){this.requestService.delete("/host",e,(function(e){e&&t()}))}}]),e}(),Ca=a(41),Ea=a.n(Ca),ba=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).appStorage=void 0,n.appStorage=new Se,n.handleSignOutClick=n.handleSignOutClick.bind(Object(P.a)(n)),n}return Object(s.a)(a,[{key:"handleSignOutClick",value:function(){var e=this;this.appStorage.removeAccessToken((function(){e.props.history.push($a.adminSignIn.path)}))}},{key:"render",value:function(){return r.a.createElement("div",{className:Ea.a.adminMenu},r.a.createElement("div",{className:Ea.a.menuItems},r.a.createElement(_.b,{className:Ea.a.menuItem,to:$a.hosts.path,activeClassName:Ea.a.active},"Hosts"),r.a.createElement(_.b,{className:Ea.a.menuItem,to:$a.privacyEdit.path,activeClassName:Ea.a.active},"Privacy Policy"),r.a.createElement(_.b,{className:Ea.a.menuItem,to:"#",onClick:this.handleSignOutClick},"Sign Out")))}}]),a}(n.Component),ga=Object(f.f)(ba),fa=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleInputChange=n.handleInputChange.bind(Object(P.a)(n)),n.handleCreateHostClick=n.handleCreateHostClick.bind(Object(P.a)(n)),n}return Object(s.a)(a,[{key:"handleInputChange",value:function(e){var t=e.target,a=t.value;switch(t.name){case"name":this.props.replaceName(a);break;case"password":this.props.replacePassword(a);break;case"username":this.props.replaceUsername(a)}}},{key:"copyCredentials",value:function(){var e="https://".concat("musicfun.stagetrack.online"),t=this.props,a=t.name,n=t.username,r=t.password,i="Hi ".concat(a,",\nYou can start a meeting from ").concat(e,"/start using the following credentials:\nUsername: ").concat(n,"\nPassword: ").concat(r);ea()(i),ue.push("Credentials copied.")}},{key:"clearForm",value:function(){this.props.replaceName(""),this.props.replaceUsername(""),this.props.replacePassword("")}},{key:"handleCreateHostClick",value:function(){var e=this,t=this.props,a={name:t.name,username:t.username,password:t.password};this.props.handleCreateClick(a,(function(){e.copyCredentials(),e.clearForm()}))}},{key:"render",value:function(){return r.a.createElement(l.g,null,r.a.createElement(l.l,null,r.a.createElement(l.d,null,r.a.createElement(Ve,{name:"name",type:"text",value:this.props.name,placeholder:"Name",handleChange:this.handleInputChange}),r.a.createElement(Ve,{name:"password",type:"password",value:this.props.password,placeholder:"Password",handleChange:this.handleInputChange})),r.a.createElement(l.d,null,r.a.createElement(Ve,{name:"username",type:"text",value:this.props.username,placeholder:"Username",handleChange:this.handleInputChange}),r.a.createElement(We,{text:"Create Host",handleClick:this.handleCreateHostClick}))))}}]),a}(n.Component),Na=Object(V.b)((function(e){return Object(d.cloneDeep)(e.hostCreate)}),{replaceName:function(e){return{type:"REPLACE_HOST_CREATE_NAME",name:e}},replaceUsername:function(e){return{type:"REPLACE_HOST_CREATE_USERNAME",username:e}},replacePassword:function(e){return{type:"REPLACE_HOST_CREATE_PASSWORD",password:e}}})(fa),_a=a(153),wa=a.n(_a),ka=a(38),ya=a.n(ka),Sa=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleDeleteClick=n.handleDeleteClick.bind(Object(P.a)(n)),n}return Object(s.a)(a,[{key:"handleDeleteClick",value:function(){this.props.handleDeleteClick(this.props.host.id)}},{key:"render",value:function(){return r.a.createElement(l.c,null,r.a.createElement("div",{className:ya.a.host},r.a.createElement("div",{className:ya.a.user},r.a.createElement("h3",{className:ya.a.name},this.props.host.name),r.a.createElement("div",{className:ya.a.username},this.props.host.username),r.a.createElement("div",{className:ya.a.lastMeeting},r.a.createElement("h3",{className:ya.a.heading},"Last Meeting"),r.a.createElement("div",{className:ya.a.time},this.lastMeeting))),r.a.createElement("div",{className:ya.a.actions},r.a.createElement(Ct,{name:"removeHost",handleClick:this.handleDeleteClick}))))}},{key:"lastMeeting",get:function(){var e=this.props.host.lastMeetingAt;return e?wa()(e).format("LLL"):"-"}}]),a}(n.Component),Oa=a(101),ja=a.n(Oa),Ma=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:this.className,style:this.styles})}},{key:"styles",get:function(){return{width:this.props.width,height:this.props.height,marginTop:this.props.marginTop,marginBottom:this.props.marginBottom,paddingBottom:this.props.paddingBottom}}},{key:"className",get:function(){var e=this.props.shape,t=e&&ja.a[e];return"".concat(ja.a.skeleton," ").concat(t)}}]),a}(n.Component);Ma.defaultProps={marginTop:"0",marginBottom:"0",paddingBottom:"0",shape:"rectangle"};var Ia=a(80),Ra=a.n(Ia),Aa=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"randomWidth",value:function(e,t){return"".concat(Object(d.random)(e,t),"%")}},{key:"render",value:function(){return r.a.createElement(l.c,null,r.a.createElement("div",{className:Ra.a.host},r.a.createElement("div",{className:Ra.a.user},r.a.createElement(Ma,{width:this.randomWidth(25,35),height:"12px",marginBottom:"8px"}),r.a.createElement(Ma,{width:this.randomWidth(25,35),height:"12px",marginBottom:"22px"}),r.a.createElement(Ma,{width:"40%",height:"15px",marginBottom:"8px"}),r.a.createElement(Ma,{width:"65%",height:"12px"})),r.a.createElement("div",{className:Ra.a.actions},r.a.createElement(Ma,{width:"35px",height:"35px",shape:"round"}))))}}]),a}(n.Component),Ba=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).adminMiddleware=void 0,n.request=void 0,n.adminMiddleware=new va,n.request=new pa,n.handleCreateHostClick=n.handleCreateHostClick.bind(Object(P.a)(n)),n.handleHostDeleteClick=n.handleHostDeleteClick.bind(Object(P.a)(n)),n}return Object(s.a)(a,[{key:"setHosts",value:function(){var e=this;this.request.listHosts((function(t){return e.props.replaceHosts(t)}))}},{key:"deleteHost",value:function(e){var t=this,a={id:e};this.request.delete(a,(function(){return t.props.pullHost(e)}))}},{key:"handleHostDeleteClick",value:function(e){var t=this;ue.push("Are you sure to delete the host?",(function(){return t.deleteHost(e)}))}},{key:"host",value:function(e){return r.a.createElement(l.d,{size:"12",sizeSm:"6",key:e.username},r.a.createElement(Sa,{host:e,handleDeleteClick:this.handleHostDeleteClick}))}},{key:"hostSkeleton",value:function(e){return r.a.createElement(l.d,{size:"12",sizeSm:"6",key:e},r.a.createElement(Aa,null))}},{key:"handleCreateHostClick",value:function(e,t){var a=this;this.request.create(e,(function(e){a.props.pushHost(e),t()}))}},{key:"componentDidMount",value:function(){this.adminMiddleware.auth(this.props.history),this.setHosts()}},{key:"render",value:function(){return r.a.createElement(l.i,null,r.a.createElement(l.e,null,r.a.createElement(be,{invert:!1,container:"regular"},r.a.createElement(l.g,null,r.a.createElement(l.l,null,r.a.createElement(l.d,null,r.a.createElement(ga,null),r.a.createElement(Na,{handleCreateClick:this.handleCreateHostClick}))),r.a.createElement(l.l,null,this.hosts,this.hostSkeletons)))))}},{key:"hosts",get:function(){var e=this;return this.props.hosts.map((function(t){return e.host(t)}))}},{key:"hostSkeletons",get:function(){var e=this,t=this.props.hosts;if(Object(d.isEmpty)(t))return Object(d.range)(a.skeletonsLength).map((function(t){return e.hostSkeleton(t)}))}}]),a}(n.Component);Ba.skeletonsLength=2;var xa=Object(f.f)(Object(V.b)((function(e){return Object(d.cloneDeep)(e.hosts)}),{replaceHosts:function(e){return{type:"REPLACE_HOSTS_HOSTS",hosts:e}},pushHost:function(e){return{type:"PUSH_HOSTS_HOST",host:e}},pullHost:function(e){return{type:"PULL_HOSTS_HOST",id:e}}})(Ba)),Da=a(154),Ta=a.n(Da),Ha=function(){function e(){return Object(o.a)(this,e),e.instance||(e.instance=this),e.instance}return Object(s.a)(e,[{key:"getDelta",value:function(t){return e.editor.clipboard.convert(t)}},{key:"getContent",value:function(){return e.editor.root.innerHTML}},{key:"initialize",value:function(t){e.editor=new Ta.a(t,this.options)}},{key:"setContent",value:function(t){var a=this.getDelta(t);e.editor.setContents(a,"silent")}},{key:"onContentChange",value:function(t){var a=this;e.editor.on("text-change",(function(){var e=a.getContent();t(e)}))}},{key:"toolbarOptions",get:function(){return[["bold","italic","underline"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{align:[]}],["link"]]}},{key:"options",get:function(){return{modules:{toolbar:this.toolbarOptions,clipboard:{matchVisual:!1}},theme:"snow"}}}]),e}();Ha.instance=void 0,Ha.editor=void 0;var Pa=function(){function e(){Object(o.a)(this,e),this.requestService=void 0,this.requestService=new Oe}return Object(s.a)(e,[{key:"read",value:function(e){this.requestService.get("/privacy",(function(t){t&&e(t.body)}))}},{key:"update",value:function(e){this.requestService.post("/privacy",{body:e},(function(e){e&&ue.push("Privacy updated.")}))}}]),e}(),Va=a(102),La=a.n(Va),Ua=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).adminMiddleware=void 0,n.editorService=void 0,n.request=void 0,n.adminMiddleware=new va,n.editorService=new Ha,n.request=new Pa,n.handleSaveClick=n.handleSaveClick.bind(Object(P.a)(n)),n}return Object(s.a)(a,[{key:"setPrivacy",value:function(){var e=this;this.request.read((function(t){e.props.replacePrivacy(t),e.editorService.setContent(t)}))}},{key:"handlePrivacyChange",value:function(){var e=this;this.editorService.onContentChange((function(t){e.props.replacePrivacy(t)}))}},{key:"handleSaveClick",value:function(){this.request.update(this.props.privacy)}},{key:"componentDidMount",value:function(){this.adminMiddleware.auth(this.props.history),this.editorService.initialize("#privacyEitor"),this.setPrivacy(),this.handlePrivacyChange()}},{key:"render",value:function(){return r.a.createElement(l.i,null,r.a.createElement(l.e,null,r.a.createElement(be,{invert:!1,container:"regular"},r.a.createElement(l.g,null,r.a.createElement(l.l,null,r.a.createElement(l.d,null,r.a.createElement(ga,null),r.a.createElement("div",{className:La.a.privacyEdit},r.a.createElement("div",{id:"privacyEitor"}),r.a.createElement("div",{className:La.a.save},r.a.createElement(We,{text:"Save",handleClick:this.handleSaveClick})))))))))}}]),a}(n.Component),Wa=Object(f.f)(Object(V.b)((function(e){return Object(d.cloneDeep)(e.privacyEdit)}),{replacePrivacy:function(e){return{type:"REPLACE_PRIVACY_EDIT_PRIVACY",privacy:e}}})(Ua)),za=function(){function e(){Object(o.a)(this,e),this.requestService=void 0,this.requestService=new Oe}return Object(s.a)(e,[{key:"read",value:function(e){this.requestService.get("/privacy",(function(t){t&&e(t.body)}))}}]),e}(),Fa=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"randomWidth",value:function(e,t){return"".concat(Object(d.random)(e,t),"%")}},{key:"paragraph",value:function(e){var t=this;return Object(d.range)(e).map((function(e){return r.a.createElement(Ma,{width:t.randomWidth(80,100),height:"11px",marginBottom:"5px",key:e})}))}},{key:"render",value:function(){return this.props.visibility&&r.a.createElement(n.Fragment,null,r.a.createElement("div",null,this.paragraph(3)),this.heading,r.a.createElement("div",null,this.paragraph(5)))}},{key:"heading",get:function(){return r.a.createElement(Ma,{width:this.randomWidth(30,40),height:"18px",marginBottom:"25px",marginTop:"25px"})}}]),a}(n.Component),Ga=a(103),qa=a.n(Ga),Xa=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).request=void 0,n.request=new za,n}return Object(s.a)(a,[{key:"setPrivacy",value:function(){var e=this;this.request.read((function(t){return e.props.replacePrivacy(t)}))}},{key:"componentDidMount",value:function(){this.setPrivacy()}},{key:"render",value:function(){return r.a.createElement(l.i,null,r.a.createElement(l.e,null,r.a.createElement(be,{invert:!1,container:"regular"},r.a.createElement(l.g,null,r.a.createElement(l.l,null,r.a.createElement(l.d,null,r.a.createElement("div",{className:qa.a.privacy},r.a.createElement("h1",null,"Privacy Policy"),r.a.createElement("div",{className:qa.a.content,dangerouslySetInnerHTML:this.privacyHTML}),r.a.createElement(Fa,{visibility:this.skeletonVisibility}))))))))}},{key:"privacyHTML",get:function(){return{__html:this.props.privacy||""}}},{key:"skeletonVisibility",get:function(){return!this.props.privacy}}]),a}(n.Component),Za=Object(V.b)((function(e){return Object(d.cloneDeep)(e.privacy)}),{replacePrivacy:function(e){return{type:"REPLACE_PRIVACY_PRIVACY",privacy:e}}})(Xa),Ja=a(81),Ya=a.n(Ja),Ka=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleReturnHomeClick=n.handleReturnHomeClick.bind(Object(P.a)(n)),n}return Object(s.a)(a,[{key:"handleReturnHomeClick",value:function(){this.props.history.push($a.home.path)}},{key:"render",value:function(){return r.a.createElement(l.i,null,r.a.createElement(l.e,null,r.a.createElement(be,{invert:!1,container:"small"},r.a.createElement(l.g,null,r.a.createElement(l.l,null,r.a.createElement(l.d,null,r.a.createElement("div",{className:Ya.a.notFound},r.a.createElement("h1",{className:Ya.a.heading},"404"),r.a.createElement("p",{className:Ya.a.description},"Page Not Found"),r.a.createElement(We,{text:"Return to Home",handleClick:this.handleReturnHomeClick}))))))))}}]),a}(n.Component),Qa=Object(f.f)(Ka),$a={preload:{path:"/",component:fe},home:{path:"/home",component:xe},join:{path:"/join",component:Fe},start:{path:"/start",component:Ae},meeting:{path:"/meeting",component:oa},install:{path:"/install",component:da},adminSignIn:{path:"/admin",component:ma},hosts:{path:"/hosts",component:xa},privacyEdit:{path:"/privacy/edit",component:Wa},privacy:{path:"/privacy",component:Za},notFound:{path:"*",component:Qa}},en=a(155),tn=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(V.a,{store:de},r.a.createElement(en.a,null,r.a.createElement(l.k,null,this.props.children)))}}]),a}(n.Component),an=(a(217),function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).localStorage=void 0,n.localStorage=new Se,n.setupConfig(),ot.connect(),n}return Object(s.a)(a,[{key:"setupConfig",value:function(){Object(l.v)({mode:"md"})}},{key:"handlePwaInstall",value:function(){var e=Object(E.a)(C.a.mark((function e(t){var a,n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=t).prompt(),e.next=4,a.userChoice;case 4:n=e.sent,"accepted"===n.outcome&&ue.pull();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"promptPwaInstall",value:function(){var e=this;this.localStorage.checkPwaPrompted((function(t){t||window.addEventListener("beforeinstallprompt",(function(t){t.preventDefault(),e.localStorage.setPwaInstallPrompted((function(){ue.push("Install app?",(function(){return e.handlePwaInstall(t)}))}))}))}))}},{key:"componentDidMount",value:function(){this.promptPwaInstall()}},{key:"render",value:function(){return r.a.createElement(l.a,null,r.a.createElement(tn,null,r.a.createElement(f.c,null,r.a.createElement(f.a,{path:$a.preload.path,component:$a.preload.component,exact:!0}),r.a.createElement(f.a,{path:$a.home.path,component:$a.home.component,exact:!0}),r.a.createElement(f.a,{path:$a.join.path,component:$a.join.component,exact:!0}),r.a.createElement(f.a,{path:$a.start.path,component:$a.start.component,exact:!0}),r.a.createElement(f.a,{path:$a.meeting.path,component:$a.meeting.component,exact:!0}),r.a.createElement(f.a,{path:$a.install.path,component:$a.install.component,exact:!0}),r.a.createElement(f.a,{path:$a.adminSignIn.path,component:$a.adminSignIn.component,exact:!0}),r.a.createElement(f.a,{path:$a.hosts.path,component:$a.hosts.component,exact:!0}),r.a.createElement(f.a,{path:$a.privacy.path,component:$a.privacy.component,exact:!0}),r.a.createElement(f.a,{path:$a.privacyEdit.path,component:$a.privacyEdit.component,exact:!0}),r.a.createElement(f.a,{path:$a.notFound.path,component:$a.notFound.component,exact:!0}))))}}]),a}(n.Component));c.a.render(r.a.createElement(an,null),document.getElementById("root")),v.registerWorker()},33:function(e,t,a){e.exports={STaccessContainer:"start_STaccessContainer__3BOoA",STaccess1:"start_STaccess1__1SSRh",inputContainer:"start_inputContainer__117CL",forgotPassword:"start_forgotPassword__3JXMw",Register:"start_Register__35y3A",Register_sub_text:"start_Register_sub_text__3IbIE",STaccess:"start_STaccess__2QTup",STaccessText:"start_STaccessText__17YRx",arrow_container:"start_arrow_container__3QYIA",bounce:"start_bounce__3DknQ",arrow_down:"start_arrow_down__Xb9e0"}},37:function(e,t,a){e.exports={alert:"Alert_alert__2j1qM",cursor:"Alert_cursor__1gESW",content:"Alert_content__5ozA0",icon:"Alert_icon__2JAk6",message:"Alert_message__3Q1cm",actions:"Alert_actions__xNWp7",cancel:"Alert_cancel__2hV9X",proceed:"Alert_proceed__1WEvF"}},38:function(e,t,a){e.exports={host:"Host_host__5UBHq",user:"Host_user__gNOv3",name:"Host_name__388jT",username:"Host_username__3vIjJ",lastMeeting:"Host_lastMeeting__Rz7Vu",heading:"Host_heading__1H5l_",time:"Host_time__2_weU",actions:"Host_actions__1p3R3"}},41:function(e,t,a){e.exports={adminMenu:"AdminMenu_adminMenu__3X4sH",menuItems:"AdminMenu_menuItems__1ZCWE",menuItem:"AdminMenu_menuItem__29oR7",active:"AdminMenu_active__aA2dh"}},62:function(e,t,a){e.exports={header:"Header_header__1v0yI",logo:"Header_logo__3T0lc",tagline:"Header_tagline__22Om1",invert:"Header_invert__2OkNe"}},63:function(e,t,a){e.exports={copyright:"Copyright_copyright__23gHt",link:"Copyright_link__18MGR",text:"Copyright_text__1fcWP",invert:"Copyright_invert__qZf26"}},64:function(e,t,a){e.exports={page:"Page_page__A7lqB",fadeIn:"Page_fadeIn__3vNfI",main:"Page_main__1BVN_",invert:"Page_invert__2RMSY",full:"Page_full__2A7lk"}},65:function(e,t,a){e.exports={videoBlock:"VideoBlock_videoBlock__23j3p",full:"VideoBlock_full__3wdvz",square:"VideoBlock_square__MIbfa",content:"VideoBlock_content__14Ktc"}},66:function(e,t,a){e.exports={activeVideo:"ActiveVideo_activeVideo__1j08x",mobile:"ActiveVideo_mobile__2_pbU",videoBlock:"ActiveVideo_videoBlock__CxhYc",hide:"ActiveVideo_hide__3REMM"}},77:function(e,t,a){e.exports={floatButton:"FloatButton_floatButton__19o4O",button:"FloatButton_button__2X4df",icon:"FloatButton_icon__3u2hZ"}},78:function(e,t,a){e.exports={whiteboardBrushSize:"WhiteboardBrushSize_whiteboardBrushSize__2deKv",size:"WhiteboardBrushSize_size__o7vsk",sizeInput:"WhiteboardBrushSize_sizeInput__3yFYh"}},79:function(e,t,a){e.exports={meeting:"Meeting_meeting__3fRJr"}},80:function(e,t,a){e.exports={host:"HostSkeleton_host__1bWhC",user:"HostSkeleton_user__1MMZ8",actions:"HostSkeleton_actions__1bFH1"}},81:function(e,t,a){e.exports={notFound:"NotFound_notFound__3CEjn",heading:"NotFound_heading__2lNQV",description:"NotFound_description__1uh8N"}},93:function(e,t,a){e.exports={container:"Container_container__3eZVY",small:"Container_small__PZBi1",regular:"Container_regular__3d77r",full:"Container_full__3XsvV"}},94:function(e,t,a){e.exports={floatingAnimation:"FloatingAnimation_floatingAnimation__2VgT0",flip:"FloatingAnimation_flip__Bka3_"}},96:function(e,t,a){e.exports={button:"Button_button__2Lf63",content:"Button_content__1y604"}},97:function(e,t,a){e.exports={video:"Video_video__1kg4-",horizontalFlip:"Video_horizontalFlip__1s0Zk"}},98:function(e,t,a){e.exports={whiteboardMenuItem:"WhiteboardMenuItem_whiteboardMenuItem__fdCVE",mobile:"WhiteboardMenuItem_mobile__3QVFn"}},99:function(e,t,a){e.exports={whiteboardBrushColorItem:"WhiteboardBrushColorItem_whiteboardBrushColorItem__1xoWK",active:"WhiteboardBrushColorItem_active__3RnZi"}}},[[160,3,4]]]);
//# sourceMappingURL=main.e9604804.chunk.js.map