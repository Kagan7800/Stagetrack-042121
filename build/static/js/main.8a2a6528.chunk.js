(this.webpackJsonpteammeet=this.webpackJsonpteammeet||[]).push([[1],{100:function(e,t,n){e.exports={video:"Video_video__1kg4-",horizontalFlip:"Video_horizontalFlip__1s0Zk"}},101:function(e,t,n){e.exports={whiteboardMenuItem:"WhiteboardMenuItem_whiteboardMenuItem__fdCVE",mobile:"WhiteboardMenuItem_mobile__3QVFn"}},102:function(e,t,n){e.exports={whiteboardBrushColorItem:"WhiteboardBrushColorItem_whiteboardBrushColorItem__1xoWK",active:"WhiteboardBrushColorItem_active__3RnZi"}},103:function(e,t,n){e.exports={whiteboardMenuContent:"WhiteboardMenuContent_whiteboardMenuContent__3wcd9",brushSizeWrapper:"WhiteboardMenuContent_brushSizeWrapper__3y0-O"}},104:function(e,t,n){e.exports={skeleton:"Skeleton_skeleton__zRo__",gradientFlash:"Skeleton_gradientFlash___3LKB",round:"Skeleton_round__3k965"}},105:function(e,t,n){e.exports={privacyEdit:"PrivacyEdit_privacyEdit__1amDH",save:"PrivacyEdit_save__3cUl5"}},106:function(e,t,n){e.exports={privacy:"Privacy_privacy__3bH6U",content:"Privacy_content__3-zUr"}},140:function(e,t,n){e.exports={footer:"Footer_footer__7dIj9"}},144:function(e,t,n){e.exports={input:"Input_input__3rPb3"}},150:function(e,t,n){e.exports={raiseHand:"RaiseHand_raiseHand__2ZXa3"}},151:function(e,t,n){e.exports={whiteboardBrushColor:"WhiteboardBrushColor_whiteboardBrushColor__1AK65"}},152:function(e,t,n){e.exports={whiteboardMenu:"WhiteboardMenu_whiteboardMenu__Fx2Kx"}},153:function(e,t,n){e.exports={whiteboard:"Whiteboard_whiteboard__1KWNz"}},161:function(e,t,n){e.exports=n(219)},167:function(e,t,n){var a={"./ion-action-sheet.entry.js":[222,5],"./ion-alert.entry.js":[223,6],"./ion-app_8.entry.js":[224,7],"./ion-avatar_3.entry.js":[225,18],"./ion-back-button.entry.js":[226,19],"./ion-backdrop.entry.js":[227,43],"./ion-button_2.entry.js":[228,20],"./ion-card_5.entry.js":[229,21],"./ion-checkbox.entry.js":[230,22],"./ion-chip.entry.js":[231,23],"./ion-col_3.entry.js":[232,44],"./ion-datetime_3.entry.js":[233,10],"./ion-fab_3.entry.js":[234,24],"./ion-img.entry.js":[235,45],"./ion-infinite-scroll_2.entry.js":[236,46],"./ion-input.entry.js":[237,25],"./ion-item-option_3.entry.js":[238,26],"./ion-item_8.entry.js":[239,27],"./ion-loading.entry.js":[240,28],"./ion-menu_3.entry.js":[241,29],"./ion-modal.entry.js":[242,8],"./ion-nav_2.entry.js":[243,15],"./ion-popover.entry.js":[244,9],"./ion-progress-bar.entry.js":[245,30],"./ion-radio_2.entry.js":[246,31],"./ion-range.entry.js":[247,32],"./ion-refresher_2.entry.js":[248,11],"./ion-reorder_2.entry.js":[249,17],"./ion-ripple-effect.entry.js":[250,47],"./ion-route_4.entry.js":[251,33],"./ion-searchbar.entry.js":[252,34],"./ion-segment_2.entry.js":[253,35],"./ion-select_3.entry.js":[254,36],"./ion-slide_2.entry.js":[255,48],"./ion-spinner.entry.js":[256,13],"./ion-split-pane.entry.js":[257,49],"./ion-tab-bar_2.entry.js":[258,37],"./ion-tab_2.entry.js":[259,16],"./ion-text.entry.js":[260,38],"./ion-textarea.entry.js":[261,39],"./ion-toast.entry.js":[262,40],"./ion-toggle.entry.js":[263,12],"./ion-virtual-scroll.entry.js":[264,50]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return n.e(t[1]).then((function(){return n(r)}))}r.keys=function(){return Object.keys(a)},r.id=167,e.exports=r},169:function(e,t,n){var a={"./ion-icon.entry.js":[268,57]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return n.e(t[1]).then((function(){return n(r)}))}r.keys=function(){return Object.keys(a)},r.id=169,e.exports=r},193:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=193},197:function(e,t){},198:function(e,t){},199:function(e,t){},217:function(e,t,n){},218:function(e,t,n){},219:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(40),c=n.n(i),o=n(2),s=n(3),l=n(4),d=n(5),u=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function h(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");u?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):m(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):m(t,e)}))}}function m(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var v=function(){function e(){Object(o.a)(this,e)}return Object(s.a)(e,null,[{key:"registerWorker",value:function(){Object(d.some)(e.ignorePlatforms,(function(e){return Object(l.v)(e)}))||h()}}]),e}();v.ignorePlatforms=["cordova","electron"];var p=n(10),C=n.n(p),b=n(14),E=n(6),g=n(7),f=n(9),k=n(76),N=n(32),_=n(61),w=n.n(_),y=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return this.props.visibility&&r.a.createElement("div",{className:w.a.header},r.a.createElement(l.g,null,r.a.createElement(l.m,null,r.a.createElement(l.d,null,r.a.createElement(N.a,{to:ra.home.path},r.a.createElement("img",{className:w.a.logo,src:this.logo,alt:"Stagetrack Studio"})),r.a.createElement("div",{className:this.taglineClass},"Let\u2019s start a meeting with your team.")))))}},{key:"logo",get:function(){var e=this.props.invert?"logoInvert.svg":"logo.svg";return"/assets/logo/".concat(e)}},{key:"taglineClass",get:function(){var e=this.props.invert&&w.a.invert;return"".concat(w.a.tagline," ").concat(e)}}]),n}(a.Component),S=n(95),O=n.n(S),j=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return this.props.visibility&&r.a.createElement("div",{className:this.className},this.props.children)}},{key:"className",get:function(){var e=this.props.width,t=e&&O.a[e];return"".concat(O.a.container," ").concat(t)}}]),n}(a.Component),M=n(96),I=n.n(M),B=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement("img",{className:this.className,src:"/assets/background.svg",alt:"Floating animation"})}},{key:"className",get:function(){var e=this.props.flip&&I.a.flip;return"".concat(I.a.floatingAnimation," ").concat(e)}}]),n}(a.Component),R=n(62),A=n.n(R),T=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:this.className},r.a.createElement(N.a,{className:A.a.link,to:ra.privacy.path},"Privacy Policy"),r.a.createElement("p",{className:A.a.text,dangerouslySetInnerHTML:this.copyright}))}},{key:"className",get:function(){var e=this.props.invert&&A.a.invert;return"".concat(A.a.copyright," ").concat(e)}},{key:"copyright",get:function(){var e=(new Date).getFullYear();return{__html:"&copy; ".concat("Stagetrack Studio"," ").concat(e)}}}]),n}(a.Component),x=n(140),D=n.n(x),P=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return this.props.visibility&&r.a.createElement("div",{className:D.a.footer},r.a.createElement(B,{flip:this.floatingAnimationFlip}),r.a.createElement(T,{invert:this.copyrightInvert}))}},{key:"floatingAnimationFlip",get:function(){return!this.props.invert}},{key:"copyrightInvert",get:function(){return Boolean(this.props.invert)}}]),n}(a.Component),H=n(8),V=n(16),L=n(11),W=n(41),U=n(142),z={auth:{type:null}},q=function(e){return{type:"REPLACE_APP_AUTH_TYPE",authType:e}};var G={message:"",handleProceed:null,timeoutId:0},F={replaceMessage:function(e){return{type:"REPLACE_ALERT_MESSAGE",message:e}},replaceHandleProceed:function(e){return{type:"REPLACE_ALERT_HANDLE_PROCEED",handleProceed:e}},replaceTimeoutId:function(e){return{type:"REPLACE_ALERT_TIMEOUT_ID",timeoutId:e}}};function X(e){return Object(d.cloneDeep)(e.alert)}var J={username:"",password:"",confirmPassword:""};var Y={username:"",password:""};var Z=n(77),K={id:"",connectionId:"",videos:[],mediaStream:new MediaStream,screenStream:new MediaStream,calls:[],whiteboardDrawings:[],whiteboardEnabled:!1,menuExpanded:["top","bottom"]},Q={replaceId:function(e){return{type:"REPLACE_MEETING_ID",id:e}},replaceConnectionId:function(e){return{type:"REPLACE_MEETING_CONNECTION_ID",connectionId:e}},replaceVideos:function(e){return{type:"REPLACE_MEETING_VIDEOS",videos:e}},replaceMediaStream:function(e){return{type:"REPLACE_MEETING_MEDIA_STREAM",mediaStream:e}},replaceScreenStream:function(e){return{type:"REPLACE_MEETING_SCREEN_STREAM",screenStream:e}},replaceVideoStream:function(e,t){return{type:"REPLACE_MEETING_VIDEO_STREAM",payload:{connectionId:e,stream:t}}},replaceVideoKind:function(e,t){return{type:"REPLACE_MEETING_VIDEO_KIND",payload:{connectionId:e,kind:t}}},replaceVideoRaiseHand:function(e,t){return{type:"REPLACE_MEETING_VIDEO_RAISE_HAND",payload:{connectionId:e,raiseHand:t}}},replaceVideoActive:function(e,t){return{type:"REPLACE_MEETING_VIDEO_ACTIVE",payload:{connectionId:e,active:t}}},replaceWhiteboardDrawings:function(e){return{type:"REPLACE_MEETING_WHITEBOARD_DRAWINGS",whiteboardDrawings:e}},replaceWhiteboardEnabled:function(e){return{type:"REPLACE_MEETING_WHITEBOARD_ENABLED",enabled:e}},replaceVideoStreamMutedVideo:function(e,t){return{type:"REPLACE_MEETING_VIDEO_STREAM_MUTED_VIDEO",payload:{connectionId:e,muted:t}}},replaceVideoStreamMutedAudio:function(e,t){return{type:"REPLACE_MEETING_VIDEO_STREAM_MUTED_AUDIO",payload:{connectionId:e,muted:t}}},updateVideoRenderId:function(e){return{type:"UPDATE_MEETING_VIDEO_RENDER_ID",connectionId:e}},pushVideo:function(e){return{type:"PUSH_MEETING_VIDEO",video:e}},pushCall:function(e){return{type:"PUSH_MEETING_CALL",call:e}},pushWhiteboardDrawing:function(e){return{type:"PUSH_MEETING_WHITEBOARD_DRAWING",whiteboardDrawing:e}},pushMenuExpanded:function(e){return{type:"PUSH_MEETING_MENU_EXPANDED",menuExpanded:e}},pullVideo:function(e){return{type:"PULL_MEETING_VIDEO",connectionId:e}},pullMenuExpanded:function(e){return{type:"PULL_MEETING_MENU_EXPANDED",menuExpanded:e}},reset:function(){return{type:"RESET_MEETING"}}};function $(e){return Object(d.cloneDeep)(e.meeting)}var ee={meetingId:""},te={replaceMeetingId:function(e){return{type:"REPLACE_JOIN_MEETING_ID",meetingId:e}},replaceMeetingMeetingId:function(e){return Q.replaceId(e)}};var ne={username:"",password:""},ae={replaceUsername:function(e){return{type:"REPLACE_START_USERNAME",username:e}},replacePassword:function(e){return{type:"REPLACE_START_PASSWORD",password:e}},replaceAppAuthType:function(e){return q(e)}};var re={name:"",username:"",password:""};var ie={hosts:[]};var ce={privacy:""};var oe={privacy:""};var se={activeMenu:null,brushSize:"1",brushColor:"#000000"};var le=Object(W.combineReducers)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REPLACE_APP_AUTH_TYPE":return z.auth.type=t.authType,Object(d.cloneDeep)(z);default:return e}},alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REPLACE_ALERT_MESSAGE":return G.message=t.message,Object(d.cloneDeep)(G);case"REPLACE_ALERT_HANDLE_PROCEED":return G.handleProceed=t.handleProceed,Object(d.cloneDeep)(G);case"REPLACE_ALERT_TIMEOUT_ID":return G.timeoutId=t.timeoutId,Object(d.cloneDeep)(G);default:return e}},install:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REPLACE_INSTALL_USERNAME":return J.username=t.username,Object(d.cloneDeep)(J);case"REPLACE_INSTALL_PASSWORD":return J.password=t.password,Object(d.cloneDeep)(J);case"REPLACE_INSTALL_CONFIRM_PASSWORD":return J.confirmPassword=t.confirmPassword,Object(d.cloneDeep)(J);default:return e}},adminSignIn:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REPLACE_ADMIN_SIGN_IN_USERNAME":return Y.username=t.username,Object(d.cloneDeep)(Y);case"REPLACE_ADMIN_SIGN_IN_PASSWORD":return Y.password=t.password,Object(d.cloneDeep)(Y);default:return e}},join:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REPLACE_JOIN_MEETING_ID":return ee.meetingId=t.meetingId,Object(d.cloneDeep)(ee);default:return e}},start:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REPLACE_START_USERNAME":return ne.username=t.username,Object(d.cloneDeep)(ne);case"REPLACE_START_PASSWORD":return ne.password=t.password,Object(d.cloneDeep)(ne);default:return e}},meeting:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REPLACE_MEETING_ID":return K.id=t.id,Object(d.cloneDeep)(K);case"REPLACE_MEETING_CONNECTION_ID":return K.connectionId=t.connectionId,Object(d.cloneDeep)(K);case"REPLACE_MEETING_VIDEOS":return K.videos=t.videos,Object(d.cloneDeep)(K);case"REPLACE_MEETING_MEDIA_STREAM":return K.mediaStream=t.mediaStream,Object(d.cloneDeep)(K);case"REPLACE_MEETING_SCREEN_STREAM":return K.screenStream=t.screenStream,Object(d.cloneDeep)(K);case"REPLACE_MEETING_VIDEO_STREAM":var n=t.payload,a=n.connectionId,r=n.stream,i=Object(d.find)(K.videos,{id:a});return i&&(i.stream=r),Object(d.cloneDeep)(K);case"REPLACE_MEETING_VIDEO_KIND":var c=t.payload,o=c.connectionId,s=c.kind,l=Object(d.find)(K.videos,{id:o});return l&&(l.kind=s),Object(d.cloneDeep)(K);case"REPLACE_MEETING_VIDEO_RAISE_HAND":var u=t.payload,h=u.connectionId,m=u.raiseHand,v=Object(d.find)(K.videos,{id:h});return v&&(v.raiseHand=m),Object(d.cloneDeep)(K);case"REPLACE_MEETING_VIDEO_ACTIVE":var p=t.payload,C=p.connectionId,b=p.active,E=Object(d.find)(K.videos,{active:b}),g=Object(d.find)(K.videos,{id:C});return E&&(E.active=!b),g&&(g.active=b),Object(d.cloneDeep)(K);case"REPLACE_MEETING_WHITEBOARD_DRAWINGS":return K.whiteboardDrawings=t.whiteboardDrawings,Object(d.cloneDeep)(K);case"REPLACE_MEETING_WHITEBOARD_ENABLED":return K.whiteboardEnabled=t.enabled,Object(d.cloneDeep)(K);case"REPLACE_MEETING_VIDEO_STREAM_MUTED_VIDEO":var f=t.payload,k=f.connectionId,N=f.muted,_=Object(d.find)(K.videos,{id:k});return _&&(_.streamMuted.video=N),Object(d.cloneDeep)(K);case"REPLACE_MEETING_VIDEO_STREAM_MUTED_AUDIO":var w=t.payload,y=w.connectionId,S=w.muted,O=Object(d.find)(K.videos,{id:y});return O&&(O.streamMuted.audio=S),Object(d.cloneDeep)(K);case"UPDATE_MEETING_VIDEO_RENDER_ID":var j=t.connectionId,M=Object(d.find)(K.videos,{id:j});return M&&(M.renderId=Object(Z.a)()),Object(d.cloneDeep)(K);case"PUSH_MEETING_VIDEO":var I=Object(d.some)(K.videos,{id:t.video.id});return I||K.videos.push(t.video),Object(d.cloneDeep)(K);case"PUSH_MEETING_CALL":return K.calls.push(t.call),Object(d.cloneDeep)(K);case"PUSH_MEETING_WHITEBOARD_DRAWING":var B=function(e){return JSON.stringify(e)},R=t.whiteboardDrawing,A=Object(d.map)(K.whiteboardDrawings,B),T=Object(d.findIndex)(A,(function(e){return e===JSON.stringify(R)})),x=T>=0;return x||K.whiteboardDrawings.push(R),Object(d.cloneDeep)(K);case"PUSH_MEETING_MENU_EXPANDED":return K.menuExpanded.push(t.menuExpanded),Object(d.cloneDeep)(K);case"PULL_MEETING_VIDEO":var D=t.connectionId,P=Object(d.some)(K.videos,{id:D});return P&&(K.videos=Object(d.reject)(K.videos,{id:D})),Object(d.cloneDeep)(K);case"PULL_MEETING_MENU_EXPANDED":return Object(d.pull)(K.menuExpanded,t.menuExpanded),Object(d.cloneDeep)(K);case"RESET_MEETING":return K.id="",K.connectionId="",K.videos=[],K.menuExpanded=["top","bottom"],Object(d.cloneDeep)(K);default:return e}},hostCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REPLACE_HOST_CREATE_NAME":return re.name=t.name,Object(d.cloneDeep)(re);case"REPLACE_HOST_CREATE_USERNAME":return re.username=t.username,Object(d.cloneDeep)(re);case"REPLACE_HOST_CREATE_PASSWORD":return re.password=t.password,Object(d.cloneDeep)(re);default:return e}},hosts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REPLACE_HOSTS_HOSTS":return ie.hosts=t.hosts,Object(d.cloneDeep)(ie);case"PUSH_HOSTS_HOST":return ie.hosts.unshift(t.host),Object(d.cloneDeep)(ie);case"PULL_HOSTS_HOST":var n=t.id,a=Object(d.some)(ie.hosts,{id:n});return a&&(ie.hosts=Object(d.reject)(ie.hosts,{id:n})),Object(d.cloneDeep)(ie);default:return e}},privacy:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REPLACE_PRIVACY_PRIVACY":return ce.privacy=t.privacy,Object(d.cloneDeep)(ce);default:return e}},privacyEdit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REPLACE_PRIVACY_EDIT_PRIVACY":return oe.privacy=t.privacy,Object(d.cloneDeep)(oe);default:return e}},whiteboard:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REPLACE_WHITEBOARD_ACTIVE_MENU":return se.activeMenu=t.activeMenu,Object(d.cloneDeep)(se);case"REPLACE_WHITEBOARD_BRUSH_SIZE":return se.brushSize=t.brushSize,Object(d.cloneDeep)(se);case"REPLACE_WHITEBOARD_BRUSH_COLOR":return se.brushColor=t.brushColor,Object(d.cloneDeep)(se);default:return e}}}),de=Object(W.createStore)(le,Object(U.composeWithDevTools)(Object(W.applyMiddleware)())),ue=function(){function e(){Object(o.a)(this,e)}return Object(s.a)(e,null,[{key:"clearAutoClose",value:function(){var e=X(de.getState()).timeoutId;clearTimeout(e),de.dispatch(F.replaceTimeoutId(0))}},{key:"setAutoClose",value:function(){var e=this,t=window.setTimeout((function(){de.dispatch(F.replaceMessage("")),e.clearAutoClose()}),this.timeout);de.dispatch(F.replaceTimeoutId(t))}},{key:"push",value:function(e,t){this.pull(),de.dispatch(F.replaceMessage(e)),t?de.dispatch(F.replaceHandleProceed(t)):this.setAutoClose()}},{key:"pull",value:function(){this.clearAutoClose(),de.dispatch(F.replaceMessage("")),de.dispatch(F.replaceHandleProceed(null))}}]),e}();ue.timeout=5e3;var he=n(34),me=n.n(he),ve=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).handleClick=a.handleClick.bind(Object(H.a)(a)),a.handleCancelClick=a.handleCancelClick.bind(Object(H.a)(a)),a.handleProceedClick=a.handleProceedClick.bind(Object(H.a)(a)),a}return Object(s.a)(n,[{key:"handleClick",value:function(){this.props.handleProceed||ue.pull()}},{key:"handleCancelClick",value:function(){ue.pull()}},{key:"handleProceedClick",value:function(){this.props.handleProceed&&(this.props.handleProceed(),ue.pull())}},{key:"render",value:function(){return this.props.message&&r.a.createElement("div",{className:this.className,onClick:this.handleClick},r.a.createElement("div",{className:me.a.content},r.a.createElement(l.h,{className:me.a.icon,icon:L.b}),r.a.createElement("span",{className:me.a.message},this.props.message)),this.actions)}},{key:"className",get:function(){var e=!this.props.handleProceed&&me.a.cursor;return"".concat(me.a.alert," ").concat(e)}},{key:"actions",get:function(){return this.props.handleProceed&&r.a.createElement("div",{className:me.a.actions},r.a.createElement("div",{className:me.a.cancel,onClick:this.handleCancelClick},"No"),r.a.createElement("div",{className:me.a.proceed,onClick:this.handleProceedClick},"Yes"))}}]),n}(a.Component),pe=Object(V.b)(X,F)(ve),Ce=n(63),be=n.n(Ce),Ee=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:be.a.page},r.a.createElement("div",{className:this.mainClassName},r.a.createElement(y,{visibility:this.headerVisibility,invert:this.props.invert}),r.a.createElement(j,{visibility:this.containerVisibility,width:this.props.container},this.props.children)),r.a.createElement(P,{visibility:this.footerVisibility,invert:this.footerInvert}),r.a.createElement(pe,null))}},{key:"mainClassName",get:function(){var e=this.props.invert&&be.a.invert,t=be.a[this.props.container];return"".concat(be.a.main," ").concat(e," ").concat(t)}},{key:"headerVisibility",get:function(){return"full"!==this.props.container}},{key:"containerVisibility",get:function(){return!this.props.invert}},{key:"footerVisibility",get:function(){return"small"===this.props.container}},{key:"footerInvert",get:function(){return!this.props.invert}}]),n}(a.Component),ge=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).timeout=void 0,a.timeoutId=void 0,a.timeout=2e3,a.timeoutId=null,a}return Object(s.a)(n,[{key:"autoRoute",value:function(){var e=this;this.timeoutId=window.setTimeout((function(){return e.props.history.push(ra.home.path)}),this.timeout)}},{key:"preventAutoRoute",value:function(){this.timeoutId&&clearTimeout(this.timeoutId)}},{key:"handleDeeplinkOpen",value:function(){var e=this;k.a.App.addListener("appUrlOpen",(function(t){var n=t.url.split("musicfun.stagetrack.online").pop(),a=Object(d.startsWith)(n,"/join?id="),r=Object(d.includes)(["/start","/start/"],n);(a||r)&&(e.preventAutoRoute(),e.props.history.push(n))}))}},{key:"componentDidMount",value:function(){this.autoRoute(),this.handleDeeplinkOpen()}},{key:"render",value:function(){return r.a.createElement(l.j,null,r.a.createElement(l.e,null,r.a.createElement(Ee,{invert:!0,container:"small"})))}}]),n}(a.Component),fe=Object(f.f)(ge),ke=n(98),Ne=n.n(ke),_e=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:Ne.a.button},r.a.createElement(l.b,{className:Ne.a.content,shape:"round",expand:"block",onClick:this.props.handleClick},this.props.text))}}]),n}(a.Component),we=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).handleStartClick=a.handleStartClick.bind(Object(H.a)(a)),a.handleJoinClick=a.handleJoinClick.bind(Object(H.a)(a)),a}return Object(s.a)(n,[{key:"handleStartClick",value:function(){this.props.history.push(ra.start.path)}},{key:"handleJoinClick",value:function(){this.props.history.push(ra.join.path)}},{key:"render",value:function(){return r.a.createElement(l.j,null,r.a.createElement(l.e,null,r.a.createElement(Ee,{invert:!1,container:"small"},r.a.createElement(l.g,null,r.a.createElement(l.m,null,r.a.createElement(l.d,null,r.a.createElement(_e,{text:"Start a Meeting",handleClick:this.handleStartClick}),r.a.createElement(_e,{text:"Join a Meeting",handleClick:this.handleJoinClick})))))))}}]),n}(a.Component),ye=Object(f.f)(we),Se=n(143),Oe=n.n(Se),je=n(144),Me=n.n(je),Ie=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement("input",{className:Me.a.input,name:this.props.name,type:this.props.type,value:this.props.value,placeholder:this.props.placeholder,onChange:this.props.handleChange,autoComplete:"off"})}}]),n}(a.Component),Be=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).handleInputChange=a.handleInputChange.bind(Object(H.a)(a)),a.handleJoinClick=a.handleJoinClick.bind(Object(H.a)(a)),a}return Object(s.a)(n,[{key:"handleInputChange",value:function(e){var t=e.target,n=t.value;"meetingId"===t.name&&this.props.replaceMeetingId(n)}},{key:"handleJoinClick",value:function(){var e=Object(d.trim)(this.props.meetingId);if(!e){return ue.push("Meeting ID is not allowed to be empty")}this.props.replaceMeetingMeetingId(e),this.props.history.push(ra.meeting.path)}},{key:"setMeetingIdFromUrl",value:function(){var e=this.props.history.location.search,t=Oe.a.parse(e,{ignoreQueryPrefix:!0}).id;t&&this.props.replaceMeetingId(t)}},{key:"clearForm",value:function(){this.props.replaceMeetingId("")}},{key:"componentDidMount",value:function(){this.setMeetingIdFromUrl()}},{key:"componentWillUnmount",value:function(){this.clearForm()}},{key:"render",value:function(){return r.a.createElement(l.j,null,r.a.createElement(l.e,null,r.a.createElement(Ee,{invert:!1,container:"small"},r.a.createElement(l.g,null,r.a.createElement(l.m,null,r.a.createElement(l.d,null,r.a.createElement(Ie,{name:"meetingId",type:"text",value:this.props.meetingId,placeholder:"Meeting ID",handleChange:this.handleInputChange}),r.a.createElement(_e,{text:"Join Meeting",handleClick:this.handleJoinClick})))))))}}]),n}(a.Component),Re=Object(f.f)(Object(V.b)((function(e){return Object(d.cloneDeep)(e.join)}),te)(Be)),Ae=n(145),Te=n.n(Ae),xe=function(){function e(){Object(o.a)(this,e),this.storage=k.a.Storage,this.isElectron=Object(l.v)("electron")}return Object(s.a)(e,[{key:"get",value:function(){var e=Object(b.a)(C.a.mark((function e(t){var n,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isElectron){e.next=4;break}return e.abrupt("return",window.localStorage.getItem(t));case 4:return e.next=6,this.storage.get({key:t});case 6:return n=e.sent,a=n.value,e.abrupt("return",a);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(){var e=Object(b.a)(C.a.mark((function e(t,n){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isElectron){e.next=4;break}window.localStorage.setItem(t,n),e.next=6;break;case 4:return e.next=6,this.storage.set({key:t,value:n});case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"remove",value:function(){var e=Object(b.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isElectron){e.next=4;break}window.localStorage.removeItem(t),e.next=6;break;case 4:return e.next=6,this.storage.remove({key:t});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),De=function(){function e(){Object(o.a)(this,e),this.key=void 0,this.storageService=void 0,this.key={pwaInstallPrompted:"pwaInstallPrompted",accessToken:"accessToken"},this.storageService=new xe}return Object(s.a)(e,[{key:"checkPwaPrompted",value:function(){var e=Object(b.a)(C.a.mark((function e(t){var n,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storageService.get(this.key.pwaInstallPrompted);case 2:n=e.sent,a=!!n&&Boolean(JSON.parse(n)),t(a);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setPwaInstallPrompted",value:function(){var e=Object(b.a)(C.a.mark((function e(t){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=JSON.stringify(!0),e.next=3,this.storageService.set(this.key.pwaInstallPrompted,n);case 3:t();case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAccessToken",value:function(){var e=Object(b.a)(C.a.mark((function e(t){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storageService.get(this.key.accessToken);case 2:n=e.sent,t(n);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setAccessToken",value:function(){var e=Object(b.a)(C.a.mark((function e(t,n){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storageService.set(this.key.accessToken,t);case 2:n();case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"removeAccessToken",value:function(){var e=Object(b.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storageService.remove(this.key.accessToken);case 2:t();case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Pe=function(){function e(){Object(o.a)(this,e),this.appStorage=void 0,this.appStorage=new De}return Object(s.a)(e,[{key:"getClient",value:function(e){this.appStorage.getAccessToken((function(t){var n=Te.a.create({baseURL:"https://".concat("api.musicfun.stagetrack.online"),headers:{Authorization:"Bearer ".concat(t)}});e(n)}))}},{key:"handleError",value:function(e){var t=e.response&&e.response.data.message||e.message;ue.push(t)}},{key:"get",value:function(e,t){var n=this;this.getClient((function(a){a.get(e).then((function(e){return t(e.data)})).catch((function(e){t(null),n.handleError(e)}))}))}},{key:"post",value:function(e,t,n){var a=this;this.getClient((function(r){r.post(e,t).then((function(e){return n(e.data)})).catch((function(e){n(null),a.handleError(e)}))}))}},{key:"patch",value:function(e,t,n){var a=this;this.getClient((function(r){r.patch(e,t).then((function(e){return n(e.data)})).catch((function(e){n(null),a.handleError(e)}))}))}},{key:"delete",value:function(e,t,n){var a=this;this.getClient((function(r){r.delete(e,{data:t}).then((function(e){return n(e.data)})).catch((function(e){n(null),a.handleError(e)}))}))}}]),e}(),He=function(){function e(){Object(o.a)(this,e),this.requestService=void 0,this.appStorage=void 0,this.requestService=new Pe,this.appStorage=new De}return Object(s.a)(e,[{key:"updateLastMeetingAt",value:function(e,t){var n={id:e};this.requestService.patch("/host/lastMeetingAt",n,(function(e){e&&t()}))}},{key:"signIn",value:function(e,t){var n=this;this.requestService.post("/host/signIn",e,(function(e){if(e){var a=e.id,r=e.accessToken;n.appStorage.setAccessToken(r,(function(){n.updateLastMeetingAt(a,t)}))}}))}}]),e}(),Ve=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).request=void 0,a.request=new He,a.handleInputChange=a.handleInputChange.bind(Object(H.a)(a)),a.handleStartClick=a.handleStartClick.bind(Object(H.a)(a)),a}return Object(s.a)(n,[{key:"handleInputChange",value:function(e){var t=e.target,n=t.value;switch(t.name){case"username":this.props.replaceUsername(n);break;case"password":this.props.replacePassword(n)}}},{key:"handleStartClick",value:function(){var e=this,t=this.props,n={username:t.username,password:t.password};this.request.signIn(n,(function(){e.props.replaceAppAuthType("host"),e.props.history.push(ra.meeting.path)}))}},{key:"clearForm",value:function(){this.props.replaceUsername(""),this.props.replacePassword("")}},{key:"componentWillUnmount",value:function(){this.clearForm()}},{key:"render",value:function(){return r.a.createElement(l.j,null,r.a.createElement(l.e,null,r.a.createElement(Ee,{invert:!1,container:"small"},r.a.createElement(l.g,null,r.a.createElement(l.m,null,r.a.createElement(l.d,null,r.a.createElement(Ie,{name:"username",type:"text",value:this.props.username,placeholder:"Username",handleChange:this.handleInputChange}),r.a.createElement(Ie,{name:"password",type:"password",value:this.props.password,placeholder:"Password",handleChange:this.handleInputChange}),r.a.createElement(_e,{text:"Start Meeting",handleClick:this.handleStartClick})))))))}}]),n}(a.Component),Le=Object(f.f)(Object(V.b)((function(e){return Object(d.cloneDeep)(e.start)}),ae)(Ve)),We=n(146),Ue=n.n(We),ze=function(){function e(){Object(o.a)(this,e),this.client=void 0,this.client=new Ue.a(e.options)}return Object(s.a)(e,[{key:"getErrorMessage",value:function(e){switch(e){case"browser-incompatible":return"Device doesn't support WebRTC";case"disconnected":return"Already disconnected meeting";case"invalid-id":return"Invalid connection ID";case"invalid-key":return"Invalid API key";case"network":return"Can't establish network connection";case"peer-unavailable":return"Meeting ID doesn't exist";case"ssl-unavailable":return"Server doesn't support SSL";case"server-error":return"Unable to reach server";case"socket-error":return"Underlying socket error";case"socket-closed":return"Underlying socket closed";case"unavailable-id":return"Connection ID already taken";case"webrtc":return"Device doesn't support WebRTC";default:return"Something went wrong"}}},{key:"handleErrors",value:function(e){var t=this;this.client.on("error",(function(n){var a=n.type,r=t.getErrorMessage(a);ue.push(r);Object(d.includes)(["network","server-error","peer-unavailable"],a)&&e.push(ra.home.path)}))}},{key:"onOpen",value:function(e){this.client.on("open",(function(t){return e(t)}))}},{key:"call",value:function(e,t,n){var a=this.client.call(e,t);n(a)}},{key:"onReceiveCall",value:function(e){this.client.on("call",(function(t){return e(t)}))}},{key:"answerCall",value:function(e,t){e.answer(t)}},{key:"onCalling",value:function(e,t){e.on("stream",(function(n){var a=e.peer;t(a,n)}))}},{key:"disconnect",value:function(){this.client.destroy()}},{key:"onDisconnect",value:function(e){this.client.on("close",(function(){return e()}))}}]),e}();ze.options={host:"api.musicfun.stagetrack.online",path:"/peer",secure:!0};var qe=function(){function e(){Object(o.a)(this,e)}return Object(s.a)(e,[{key:"isHostAuth",value:function(){var e;return"host"===(e=de.getState(),Object(d.cloneDeep)(e.app)).auth.type}},{key:"resetType",value:function(){de.dispatch(q(null))}}]),e}(),Ge=function(){function e(){Object(o.a)(this,e),this.authService=void 0,this.authService=new qe}return Object(s.a)(e,[{key:"setMeetingId",value:function(e){this.authService.isHostAuth()&&de.dispatch(Q.replaceId(e))}},{key:"setConnectionId",value:function(e){de.dispatch(Q.replaceConnectionId(e))}},{key:"isExistsUserVideo",value:function(e){var t=$(de.getState()).videos;return Object(d.some)(t,{id:e})}},{key:"setId",value:function(e,t){this.setMeetingId(e),this.setConnectionId(e),t(this.getMeetingId())}},{key:"setMediaStream",value:function(e){de.dispatch(Q.replaceMediaStream(e))}},{key:"setScreenStream",value:function(e){de.dispatch(Q.replaceScreenStream(e))}},{key:"getMediaStream",value:function(){return $(de.getState()).mediaStream}},{key:"getScreenStream",value:function(){return $(de.getState()).screenStream}},{key:"getMeetingId",value:function(){return $(de.getState()).id}},{key:"getConnectionId",value:function(){return $(de.getState()).connectionId}},{key:"getCalls",value:function(){return $(de.getState()).calls}},{key:"isHostMeeting",value:function(e){return $(de.getState()).id===e}},{key:"isMemberMeeting",value:function(e){return!this.isHostMeeting(e)}},{key:"isUserMeeting",value:function(e){return e===$(de.getState()).connectionId}},{key:"canMemberRemove",value:function(e){return this.authService.isHostAuth()&&!this.isHostMeeting(e)}},{key:"canConferenceCall",value:function(e){return!this.isHostMeeting(e)&&!this.isExistsUserVideo(e)}},{key:"resetMeeting",value:function(){de.dispatch(Q.reset())}},{key:"pushCall",value:function(e){de.dispatch(Q.pushCall(e))}}]),e}(),Fe=function(){function e(){Object(o.a)(this,e),this.meetingService=void 0,this.meetingService=new Ge}return Object(s.a)(e,[{key:"getStream",value:function(){var e=Object(b.a)(C.a.mark((function e(t,n){var a,r,i;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=navigator.mediaDevices.getUserMedia,r={video:!0,audio:!0},e.next=5,a(r);case 5:i=e.sent,this.meetingService.setMediaStream(i),n(i),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),ue.push("Device doesn't support WebRTC"),t.push(ra.home.path);case 14:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getAudioStream",value:function(){var e=Object(b.a)(C.a.mark((function e(t){var n,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={audio:!0,video:!1},e.next=4,navigator.mediaDevices.getUserMedia(n);case 4:a=e.sent,t(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ue.push("Device doesn't support audio capture");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"toggleVideoMute",value:function(e){var t=Object(d.first)(e.getVideoTracks());return t&&(t.enabled=!t.enabled),!!t&&t.enabled}},{key:"toggleAudioMute",value:function(e){var t=Object(d.first)(e.getAudioTracks());return t&&(t.enabled=!t.enabled),!!t&&t.enabled}}]),e}(),Xe=function(){function e(){Object(o.a)(this,e)}return Object(s.a)(e,[{key:"getVideo",value:function(e){var t=$(de.getState()).videos;return Object(d.find)(t,(function(t){return t.id===e}))}},{key:"getUserVideo",value:function(){var e=$(de.getState()).connectionId;return this.getVideo(e)}},{key:"setHostVideoActive",value:function(){var e=$(de.getState()).id;de.dispatch(Q.replaceVideoActive(e,!0))}}]),e}(),Je=function(){function e(){Object(o.a)(this,e),this.meetingRepository=void 0,this.meetingRepository=new Xe}return Object(s.a)(e,[{key:"stop",value:function(e){var t=e.getTracks();Object(d.forEach)(t,(function(e){return e.stop()}))}},{key:"isVideoEnabled",get:function(){var e=this.meetingRepository.getUserVideo(),t=e&&Object(d.first)(e.stream.getVideoTracks());return Boolean(t&&t.enabled)}},{key:"isAudioEnabled",get:function(){var e=this.meetingRepository.getUserVideo(),t=e&&Object(d.first)(e.stream.getAudioTracks());return Boolean(t&&t.enabled)}}]),e}(),Ye=function(){function e(){Object(o.a)(this,e),this.meetingService=void 0,this.streamTrackService=void 0,this.meetingRepository=void 0,this.meetingService=new Ge,this.streamTrackService=new Je,this.meetingRepository=new Xe}return Object(s.a)(e,[{key:"hasVideo",value:function(e){var t=$(de.getState()).videos;return Object(d.some)(t,{id:e})}},{key:"createVideo",value:function(e,t,n,a){var r=this.meetingService.isUserMeeting(e);a({id:e,stream:t,kind:n,raiseHand:!1,memberRemove:this.meetingService.canMemberRemove(e),active:this.meetingService.isHostMeeting(e),muted:r,streamMuted:{video:!1,audio:!1},renderId:Object(Z.a)()})}},{key:"createMediaVideo",value:function(e,t,n){this.createVideo(e,t,"media",n)}},{key:"pushVideo",value:function(e){de.dispatch(Q.pushVideo(e)),setTimeout((function(){de.dispatch(Q.updateVideoRenderId(e.id))}),300)}},{key:"pullVideo",value:function(e){de.dispatch(Q.pullVideo(e))}},{key:"stopUserVideo",value:function(){var e=this.meetingRepository.getUserVideo();e&&this.streamTrackService.stop(e.stream)}},{key:"replaceUserStream",value:function(e,t){var n=$(de.getState()).connectionId;de.dispatch(Q.replaceVideoKind(n,t)),de.dispatch(Q.replaceVideoStream(n,e))}}]),e}(),Ze=n(147),Ke=function(){function e(){Object(o.a)(this,e),this.authService=void 0,this.meetingService=void 0,this.authService=new qe,this.meetingService=new Ge}return Object(s.a)(e,[{key:"canNotifyHost",value:function(e){var t=this.authService.isHostAuth(),n=this.meetingService.isExistsUserVideo(e);return t&&!n}},{key:"canNotifyMember",value:function(e){return!this.meetingService.isExistsUserVideo(e)}},{key:"playNotification",value:function(){new Ze.Howl({src:["/assets/notification.mp3"]}).play()}},{key:"notifyHost",value:function(e){this.canNotifyHost(e)&&this.playNotification()}},{key:"notifyMember",value:function(e){this.canNotifyMember(e)&&this.playNotification()}}]),e}(),Qe=n(73),$e=function(){function e(){return Object(o.a)(this,e),e.instance||(e.instance=this),e.instance}return Object(s.a)(e,[{key:"initialize",value:function(){e.canvas=new Qe.fabric.Canvas("whiteboardCanvas",{isDrawingMode:!0})}},{key:"getCanvas",value:function(){return e.canvas}},{key:"setDimensions",value:function(t,n){e.canvas.setDimensions({width:t,height:n})}},{key:"zoom",value:function(t){var n=e.canvas.getZoom();"in"===t?e.canvas.setZoom(1.1*n):"out"===t&&e.canvas.setZoom(.9*n)}},{key:"clear",value:function(){e.canvas.clear()}}]),e}();$e.instance=void 0,$e.canvas=void 0;var et=function(){function e(){Object(o.a)(this,e),this.whiteboardCanvasService=void 0,this.whiteboardCanvasService=new $e}return Object(s.a)(e,[{key:"parse",value:function(e,t){Qe.fabric.util.enlivenObjects([e],t,"")}},{key:"isExists",value:function(e){var t=JSON.parse(JSON.stringify(this.getDrawings())),n=Object(d.findIndex)(t,e)>=0;return n}},{key:"add",value:function(e){var t=this;Object(d.forEach)(e,(function(e){return t.canvas.add(e)}))}},{key:"getDrawings",value:function(){return this.canvas.getObjects()}},{key:"handleAdd",value:function(e){this.canvas.on("object:added",e)}},{key:"canvas",get:function(){return this.whiteboardCanvasService.getCanvas()}}]),e}(),tt=function(){function e(){Object(o.a)(this,e),this.contraints={video:!0,audio:!0},this.meetingService=void 0,this.mediaService=void 0,this.meetingService=new Ge,this.mediaService=new Fe}return Object(s.a)(e,[{key:"handleDisplayMediaError",value:function(e){var t={"Permission denied by system":"Permission denied by system","Permission denied":null,"*":"Device does not support screen capture"},n=t[e.message],a=void 0===n?t["*"]:n,r=null!==a&&a;r&&ue.push(r)}},{key:"attachAudioTracks",value:function(){var e=Object(b.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.mediaService.getAudioStream((function(e){var n=e.getAudioTracks();Object(d.forEach)(n,(function(e){return t.addTrack(e)}))}));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getStream",value:function(){var e=Object(b.a)(C.a.mark((function e(t){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.mediaDevices.getDisplayMedia(this.contraints);case 3:return n=e.sent,e.next=6,this.attachAudioTracks(n);case 6:this.meetingService.setScreenStream(n),t(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),this.handleDisplayMediaError(e.t0);case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),nt=n(148),at=function(){function e(){Object(o.a)(this,e)}return Object(s.a)(e,null,[{key:"connect",value:function(){var t="https://".concat("api.musicfun.stagetrack.online","/socket");e.client=new nt.Client(t)}},{key:"subscribe",value:function(t,n){e.client.subscribe(t,(function(e){return n(e)}))}},{key:"unsubscribe",value:function(t){e.client.unsubscribe(t)}},{key:"publish",value:function(t,n){e.client.publish(t,n)}}]),e}();at.client=void 0;var rt={raiseHand:{channel:function(e){return"/raiseHand/".concat(e)},subscribe:function(e,t){at.subscribe(this.channel(e),(function(e){return t(e)}))},unsubscribe:function(e){at.unsubscribe(this.channel(e))},publish:function(e,t){at.publish(this.channel(e),t)}},conferenceCall:{channel:function(e){return"/conferenceCall/".concat(e)},subscribe:function(e,t){at.subscribe(this.channel(e),(function(e){return t(e)}))},unsubscribe:function(e){at.unsubscribe(this.channel(e))},publish:function(e,t){at.publish(this.channel(e),t)}},remoteDisconnect:{channel:function(e){return"/remoteDisconnect/".concat(e)},subscribe:function(e,t){at.subscribe(this.channel(e),(function(e){return t(e)}))},unsubscribe:function(e){at.unsubscribe(this.channel(e))},publish:function(e,t){at.publish(this.channel(e),t)}},memberRemove:{channel:function(e){return"/memberRemove/".concat(e)},subscribe:function(e,t){at.subscribe(this.channel(e),(function(e){return t(e)}))},unsubscribe:function(e){at.unsubscribe(this.channel(e))},publish:function(e,t){at.publish(this.channel(e),t)}},rtpTrackReplaced:{channel:function(e){return"/rtpTrackReplaced/".concat(e)},subscribe:function(e,t){at.subscribe(this.channel(e),(function(e){return t(e)}))},unsubscribe:function(e){at.unsubscribe(this.channel(e))},publish:function(e,t){at.publish(this.channel(e),t)}},whiteboardEnabled:{channel:function(e){return"/whiteboardEnabled/".concat(e)},subscribe:function(e,t){at.subscribe(this.channel(e),(function(e){return t(e)}))},unsubscribe:function(e){at.unsubscribe(this.channel(e))},publish:function(e,t){at.publish(this.channel(e),t)}},whiteboardDrawingSync:{channel:function(e){return"/whiteboardDrawingSync/".concat(e)},subscribe:function(e,t){at.subscribe(this.channel(e),(function(e){return t(e)}))},unsubscribe:function(e){at.unsubscribe(this.channel(e))},publish:function(e,t){at.publish(this.channel(e),t)}},whiteboardDrawingAdd:{channel:function(e){return"/whiteboardDrawingAdd/".concat(e)},subscribe:function(e,t){at.subscribe(this.channel(e),(function(e){return t(e)}))},unsubscribe:function(e){at.unsubscribe(this.channel(e))},publish:function(e,t){at.publish(this.channel(e),t)}},whiteboardCanvasClear:{channel:function(e){return"/whiteboardCanvasClear/".concat(e)},subscribe:function(e,t){at.subscribe(this.channel(e),t)},unsubscribe:function(e){at.unsubscribe(this.channel(e))},publish:function(e){at.publish(this.channel(e),null)}}},it=function(){function e(){Object(o.a)(this,e),this.meetingService=void 0,this.meetingRepository=void 0,this.meetingService=new Ge,this.meetingRepository=new Xe}return Object(s.a)(e,[{key:"publishRTCTrackReplacedSocket",value:function(){var e=this.meetingService.getMeetingId(),t=this.meetingService.getConnectionId(),n=this.meetingRepository.getVideo(t);if(n){var a={connectionId:t,kind:n.kind};rt.rtpTrackReplaced.publish(e,a)}}},{key:"replaceStream",value:function(e){var t=this.meetingService.getCalls();Object(d.forEach)(t,(function(t){var n=t.peerConnection.getSenders(),a=e.getTracks(),r=Object(d.find)(n,(function(e){var t=e.track;return"audio"===(null===t||void 0===t?void 0:t.kind)})),i=Object(d.find)(n,(function(e){var t=e.track;return"video"===(null===t||void 0===t?void 0:t.kind)})),c=Object(d.find)(a,(function(e){return"audio"===e.kind})),o=Object(d.find)(a,(function(e){return"video"===e.kind}));r&&c&&r.replaceTrack(c),i&&o&&i.replaceTrack(o)})),this.publishRTCTrackReplacedSocket()}}]),e}(),ct=function(){function e(){Object(o.a)(this,e),this.requestService=void 0,this.authService=void 0,this.requestService=new Pe,this.authService=new qe}return Object(s.a)(e,[{key:"auth",value:function(e){this.authService.isHostAuth()&&this.requestService.get("/host/auth",(function(t){t||e.push(ra.start.path)}))}}]),e}(),ot=n(74),st=n(48),lt=n.n(st),dt=n(64),ut=n.n(dt),ht=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).handleClick=a.handleClick.bind(Object(H.a)(a)),a}return Object(s.a)(n,[{key:"isPosition",value:function(e){return this.props.position===e}},{key:"handleClick",value:function(){this.props.handleChange(this.props.position)}},{key:"render",value:function(){return r.a.createElement("div",{className:this.className},r.a.createElement("div",{className:ut.a.notch,onClick:this.handleClick},r.a.createElement(l.h,{className:ut.a.icon,icon:this.icon})))}},{key:"className",get:function(){var e=ut.a[this.props.position];return"".concat(ut.a.menuToggle," ").concat(e)}},{key:"icon",get:function(){return this.isPosition("top")?this.props.isExpanded?L.i:L.g:this.isPosition("bottom")?this.props.isExpanded?L.g:L.i:void 0}}]),n}(a.Component),mt=n(78),vt=n.n(mt),pt=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).icons={invite:L.u,raiseHand:L.p,end:L.l,video:L.C,audio:L.t,screenShare:L.q,whiteboard:L.o,memberRemove:L.v},e}return Object(s.a)(n,[{key:"render",value:function(){return this.props.visibility&&r.a.createElement("div",{className:vt.a.menuItem,onClick:this.props.handleClick},r.a.createElement(l.h,{className:this.iconClass,icon:this.icon}))}},{key:"iconClass",get:function(){var e=this.props.active&&vt.a.active;return"".concat(vt.a.icon," ").concat(e)}},{key:"icon",get:function(){return this.icons[this.props.name]}}]),n}(a.Component),Ct=n(65),bt=n.n(Ct),Et=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:this.className},this.menuItems)}},{key:"items",get:function(){return{top:[{name:"screenShare",active:this.props.canScreenShare,visibility:this.props.screenShareVisibility,handleClick:this.props.handleScreenShareClick},{name:"whiteboard",active:this.props.canWhiteboardEnable,visibility:!0,handleClick:this.props.handleWhiteboardClick},{name:"memberRemove",active:!0,visibility:this.props.canMemberRemove,handleClick:this.props.handleMemberRemoveClick}],bottom:[{name:"invite",active:this.props.canInviteMember,visibility:!0,handleClick:this.props.handleInviteMemberClick},{name:"raiseHand",active:this.props.canRaiseHand,visibility:!0,handleClick:this.props.handleRaiseHandClick},{name:"end",active:this.props.canEndMeeting,visibility:!0,handleClick:this.props.handleEndMeetingClick},{name:"video",active:this.props.canVideoMute,visibility:!0,handleClick:this.props.handleVideoClick},{name:"audio",active:this.props.canAudioMute,visibility:!0,handleClick:this.props.handleAudioClick}]}}},{key:"className",get:function(){var e=bt.a[this.props.position],t=Object(l.v)("mobile")&&bt.a.mobile;return"".concat(bt.a.menuItems," ").concat(e," ").concat(t)}},{key:"menuItems",get:function(){return this.items[this.props.position].map((function(e){return r.a.createElement("div",{className:bt.a.item,key:e.name},r.a.createElement(pt,{name:e.name,active:e.active,visibility:e.visibility,handleClick:e.handleClick}))}))}}]),n}(a.Component),gt=n(99),ft=n.n(gt),kt=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={visibility:!0},a.handleInviteMemberClick=a.handleInviteMemberClick.bind(Object(H.a)(a)),a.handleToggleChange=a.handleToggleChange.bind(Object(H.a)(a)),a}return Object(s.a)(n,[{key:"isPosition",value:function(e){return this.props.position===e}},{key:"handleToggleChange",value:function(e){this.props.handleToggleChange(e);var t=!this.props.isExpanded;this.setState({visibility:t})}},{key:"handleInviteMemberClick",value:function(){if(this.props.canInviteMember){var e=this.props.inviteText;Object(l.v)("hybrid")?ot.a.share(e):(lt()(e),ue.push("Invitation copied."))}}},{key:"menuToggle",value:function(e){return this.isPosition(e)&&r.a.createElement(ht,{isExpanded:this.props.isExpanded,position:this.props.position,handleChange:this.handleToggleChange})}},{key:"render",value:function(){return r.a.createElement("div",{className:this.className},this.menuToggle("bottom"),this.menuItems,this.menuToggle("top"))}},{key:"className",get:function(){var e=ft.a[this.props.position];return"".concat(ft.a.menu," ").concat(e)}},{key:"screenShareVisibility",get:function(){return!Object(l.v)("mobile")}},{key:"menuItems",get:function(){return this.state.visibility&&r.a.createElement(Et,{position:this.props.position,canInviteMember:this.props.canInviteMember,canRaiseHand:this.props.canRaiseHand,canEndMeeting:this.props.canEndMeeting,canVideoMute:this.props.canVideoMute,canAudioMute:this.props.canAudioMute,canScreenShare:this.props.canScreenShare,canWhiteboardEnable:this.props.canWhiteboardEnable,canMemberRemove:this.props.canMemberRemove,screenShareVisibility:this.screenShareVisibility,handleInviteMemberClick:this.handleInviteMemberClick,handleRaiseHandClick:this.props.handleRaiseHandClick,handleEndMeetingClick:this.props.handleEndMeetingClick,handleVideoClick:this.props.handleVideoClick,handleAudioClick:this.props.handleAudioClick,handleScreenShareClick:this.props.handleScreenShareClick,handleWhiteboardClick:this.props.handleWhiteboardClick,handleMemberRemoveClick:this.props.handleMemberRemoveClick})}}]),n}(a.Component),Nt=n(100),_t=n.n(Nt),wt=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={renderId:a.props.video.renderId},a.setSource=a.setSource.bind(Object(H.a)(a)),a}return Object(s.a)(n,[{key:"setSource",value:function(e){var t=this.props.video;e&&t&&(e.srcObject=t.stream)}},{key:"shouldComponentUpdate",value:function(e,t){var n=e.video.renderId,a=n!==t.renderId;return a&&this.setState({renderId:n}),a}},{key:"render",value:function(){var e=this;return r.a.createElement("video",{className:this.className,autoPlay:!0,muted:this.props.video.muted,playsInline:!0,ref:function(t){return e.setSource(t)}})}},{key:"className",get:function(){var e=!("screen"===this.props.video.kind)&&_t.a.horizontalFlip;return"".concat(_t.a.video," ").concat(e)}}]),n}(a.Component),yt=n(79),St=n.n(yt),Ot=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).colors={removeHost:"danger",raiseHand:"warning"},e.icons={removeHost:L.v,raiseHand:L.p},e}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:St.a.floatButton},r.a.createElement(l.f,{className:St.a.button,color:this.color,size:"small",onClick:this.props.handleClick},r.a.createElement(l.h,{className:St.a.icon,icon:this.icon})))}},{key:"color",get:function(){return this.colors[this.props.name]}},{key:"icon",get:function(){return this.icons[this.props.name]}}]),n}(a.Component),jt=n(150),Mt=n.n(jt),It=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return this.props.visibility&&r.a.createElement("div",{className:Mt.a.raiseHand},r.a.createElement(Ot,{name:"raiseHand"}))}}]),n}(a.Component),Bt=n(66),Rt=n.n(Bt),At=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).handleClick=a.handleClick.bind(Object(H.a)(a)),a}return Object(s.a)(n,[{key:"handleClick",value:function(){this.props.handleClick(this.props.video)}},{key:"render",value:function(){return r.a.createElement("div",{className:this.className,onClick:this.handleClick},r.a.createElement("div",{className:Rt.a.content},r.a.createElement(wt,{video:this.props.video}),r.a.createElement(It,{visibility:this.props.video.raiseHand})))}},{key:"className",get:function(){var e=Rt.a[this.props.ratio],t=Object(l.v)("mobile")&&Rt.a.mobile;return"".concat(Rt.a.videoBlock," ").concat(e," ").concat(t)}}]),n}(a.Component),Tt=function(){function e(){Object(o.a)(this,e),this.whiteboardCanvasService=void 0,this.whiteboardCanvasService=new $e}return Object(s.a)(e,[{key:"setColor",value:function(e){this.brush.color=e}},{key:"setSize",value:function(e){this.brush.width=parseInt(e,10)}},{key:"brush",get:function(){return this.whiteboardCanvasService.getCanvas().freeDrawingBrush}}]),e}(),xt=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).whiteboardCanvasService=void 0,a.whiteboardCanvasService=new $e,a}return Object(s.a)(n,[{key:"setDimensions",value:function(){var e,t,n=null===(e=document.getElementById("newMainContentRightInnerTextarea"))||void 0===e?void 0:e.clientWidth,a=n||900,r=null===(t=document.getElementById("newMainContentRightInnerTextarea"))||void 0===t?void 0:t.clientHeight,i=Object(l.v)("mobile")?a:r;this.whiteboardCanvasService.setDimensions(n,i)}},{key:"componentDidMount",value:function(){this.whiteboardCanvasService.initialize(),this.setDimensions()}},{key:"render",value:function(){return r.a.createElement("div",{onMouseDown:this.props.handleClick,onTouchStart:this.props.handleClick},r.a.createElement("canvas",{id:"whiteboardCanvas"}))}}]),n}(a.Component),Dt=n(101),Pt=n.n(Dt),Ht=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).icons={color:L.n,size:L.d,zoomIn:L.a,zoomOut:L.w,clear:L.B},a.handleClick=a.handleClick.bind(Object(H.a)(a)),a}return Object(s.a)(n,[{key:"handleClick",value:function(){this.props.handleClick(this.props.name)}},{key:"render",value:function(){return r.a.createElement(l.h,{className:this.className,icon:this.icon,onClick:this.handleClick})}},{key:"className",get:function(){var e=Object(l.v)("mobile")&&Pt.a.mobile;return"".concat(Pt.a.whiteboardMenuItem," ").concat(e)}},{key:"icon",get:function(){return this.icons[this.props.name]}}]),n}(a.Component),Vt=n(102),Lt=n.n(Vt),Wt=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).handleClick=a.handleClick.bind(Object(H.a)(a)),a}return Object(s.a)(n,[{key:"handleClick",value:function(){this.props.handleClick(this.props.color)}},{key:"render",value:function(){return r.a.createElement("div",{className:this.className,style:this.style,onClick:this.handleClick})}},{key:"className",get:function(){var e=this.props.active&&Lt.a.active;return"".concat(Lt.a.whiteboardBrushColorItem," ").concat(e)}},{key:"style",get:function(){return{background:this.props.color.hex}}}]),n}(a.Component),Ut=n(151),zt=n.n(Ut),qt=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).whiteboardBrushService=void 0,a.whiteboardBrushService=new Tt,a}return Object(s.a)(n,[{key:"isActiveColor",value:function(e){return e.hex===this.props.color}},{key:"render",value:function(){return r.a.createElement("div",{className:zt.a.whiteboardBrushColor},this.colors)}},{key:"colors",get:function(){var e=this;return n.colors.map((function(t){return r.a.createElement(Wt,{color:t,active:e.isActiveColor(t),handleClick:e.props.handleChange,key:t.name})}))}}]),n}(a.Component);qt.colors=[{name:"black",hex:"#000000"},{name:"brown",hex:"#795548"},{name:"red",hex:"#D0021B"},{name:"purple",hex:"#E040FB"},{name:"blue",hex:"#03A9F4"},{name:"green",hex:"#009688"},{name:"lime",hex:"#8BC34A"},{name:"yellow",hex:"#FFC107"},{name:"gray",hex:"#9E9E9E"}];var Gt=n(80),Ft=n.n(Gt),Xt=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).whiteboardBrushService=void 0,a.whiteboardBrushService=new Tt,a}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:Ft.a.whiteboardBrushSize},r.a.createElement("div",{className:Ft.a.size},this.size),r.a.createElement("input",{className:Ft.a.sizeInput,type:"range",min:"1",max:"10",value:this.props.size,onChange:this.props.handleChange}))}},{key:"size",get:function(){return"".concat(this.props.size,"x")}}]),n}(a.Component),Jt=n(103),Yt=n.n(Jt),Zt=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"isActive",value:function(e){return this.props.active===e}},{key:"render",value:function(){return this.props.active&&r.a.createElement("div",{className:this.className},this.whiteboardBrushColor,this.whiteboardBrushSize)}},{key:"className",get:function(){var e=this.isActive("size")&&Yt.a.brushSizeWrapper;return"".concat(Yt.a.whiteboardMenuContent," ").concat(e)}},{key:"whiteboardBrushColor",get:function(){return this.isActive("color")&&r.a.createElement(qt,{color:this.props.brushColor,handleChange:this.props.handleBrushColorChange})}},{key:"whiteboardBrushSize",get:function(){return this.isActive("size")&&r.a.createElement(Xt,{size:this.props.brushSize,handleChange:this.props.handleBrushSizeChange})}}]),n}(a.Component),Kt=n(152),Qt=n.n(Kt),$t=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).whiteboardCanvasService=void 0,a.whiteboardCanvasService=new $e,a.handleItemClick=a.handleItemClick.bind(Object(H.a)(a)),a}return Object(s.a)(n,[{key:"clearMenu",value:function(){this.props.handleActiveMenuClick(null)}},{key:"replaceActiveMenu",value:function(e){this.props.activeMenu===e?this.clearMenu():this.props.handleActiveMenuClick(e)}},{key:"zoomCanvas",value:function(e){this.whiteboardCanvasService.zoom(e),this.clearMenu()}},{key:"clearCanvas",value:function(){this.whiteboardCanvasService.clear(),this.props.handleCanvasClearClick(),this.clearMenu()}},{key:"handleItemClick",value:function(e){switch(e){case"color":this.replaceActiveMenu("color");break;case"size":this.replaceActiveMenu("size");break;case"zoomIn":this.zoomCanvas("in");break;case"zoomOut":this.zoomCanvas("out");break;case"clear":this.clearCanvas()}}},{key:"render",value:function(){return r.a.createElement("div",{className:Qt.a.whiteboardMenu},this.menuItems,r.a.createElement(Zt,{active:this.props.activeMenu,brushColor:this.props.brushColor,brushSize:this.props.brushSize,handleBrushColorChange:this.props.handleBrushColorChange,handleBrushSizeChange:this.props.handleBrushSizeChange}))}},{key:"menuItems",get:function(){var e=this;return n.items.map((function(t){return r.a.createElement(Ht,{name:t,handleClick:e.handleItemClick,key:t})}))}}]),n}(a.Component);$t.items=["color","size","zoomIn","zoomOut","clear"];var en=n(153),tn=n.n(en),nn=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).whiteboardDrawingService=void 0,a.whiteboardBrushService=void 0,a.whiteboardDrawingService=new et,a.whiteboardBrushService=new Tt,a.handleCanvasClick=a.handleCanvasClick.bind(Object(H.a)(a)),a.handleActiveMenuClick=a.handleActiveMenuClick.bind(Object(H.a)(a)),a.handleBrushColorChange=a.handleBrushColorChange.bind(Object(H.a)(a)),a.handleBrushSizeChange=a.handleBrushSizeChange.bind(Object(H.a)(a)),a}return Object(s.a)(n,[{key:"handleCanvasClick",value:function(){this.props.replaceActiveMenu(null)}},{key:"handleActiveMenuClick",value:function(e){this.props.replaceActiveMenu(e)}},{key:"handleAddDrawing",value:function(){var e=this;this.whiteboardDrawingService.handleAdd((function(t){e.props.handleDrawingAdd(t)}))}},{key:"handleBrushColorChange",value:function(e){this.whiteboardBrushService.setColor(e.hex),this.props.replaceColor(e.hex)}},{key:"handleBrushSizeChange",value:function(e){var t=e.target.value;this.whiteboardBrushService.setSize(t),this.props.replaceSize(t)}},{key:"syncDrawing",value:function(){var e=this,t=this.props.drawings;Object(d.forEach)(t,(function(t){!t._set?e.whiteboardDrawingService.parse(t,(function(t){e.whiteboardDrawingService.add(t)})):e.whiteboardDrawingService.add([t])}))}},{key:"setPresets",value:function(){this.whiteboardBrushService.setSize(this.props.brushSize),this.whiteboardBrushService.setColor(this.props.brushColor)}},{key:"componentDidMount",value:function(){this.handleAddDrawing(),this.syncDrawing(),this.setPresets()}},{key:"render",value:function(){return r.a.createElement("div",{className:tn.a.whiteboard},r.a.createElement(xt,{handleClick:this.handleCanvasClick}),r.a.createElement($t,{activeMenu:this.props.activeMenu,brushColor:this.props.brushColor,brushSize:this.props.brushSize,handleBrushColorChange:this.handleBrushColorChange,handleBrushSizeChange:this.handleBrushSizeChange,handleCanvasClearClick:this.props.handleCanvasClearClick,handleActiveMenuClick:this.handleActiveMenuClick}))}}]),n}(a.Component),an=Object(V.b)((function(e){return Object(d.cloneDeep)(e.whiteboard)}),{replaceActiveMenu:function(e){return{type:"REPLACE_WHITEBOARD_ACTIVE_MENU",activeMenu:e}},replaceSize:function(e){return{type:"REPLACE_WHITEBOARD_BRUSH_SIZE",brushSize:e}},replaceColor:function(e){return{type:"REPLACE_WHITEBOARD_BRUSH_COLOR",brushColor:e}}})(nn),rn=n(67),cn=n.n(rn),on=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement(l.d,{className:this.className},this.whiteboard,this.videoBlock)}},{key:"className",get:function(){var e=Object(l.v)("mobile")&&cn.a.mobile;return"".concat(cn.a.activeVideo," ").concat(e)}},{key:"videoBlockClassName",get:function(){var e=this.props.whiteboardEnabled&&cn.a.hide;return"".concat(cn.a.videoBlock," ").concat(e)}},{key:"videoBlock",get:function(){return r.a.createElement("div",{className:this.videoBlockClassName,style:{height:"100%"}},r.a.createElement(At,{ratio:"full",video:this.props.video,handleClick:this.props.handleVideoBlockClick}))}},{key:"whiteboard",get:function(){return this.props.whiteboardEnabled&&r.a.createElement(an,{drawings:this.props.whiteboardDrawings,handleCanvasClearClick:this.props.handleWhiteboardCanvasClearClick,handleDrawingAdd:this.props.handleWhiteboardDrawingAdd})}}]),n}(a.Component),sn=n(81),ln=n.n(sn),dn=n(50);n(217);var un=function(e){var t=e.values,n=e.videos,i=e.getFirstVideo,c=e.activeVideo,o=e.canInviteMember,s=e.canRaiseHand,d=e.canEndMeeting,u=(e.canVideoMute,e.canAudioMute),h=e.canScreenShare,m=e.canWhiteboardEnable,v=e.canMemberRemove,p=e.inviteText,C=e.handleRaiseHandClick,b=e.handleEndMeetingClick,E=e.handleVideoClick,g=e.handleAudioClick,f=e.handleScreenShareClick,k=e.handleWhiteboardClick,N=e.handleMemberRemoveClick,_=(t=t||1,Object(a.useState)("blue")),w=Object(dn.a)(_,2),y=w[0],S=w[1],O=Object(a.useState)(!1),j=Object(dn.a)(O,2),M=j[0],I=j[1],B=Object(a.useState)("Music Fun with your Little One"),R=Object(dn.a)(B,2),A=R[0],T=(R[1],function(){I(!M)}),x=function(){for(var e=[r.a.createElement("div",{className:"changeNewBorderColor ".concat(y," vidCapture").concat(t,"_",1)},i)],a=1;a<=t;a++)4===a&&e.push(r.a.createElement("div",{className:"changeNewBorderColor vidCapture".concat(t,"_",2)},n[a-2]));return e},D=function(){for(var e=[],a=1;a<=t;a++){1===a||t>=4&&2==a||t>=13&&a>=13||e.push(r.a.createElement("div",{className:"changeNewBorderColor ".concat(y," vidCapture").concat(t,"_").concat(a)},n[a-2]))}return e},P=function(e){var t=e.target.name;console.log(t),S(t)};return r.a.createElement("div",{id:"container"},r.a.createElement("div",{id:"contentContainer"},r.a.createElement("aside",{id:"nav_side"},M?r.a.createElement("div",{id:"mySidepanel",style:{color:"white"},className:"sidepanel"},r.a.createElement("a",{className:"closebtn",onClick:T},"\xd7"),r.a.createElement("div",{className:"menuItemSidebar".concat(s?"active":""),onClick:C},r.a.createElement(l.h,{style:{marginRight:20,marginLeft:10},icon:L.p}),"Raise hand"),r.a.createElement("div",{className:"menuItemSidebar".concat(u?"active":""),onClick:g}," ",r.a.createElement(l.h,{style:{marginRight:20,marginLeft:10},icon:L.t}),"Audio enable"),r.a.createElement("div",{className:"menuItemSidebar".concat(h?"active":""),onClick:f}," ",r.a.createElement(l.h,{style:{marginRight:20,marginLeft:10},icon:L.q})," Screen share"),r.a.createElement("div",{className:"menuItemSidebar".concat(m?"active":""),onClick:k}," ",r.a.createElement(l.h,{style:{marginRight:20,marginLeft:10},icon:L.o}),"White Board"),r.a.createElement("div",{className:"menuItemSidebar".concat(v?"active":""),onClick:N}," ",r.a.createElement(l.h,{style:{marginRight:20,marginLeft:10},icon:L.v}),"Remove person"),r.a.createElement("div",{id:"session"},r.a.createElement(l.i,{onClick:d?b:"",className:"session",src:"/assets/sessionLeave.png"}),r.a.createElement(l.i,{onClick:E,className:"session",src:"/assets/sessionPause.png"}),r.a.createElement(l.i,{onClick:function(){o&&(Object(l.v)("hybrid")?ot.a.share(p):(lt()(p),ue.push("Invitation copied.")))},className:"session",src:"/assets/sessionStart.png"})),r.a.createElement("div",{id:"newCaptureBorderColorsContainer"},r.a.createElement("button",{name:"green",onClick:P,id:"newCaptureGreen"}),r.a.createElement("button",{name:"aqua",onClick:P,id:"newCaptureAqua"}),r.a.createElement("button",{name:"red",onClick:P,id:"newCaptureRed"}),r.a.createElement("button",{name:"orange",onClick:P,id:"newCaptureOrange"}))):r.a.createElement("button",{className:"openbtn",id:"openbtn",onClick:T},"\u2630")),r.a.createElement("main",null,r.a.createElement("div",{className:"mainTop"},t>=27?null:26===t?r.a.createElement("div",{id:"newMainContentAreaX26"},r.a.createElement("div",{className:"x22Header"},r.a.createElement("div",{className:"changeNewBorderColor vidCapture22_22"},n[21]),r.a.createElement("div",{className:"newMainContentHeaderBg26"},r.a.createElement("h3",{className:"banner_title"},A," ")),r.a.createElement("div",{className:"changeNewBorderColor vidCapture26_26"},"Balcony Seats"),r.a.createElement("div",{className:"changeNewBorderColor vidCapture25_25"},n[24]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture24_24"},n[23]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture23_23"},n[22])),r.a.createElement("div",{className:"x21Lower"},r.a.createElement("div",{className:"x18Right"},r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_1"},n[0]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_2"},n[1]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_11"},n[10]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_12"},n[11]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_18"},n[17]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_19"},n[18]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_20"},n[19]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_21"},n[20])),r.a.createElement("div",{className:"x18Middle"},r.a.createElement("div",{className:"newMainContentMiddleX13"},r.a.createElement("div",{className:"newMainContentRightInner"},r.a.createElement("div",{className:"newMainContentRightInnerTextarea"},r.a.createElement("div",{className:"newMainContentTextarea"},c)))),r.a.createElement("div",{className:"x13BottomVidsAlt"},r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_17"},n[16]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_16"},n[15]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_15"},n[14]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_14"},n[13]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_13"},n[12]))),r.a.createElement("div",{className:"x18Right"},r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_3"},n[2]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_4"},n[3]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_5"},n[4]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_6"},n[5]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_7"},n[6]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_8"},n[7]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_9"},n[8]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_10"},n[9])))):25===t?r.a.createElement("div",{id:"newMainContentAreaX25"},r.a.createElement("div",{className:"x22Header"},r.a.createElement("div",{className:"changeNewBorderColor vidCapture22_22"},n[21]),r.a.createElement("div",{className:"newMainContentHeaderBg25"},r.a.createElement("h3",{className:"banner_title"},A," ")),r.a.createElement("div",{className:"changeNewBorderColor vidCapture25_25"},n[24]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture24_24"},n[23]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture23_23"},n[22])),r.a.createElement("div",{className:"x21Lower"},r.a.createElement("div",{className:"x18Right"},r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_1"},n[0]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_2"},n[1]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_11"},n[10]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_12"},n[11]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_18"},n[17]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_19"},n[18]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_20"},n[19]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_21"},n[20])),r.a.createElement("div",{className:"x18Middle"},r.a.createElement("div",{className:"newMainContentMiddleX13"},r.a.createElement("div",{className:"newMainContentRightInner"},r.a.createElement("div",{className:"newMainContentRightInnerTextarea"},r.a.createElement("div",{className:"newMainContentRightInnerTextarea"},c)))),r.a.createElement("div",{className:"x13BottomVidsAlt"},r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_17"},n[16]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_16"},n[15]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_15"},n[14]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_14"},n[13]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_13"},n[12]))),r.a.createElement("div",{className:"x18Right"},r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_3"},n[2]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_4"},n[3]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_5"},n[4]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_6"},n[5]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_7"},n[6]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_8"},n[7]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_9"},n[8]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_10"},n[9])))):24===t?r.a.createElement("div",{id:"newMainContentAreaX24"},r.a.createElement("div",{className:"x22Header"},r.a.createElement("div",{className:"changeNewBorderColor vidCapture22_22"},n[21]),r.a.createElement("div",{className:"newMainContentHeaderBg24"},r.a.createElement("h3",{className:"banner_title"},A," ")),r.a.createElement("div",{className:"changeNewBorderColor vidCapture24_24"},n[23]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture23_23"},n[22])),r.a.createElement("div",{className:"x21Lower"},r.a.createElement("div",{className:"x18Right"},r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_1"},n[0]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_2"},n[1]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_11"},n[10]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_12"},n[11]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_18"},n[17]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_19"},n[18]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_20"},n[19]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_21"},n[20])),r.a.createElement("div",{className:"x18Middle"},r.a.createElement("div",{className:"newMainContentMiddleX13"},r.a.createElement("div",{className:"newMainContentRightInner"},r.a.createElement("div",{className:"newMainContentRightInnerTextarea"},r.a.createElement("div",{className:"newMainContentRightInnerTextarea"},c)))),r.a.createElement("div",{className:"x13BottomVidsAlt"},r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_17"},n[16]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_16"},n[15]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_15"},n[14]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_14"},n[13]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_13"},n[12]))),r.a.createElement("div",{className:"x18Right"},r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_3"},n[2]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_4"},n[3]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_5"},n[4]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_6"},n[5]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_7"},n[6]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_8"},n[7]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_9"},n[8]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_10"},n[9])))):23===t?r.a.createElement("div",{id:"newMainContentAreaX23"},r.a.createElement("div",{className:"x22Header"},r.a.createElement("div",{className:"changeNewBorderColor vidCapture22_22"},n[21]),r.a.createElement("div",{className:"newMainContentHeaderBg23"},r.a.createElement("h3",{className:"banner_title"},A," ")),r.a.createElement("div",{className:"chan geNewBorderColor vidCapture23_23"},n[22])),r.a.createElement("div",{className:"x21Lower"},r.a.createElement("div",{className:"x18Right"},r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_1"},n[0]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_2"},n[1]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_11"},n[10]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_12"},n[11]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_18"},n[17]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_19"},n[18]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_20"},n[19]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_21"},n[20])),r.a.createElement("div",{className:"x18Middle"},r.a.createElement("div",{className:"newMainContentMiddleX13"},r.a.createElement("div",{className:"newMainContentRightInner"},r.a.createElement("div",{className:"newMainContentRightInnerTextarea"},r.a.createElement("div",{className:"newMainContentRightInnerTextarea"},c)))),r.a.createElement("div",{className:"x13BottomVidsAlt"},r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_17"},n[16]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_16"},n[15]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_15"},n[14]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_14"},n[13]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_13"},n[12]))),r.a.createElement("div",{className:"x18Right"},r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_3"},n[2]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_4"},n[3]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_5"},n[4]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_6"},n[5]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_7"},n[6]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_8"},n[7]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_9"},n[8]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_10"},n[9])))):22===t?r.a.createElement("div",{id:"newMainContentAreaX22"},r.a.createElement("div",{className:"x22Header"},r.a.createElement("div",{className:"changeNewBorderColor vidCapture22_22"},n[22]),r.a.createElement("div",{className:"newMainContentHeaderBg22"},r.a.createElement("h3",{className:"banner_title"},A," "))),r.a.createElement("div",{className:"x21Lower"},r.a.createElement("div",{className:"x18Right"},r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_1"},n[0]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_2"},n[1]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_11"},n[10]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_12"},n[11]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_18"},n[17]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_19"},n[18]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_20"},n[19]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_21"},n[20])),r.a.createElement("div",{className:"x18Middle"},r.a.createElement("div",{className:"newMainContentMiddleX13"},r.a.createElement("div",{className:"newMainContentRightInner"},r.a.createElement("div",{className:"newMainContentRightInnerTextarea"},r.a.createElement("div",{className:"newMainContentRightInnerTextarea"},c)))),r.a.createElement("div",{className:"x13BottomVidsAlt"},r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_17"},n[16]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_16"},n[15]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_15"},n[14]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_14"},n[13]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_13"},n[12]))),r.a.createElement("div",{className:"x18Right"},r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_3"},n[2]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_4"},n[3]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_5"},n[4]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_6"},n[5]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_7"},n[6]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_8"},n[7]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_9"},n[8]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_10"},n[9])))):21===t?r.a.createElement("div",{id:"newMainContentAreaX21"},r.a.createElement("div",{className:"newMainContentHeaderBg21"},r.a.createElement("h3",{className:"banner_title"},A," ")),r.a.createElement("div",{className:"x21Lower"},r.a.createElement("div",{className:"x18Right"},r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_1"},n[0]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_2"},n[1]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_11"},n[10]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_12"},n[11]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_18"},n[17]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_19"},n[18]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_20"},n[19]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_21"},n[20])),r.a.createElement("div",{className:"x18Middle"},r.a.createElement("div",{className:"newMainContentMiddleX13"},r.a.createElement("div",{className:"newMainContentRightInner"},r.a.createElement("div",{className:"newMainContentRightInnerTextarea"},r.a.createElement("div",{className:"newMainContentRightInnerTextarea"},c)))),r.a.createElement("div",{className:"x13BottomVidsAlt"},r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_17"},n[16]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_16"},n[15]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_15"},n[14]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_14"},n[13]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_13"},n[12]))),r.a.createElement("div",{className:"x18Right"},r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_3"},n[2]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_4"},n[3]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_5"},n[4]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_6"},n[5]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_7"},n[6]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_8"},n[7]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_9"},n[8]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture21_10"},n[9])))):20===t?r.a.createElement("div",{id:"newMainContentAreaX20"},r.a.createElement("div",{className:"x11Left18"},r.a.createElement("div",{className:"newMainContentLeftX20"},r.a.createElement("div",{className:"changeNewBorderColor vidCapture20_1"},n[0])),r.a.createElement("div",{className:"x20BottomVidsAlt"},r.a.createElement("div",{className:"changeNewBorderColor vidCapture20_2"},n[1]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture20_20"},n[19]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture20_19"},n[18]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture20_18"},n[17]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture20_12"},n[11]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture20_11"},n[10]))),r.a.createElement("div",{className:"x11Right18"},r.a.createElement("div",{className:"x18Upper"},r.a.createElement("div",{className:"newMainContentHeaderBgX18"},r.a.createElement("h3",{className:"banner_title"},A," "))),r.a.createElement("div",{className:"x18Lower"},r.a.createElement("div",{className:"x18Middle"},r.a.createElement("div",{className:"newMainContentMiddleX13"},r.a.createElement("div",{className:"newMainContentRightInner"},r.a.createElement("div",{className:"newMainContentRightInnerTextarea"},r.a.createElement("div",{className:"newMainContentRightInnerTextarea"},c)))),r.a.createElement("div",{className:"x13BottomVidsAlt"},r.a.createElement("div",{className:"changeNewBorderColor vidCapture20_17"},n[16]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture20_16"},n[15]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture20_15"},n[14]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture20_14"},n[13]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture20_13"},n[12]))),r.a.createElement("div",{className:"x18Right"},r.a.createElement("div",{className:"changeNewBorderColor vidCapture20_3"},n[2]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture20_4"},n[3]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture20_5"},n[4]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture20_6"},n[5]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture20_7"},n[6]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture20_8"},n[7]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture20_9"},n[8]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture20_10"},n[9]))))):19===t?r.a.createElement("div",{id:"newMainContentAreaX19"},r.a.createElement("div",{className:"x11Left18"},r.a.createElement("div",{className:"newMainContentLeftX18"},r.a.createElement("div",{className:"changeNewBorderColor vidCapture19_1"},n[0]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture19_2"},n[1])),r.a.createElement("div",{className:"x18BottomVidsAlt"},r.a.createElement("div",{className:"changeNewBorderColor vidCapture19_19"},n[18]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture19_18"},n[17]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture19_12"},n[11]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture19_11"},n[10]))),r.a.createElement("div",{className:"x11Right18"},r.a.createElement("div",{className:"x18Upper"},r.a.createElement("div",{className:"newMainContentHeaderBgX18"},r.a.createElement("h3",{className:"banner_title"},A," "))),r.a.createElement("div",{className:"x18Lower"},r.a.createElement("div",{className:"x18Middle"},r.a.createElement("div",{className:"newMainContentMiddleX13"},r.a.createElement("div",{className:"newMainContentRightInner"},r.a.createElement("div",{className:"newMainContentRightInnerTextarea"},r.a.createElement("div",{className:"newMainContentRightInnerTextarea"},c)))),r.a.createElement("div",{className:"x13BottomVidsAlt"},r.a.createElement("div",{className:"changeNewBorderColor vidCapture19_17"},n[16]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture19_16"},n[15]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture19_15"},n[14]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture19_14"},n[13]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture19_13"},n[12]))),r.a.createElement("div",{className:"x18Right"},r.a.createElement("div",{className:"changeNewBorderColor vidCapture19_3"},n[2]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture19_4"},n[3]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture19_5"},n[4]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture19_6"},n[5]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture19_7"},n[6]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture19_8"},n[7]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture19_9"},n[8]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture19_10"},n[9]))))):18===t?r.a.createElement("div",{id:"newMainContentAreaX18"},r.a.createElement("div",{className:"x11Left18"},r.a.createElement("div",{className:"newMainContentLeftX18"},r.a.createElement("div",{className:"changeNewBorderColor vidCapture18_1"},n[0])),r.a.createElement("div",{className:"x18BottomVidsAlt"},r.a.createElement("div",{className:"changeNewBorderColor vidCapture18_2"},n[1]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture18_18"},n[17]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture18_12"},n[11]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture18_11"},n[10]))),r.a.createElement("div",{className:"x11Right18"},r.a.createElement("div",{className:"x18Upper"},r.a.createElement("div",{className:"newMainContentHeaderBgX18"},r.a.createElement("h3",{className:"banner_title"},A," "))),r.a.createElement("div",{className:"x18Lower"},r.a.createElement("div",{className:"x18Middle"},r.a.createElement("div",{className:"newMainContentMiddleX13"},r.a.createElement("div",{className:"newMainContentRightInner"},r.a.createElement("div",{className:"newMainContentRightInnerTextarea"},r.a.createElement("div",{className:"newMainContentRightInnerTextarea"},c)))),r.a.createElement("div",{className:"x13BottomVidsAlt"},r.a.createElement("div",{className:"changeNewBorderColor vidCapture18_17"},n[16]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture18_16"},n[15]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture18_15"},n[14]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture18_14"},n[13]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture18_13"},n[12]))),r.a.createElement("div",{className:"x18Right"},r.a.createElement("div",{className:"changeNewBorderColor vidCapture18_3"},n[2]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture18_4"},n[3]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture18_5"},n[4]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture18_6"},n[5]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture18_7"},n[6]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture18_8"},n[7]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture18_9"},n[8]),r.a.createElement("div",{className:"changeNewBorderColor vidCapture18_10"},n[9]))))):r.a.createElement("div",{id:"newMainContentAreaX".concat(t)},t>=11?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"x11Left"},r.a.createElement("div",{className:"newMainContentHeaderBgX12"},r.a.createElement("h3",{className:"banner_title"},A," ")),r.a.createElement("div",{className:"newMainContentMain"},r.a.createElement("div",{className:"newMainContentLeft".concat(t>=12?"X11":t>1?"X".concat(t):"")},x().map((function(e){return e}))),t>=13?r.a.createElement("div",{className:"x13Middle"},r.a.createElement("div",{className:"newMainContentMiddleX13"},r.a.createElement("div",{className:"newMainContentRightInner"},r.a.createElement("div",{className:"newMainContentRightInnerTextarea"},r.a.createElement("div",{className:"newMainContentRightInnerTextarea"},c)))),r.a.createElement("div",{className:"x13BottomVids"},function(){var e=[];if(t>=13){for(var a=13;a<=t;a++)e.push(r.a.createElement("div",{className:"changeNewBorderColor ".concat(y," vidCapture").concat(t,"_").concat(a)},n[a-2]));return e}}().map((function(e){return e})))):r.a.createElement("div",{className:"".concat(t>=12?"newMainContentMiddleX11":t>1?"newMainContentMiddleX".concat(t):"newMainContentRight")},r.a.createElement("div",{className:"newMainContentRightInner"},r.a.createElement("div",{className:"newMainContentRightInnerTextarea"},r.a.createElement("div",{className:"newMainContentRightInnerTextarea"},c)))))),r.a.createElement("div",{className:"x11Right"},D().map((function(e){return e})))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"newMainContentHeaderBg"},r.a.createElement("h3",{className:"banner_title"},A," ")),r.a.createElement("div",{className:"newMainContentMain"},r.a.createElement("div",{className:"newMainContentLeft".concat(t>1?"X".concat(t):"")},x().map((function(e){return e}))),r.a.createElement("div",{className:"".concat(t>1?"newMainContentMiddleX".concat(t):"newMainContentRight")},r.a.createElement("div",{className:"newMainContentRightInner"},r.a.createElement("div",{id:"newMainContentRightInnerTextarea",className:"newMainContentRightInnerTextarea"},c))),r.a.createElement("div",{className:"newMainContentRightX".concat(t)},D().map((function(e){return e}))))))))))},hn=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).peerService=void 0,a.mediaService=void 0,a.meetingService=void 0,a.videoService=void 0,a.authService=void 0,a.notificationService=void 0,a.whiteboardDrawingService=void 0,a.whiteboardCanvasService=void 0,a.screenCaptureService=void 0,a.rtpSenderService=void 0,a.streamTrackService=void 0,a.appStorage=void 0,a.hostMiddleware=void 0,a.meetingRepository=void 0,a.peerService=new ze,a.mediaService=new Fe,a.meetingService=new Ge,a.videoService=new Ye,a.authService=new qe,a.notificationService=new Ke,a.whiteboardDrawingService=new et,a.whiteboardCanvasService=new $e,a.screenCaptureService=new tt,a.rtpSenderService=new it,a.streamTrackService=new Je,a.appStorage=new De,a.hostMiddleware=new ct,a.hostMiddleware.auth(a.props.history),a.meetingRepository=new Xe,a.handleMenuRaiseHandClick=a.handleMenuRaiseHandClick.bind(Object(H.a)(a)),a.handleMenuEndMeetingClick=a.handleMenuEndMeetingClick.bind(Object(H.a)(a)),a.handleMenuVideoClick=a.handleMenuVideoClick.bind(Object(H.a)(a)),a.handleMenuAudioClick=a.handleMenuAudioClick.bind(Object(H.a)(a)),a.handleMenuScreenShareClick=a.handleMenuScreenShareClick.bind(Object(H.a)(a)),a.handleMenuWhiteboardClick=a.handleMenuWhiteboardClick.bind(Object(H.a)(a)),a.handleMenuMemberRemoveClick=a.handleMenuMemberRemoveClick.bind(Object(H.a)(a)),a.handleMenuToggleChange=a.handleMenuToggleChange.bind(Object(H.a)(a)),a.handleVideoBlockClick=a.handleVideoBlockClick.bind(Object(H.a)(a)),a.handleWhiteboardCanvasClearClick=a.handleWhiteboardCanvasClearClick.bind(Object(H.a)(a)),a.handleWhiteboardDrawingAdd=a.handleWhiteboardDrawingAdd.bind(Object(H.a)(a)),a}return Object(s.a)(n,[{key:"isMenuExpanded",value:function(e){var t=this.props.menuExpanded;return Object(d.includes)(t,e)}},{key:"handleStreamStop",value:function(){var e=this,t=this.meetingService.getScreenStream().getTracks();Object(d.forEach)(t,(function(t){t.onended=function(){return e.switchUserStreamToMedia()}}))}},{key:"switchUserStreamToMedia",value:function(){var e=this;this.mediaService.getStream(this.props.history,(function(){var t=e.meetingService.getMediaStream();e.videoService.replaceUserStream(t,"media"),e.rtpSenderService.replaceStream(t);var n=e.meetingService.getScreenStream();e.streamTrackService.stop(n)}))}},{key:"switchUserStreamToScreen",value:function(){var e=this;this.screenCaptureService.getStream((function(){var t=e.meetingService.getScreenStream();e.videoService.replaceUserStream(t,"screen"),e.rtpSenderService.replaceStream(t),e.handleStreamStop();var n=e.meetingService.getMediaStream();e.streamTrackService.stop(n)}))}},{key:"handleMenuRaiseHandClick",value:function(){var e;if(!(null===(e=this.userVideo)||void 0===e?void 0:e.raiseHand)){var t=this.props,n=t.id,a=t.connectionId;rt.raiseHand.publish(n,a)}}},{key:"handleMenuEndMeetingClick",value:function(){var e=this;ue.push("Are you sure to end meeting?",(function(){e.peerService.disconnect()}))}},{key:"handleMenuVideoClick",value:function(){if(this.userVideo){var e=this.mediaService.toggleVideoMute(this.userVideo.stream);this.props.replaceVideoStreamMutedVideo(this.props.connectionId,!e)}}},{key:"handleMenuAudioClick",value:function(){if(this.userVideo){var e=this.mediaService.toggleAudioMute(this.userVideo.stream);this.props.replaceVideoStreamMutedAudio(this.props.connectionId,!e)}}},{key:"handleMenuScreenShareClick",value:function(){this.canScreenShare?this.switchUserStreamToScreen():this.switchUserStreamToMedia()}},{key:"handleMenuWhiteboardClick",value:function(){var e=this.props.id,t=!this.props.whiteboardEnabled;rt.whiteboardEnabled.publish(e,t),this.props.replaceWhiteboardEnabled(t)}},{key:"handleMenuMemberRemoveClick",value:function(){var e;if(null===(e=this.activeVideo)||void 0===e?void 0:e.memberRemove){var t=this.props.id;rt.memberRemove.publish(t,this.activeVideo.id)}}},{key:"handleMenuToggleChange",value:function(e){var t=this.isMenuExpanded(e),n=this.props,a=n.pullMenuExpanded,r=n.pushMenuExpanded;(t?a:r)(e)}},{key:"handleVideoBlockClick",value:function(e){this.props.replaceVideoActive(e.id,!0)}},{key:"handleWhiteboardCanvasClearClick",value:function(){rt.whiteboardCanvasClear.publish(this.props.id)}},{key:"handleWhiteboardDrawingAdd",value:function(e){var t=this.props.id,n=e.target;this.props.pushWhiteboardDrawing(n),rt.whiteboardDrawingAdd.publish(t,n)}},{key:"handleRemoteRaiseHand",value:function(e){var t=this;rt.raiseHand.subscribe(e,(function(e){t.props.replaceVideoRaiseHand(e,!0),setTimeout((function(){t.props.replaceVideoRaiseHand(e,!1)}),n.raiseHandTimeout)}))}},{key:"handleRemoteMemberRemove",value:function(e){var t=this;rt.memberRemove.subscribe(e,(function(e){t.meetingService.isUserMeeting(e)?t.peerService.disconnect():(t.videoService.pullVideo(e),t.meetingRepository.setHostVideoActive())}))}},{key:"handleRemoteDisconnect",value:function(e){var t=this;rt.remoteDisconnect.subscribe(e,(function(e){t.meetingService.isHostMeeting(e)?t.exitMeeting():t.videoService.pullVideo(e)}))}},{key:"handleRemoteRTPTrackReplacement",value:function(e){var t=this;rt.rtpTrackReplaced.subscribe(e,(function(e){var n=e.connectionId,a=e.kind;t.props.replaceVideoKind(n,a),t.props.updateVideoRenderId(n)}))}},{key:"handleRemoteConferenceCall",value:function(e,t){var n=this;rt.conferenceCall.subscribe(e,(function(e){n.notificationService.notifyMember(e),n.meetingService.canConferenceCall(e)&&n.peerService.call(e,t,(function(e){n.meetingService.pushCall(e),n.handleCallStreaming(e)}))}))}},{key:"handleRemoteWhiteboardEnabled",value:function(e){var t=this;rt.whiteboardEnabled.subscribe(e,(function(e){t.props.replaceWhiteboardEnabled(e)}))}},{key:"handleRemoteWhiteboardDrawingAdd",value:function(e){var t=this;rt.whiteboardDrawingAdd.subscribe(e,(function(e){t.whiteboardDrawingService.isExists(e)||t.whiteboardDrawingService.parse(e,(function(e){t.whiteboardDrawingService.add(e)}))}))}},{key:"handleRemoteWhiteboardDrawingSync",value:function(e){var t=this;rt.whiteboardDrawingSync.subscribe(e,(function(n){var a=n.drawings,r=n.whiteboardEnabled;r&&t.props.replaceWhiteboardEnabled(r),t.props.replaceWhiteboardDrawings(a),rt.whiteboardDrawingSync.unsubscribe(e)}))}},{key:"handleRemoteWhiteboardCanvasClear",value:function(e){var t=this;rt.whiteboardCanvasClear.subscribe(e,(function(){t.whiteboardCanvasService.clear(),t.props.replaceWhiteboardDrawings([])}))}},{key:"menu",value:function(e){return this.activeVideo&&r.a.createElement(kt,{position:e,canInviteMember:this.canInviteMember,canRaiseHand:this.canRaiseHand,canEndMeeting:this.canEndMeeting,canVideoMute:this.canVideoMute,canAudioMute:this.canAudioMute,canScreenShare:this.canScreenShare,canWhiteboardEnable:this.canWhiteboardEnable,canMemberRemove:this.activeVideo.memberRemove,inviteText:this.inviteText,isExpanded:this.isMenuExpanded(e),handleRaiseHandClick:this.handleMenuRaiseHandClick,handleEndMeetingClick:this.handleMenuEndMeetingClick,handleVideoClick:this.handleMenuVideoClick,handleAudioClick:this.handleMenuAudioClick,handleScreenShareClick:this.handleMenuScreenShareClick,handleWhiteboardClick:this.handleMenuWhiteboardClick,handleMemberRemoveClick:this.handleMenuMemberRemoveClick,handleToggleChange:this.handleMenuToggleChange})}},{key:"video",value:function(e){return r.a.createElement(At,{ratio:"square",video:e,handleClick:this.handleVideoBlockClick})}},{key:"socketUnsubscribe",value:function(){var e=this.props.id;rt.raiseHand.unsubscribe(e),rt.conferenceCall.unsubscribe(e),rt.rtpTrackReplaced.unsubscribe(e),rt.remoteDisconnect.unsubscribe(e),rt.memberRemove.unsubscribe(e),rt.whiteboardEnabled.unsubscribe(e),rt.whiteboardDrawingAdd.unsubscribe(e),rt.whiteboardCanvasClear.unsubscribe(e)}},{key:"handleDisconnect",value:function(){var e=this;this.peerService.onDisconnect((function(){var t=e.props,n=t.id,a=t.connectionId;rt.remoteDisconnect.publish(n,a),e.exitMeeting()}))}},{key:"whiteboardDrawingSync",value:function(e){var t=this.props,n=t.whiteboardEnabled,a={drawings:t.whiteboardDrawings,whiteboardEnabled:n};rt.whiteboardDrawingSync.publish(e,a)}},{key:"exitMeeting",value:function(){var e=this;this.videoService.stopUserVideo(),this.meetingService.resetMeeting(),this.socketUnsubscribe(),this.peerService.disconnect(),this.authService.resetType(),this.props.replaceWhiteboardEnabled(!1),this.props.replaceWhiteboardDrawings([]),this.appStorage.removeAccessToken((function(){e.props.history.push(ra.home.path)}))}},{key:"handleUserStream",value:function(e,t){var n=this;this.videoService.createMediaVideo(e,t,(function(e){n.videoService.pushVideo(e)}))}},{key:"handleCallStreaming",value:function(e){var t=this;this.peerService.onCalling(e,(function(e,n){t.videoService.createMediaVideo(e,n,(function(e){t.videoService.pushVideo(e)}))}))}},{key:"handleReceiveCall",value:function(e,t){var n=this;this.peerService.onReceiveCall((function(a){n.meetingService.pushCall(a);var r=a.peer;n.peerService.answerCall(a,t),n.whiteboardDrawingSync(r),rt.conferenceCall.publish(e,r),n.notificationService.notifyHost(r),n.handleCallStreaming(a)}))}},{key:"joinMeeting",value:function(e,t,n){var a=this;this.meetingService.isMemberMeeting(t)&&this.peerService.call(e,n,(function(e){a.meetingService.pushCall(e),a.handleCallStreaming(e)}))}},{key:"handleMeeting",value:function(){var e=this,t=this.props.history;this.peerService.handleErrors(t),this.peerService.onOpen((function(n){e.meetingService.setId(n,(function(a){a?(e.handleRemoteRaiseHand(a),e.handleRemoteMemberRemove(a),e.handleDisconnect(),e.mediaService.getStream(t,(function(t){e.handleUserStream(n,t),e.handleReceiveCall(a,t),e.joinMeeting(a,n,t),e.handleRemoteDisconnect(a),e.handleRemoteRTPTrackReplacement(a),e.handleRemoteConferenceCall(a,t),e.handleRemoteWhiteboardEnabled(a),e.handleRemoteWhiteboardDrawingAdd(a),e.handleRemoteWhiteboardDrawingSync(n),e.handleRemoteWhiteboardCanvasClear(a)}))):e.exitMeeting()}))}))}},{key:"componentWillUnmount",value:function(){this.exitMeeting()}},{key:"componentDidMount",value:function(){this.handleMeeting()}},{key:"render",value:function(){var e;return r.a.createElement(l.j,null,r.a.createElement(l.e,null,r.a.createElement(Ee,{invert:!1,container:"full"},r.a.createElement("div",{className:this.className},r.a.createElement("div",{id:"container"},r.a.createElement("header",null,r.a.createElement("div",{id:"logoDiv"},r.a.createElement(l.i,{style:{width:"230px",margin:"15px 0 0 48px"},src:"/assets/logo.png"}))),r.a.createElement(un,{values:this.props.videos.length,videos:this.videos,getFirstVideo:this.videosFirst,activeVideo:this.activeVideoBlock,activeVideoSkeletonVisibility:this.activeVideoSkeletonVisibility,canInviteMember:this.canInviteMember,canRaiseHand:this.canRaiseHand,canEndMeeting:this.canEndMeeting,canVideoMute:this.canVideoMute,canAudioMute:this.canAudioMute,canScreenShare:this.canScreenShare,canWhiteboardEnable:this.canWhiteboardEnable,canMemberRemove:null===(e=this.activeVideo)||void 0===e?void 0:e.memberRemove,inviteText:this.inviteText,handleRaiseHandClick:this.handleMenuRaiseHandClick,handleEndMeetingClick:this.handleMenuEndMeetingClick,handleVideoClick:this.handleMenuVideoClick,handleAudioClick:this.handleMenuAudioClick,handleScreenShareClick:this.handleMenuScreenShareClick,handleWhiteboardClick:this.handleMenuWhiteboardClick,handleMemberRemoveClick:this.handleMenuMemberRemoveClick}))))))}},{key:"canMenuTopSpace",get:function(){return this.activeVideo&&this.isMenuExpanded("top")}},{key:"className",get:function(){var e=Object(l.v)("mobile")&&ln.a.mobile,t=this.canMenuTopSpace&&ln.a.menuTopSpace;return"".concat(ln.a.meeting," ").concat(e," ").concat(t)}},{key:"activeVideo",get:function(){return Object(d.find)(this.props.videos,"active")}},{key:"activeVideoSkeletonVisibility",get:function(){return!this.activeVideo}},{key:"activeVideoBlock",get:function(){return this.activeVideo&&r.a.createElement(on,{video:this.activeVideo,whiteboardDrawings:this.props.whiteboardDrawings,whiteboardEnabled:this.props.whiteboardEnabled,handleWhiteboardCanvasClearClick:this.handleWhiteboardCanvasClearClick,handleWhiteboardDrawingAdd:this.handleWhiteboardDrawingAdd,handleVideoBlockClick:this.handleVideoBlockClick})}},{key:"videosFirst",get:function(){var e=Object(d.filter)(this.props.videos);if(e.length>0)return this.video(e[0])}},{key:"videos",get:function(){var e=this;return console.log(this.props.videos),Object(d.filter)(this.props.videos,{active:!1}).map((function(t){return e.video(t)}))}},{key:"userVideo",get:function(){var e=this.props,t=e.connectionId,n=e.videos;return Object(d.find)(n,{id:t})}},{key:"canInviteMember",get:function(){return Boolean(this.props.id)}},{key:"canRaiseHand",get:function(){return!!this.userVideo&&!this.userVideo.raiseHand}},{key:"canEndMeeting",get:function(){return Boolean(this.props.id)}},{key:"canVideoMute",get:function(){return!!this.userVideo&&!this.userVideo.streamMuted.video}},{key:"canAudioMute",get:function(){return!!this.userVideo&&!this.userVideo.streamMuted.audio}},{key:"canScreenShare",get:function(){var e=this.props.videos;return Object(d.every)(e,(function(e){return"screen"!==e.kind}))}},{key:"canWhiteboardEnable",get:function(){return!this.props.whiteboardEnabled}},{key:"inviteText",get:function(){var e="https://".concat("musicfun.stagetrack.online"),t=this.props.id;return"Hi there,\n Jump into Stagetrack Studio - ".concat(e,"/join?id=").concat(t)}}]),n}(a.Component);hn.raiseHandTimeout=5e3,hn.videoColumnSize=Object(l.v)("mobile")?"4":"2";var mn=Object(f.f)(Object(V.b)($,Q)(hn)),vn=function(){function e(){Object(o.a)(this,e),this.requestService=void 0,this.requestService=new Pe}return Object(s.a)(e,[{key:"createAdmin",value:function(e,t){this.requestService.post("/admin",e,(function(e){e&&t()}))}},{key:"validateInstall",value:function(e){this.requestService.get("/admin",(function(t){t&&e()}))}}]),e}(),pn=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).request=void 0,a.request=new vn,a.handleInputChange=a.handleInputChange.bind(Object(H.a)(a)),a.handleCreateClick=a.handleCreateClick.bind(Object(H.a)(a)),a.validateInstall(),a}return Object(s.a)(n,[{key:"handleInputChange",value:function(e){var t=e.target,n=t.value;switch(t.name){case"username":this.props.replaceUsername(n);break;case"password":this.props.replacePassword(n);break;case"confirmPassword":this.props.replaceConfirmPassword(n)}}},{key:"handleCreateClick",value:function(){var e=this,t=this.props,n={username:t.username,password:t.password,confirmPassword:t.confirmPassword};this.request.createAdmin(n,(function(){e.props.history.push(ra.adminSignIn.path)}))}},{key:"validateInstall",value:function(){var e=this;this.request.validateInstall((function(){e.props.history.push(ra.adminSignIn.path)}))}},{key:"render",value:function(){return r.a.createElement(l.j,null,r.a.createElement(l.e,null,r.a.createElement(Ee,{invert:!1,container:"small"},r.a.createElement(l.g,null,r.a.createElement(l.m,null,r.a.createElement(l.d,null,r.a.createElement(Ie,{name:"username",type:"text",value:this.props.username,placeholder:"Username",handleChange:this.handleInputChange}),r.a.createElement(Ie,{name:"password",type:"password",value:this.props.password,placeholder:"Password",handleChange:this.handleInputChange}),r.a.createElement(Ie,{name:"confirmPassword",type:"password",value:this.props.confirmPassword,placeholder:"Confirm password",handleChange:this.handleInputChange}),r.a.createElement(_e,{text:"Create Admin",handleClick:this.handleCreateClick})))))))}}]),n}(a.Component),Cn=Object(f.f)(Object(V.b)((function(e){return Object(d.cloneDeep)(e.install)}),{replaceUsername:function(e){return{type:"REPLACE_INSTALL_USERNAME",username:e}},replacePassword:function(e){return{type:"REPLACE_INSTALL_PASSWORD",password:e}},replaceConfirmPassword:function(e){return{type:"REPLACE_INSTALL_CONFIRM_PASSWORD",confirmPassword:e}}})(pn)),bn=function(){function e(){Object(o.a)(this,e),this.requestService=void 0,this.appStorage=void 0,this.requestService=new Pe,this.appStorage=new De}return Object(s.a)(e,[{key:"signIn",value:function(e,t){var n=this;this.requestService.post("/admin/signIn",e,(function(e){e&&n.appStorage.setAccessToken(e.accessToken,t)}))}}]),e}(),En=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).request=void 0,a.request=new bn,a.handleInputChange=a.handleInputChange.bind(Object(H.a)(a)),a.handleSignInClick=a.handleSignInClick.bind(Object(H.a)(a)),a}return Object(s.a)(n,[{key:"handleInputChange",value:function(e){var t=e.target,n=t.value;switch(t.name){case"username":this.props.replaceUsername(n);break;case"password":this.props.replacePassword(n)}}},{key:"handleSignInClick",value:function(){var e=this,t=this.props,n={username:t.username,password:t.password};this.request.signIn(n,(function(){e.props.history.push(ra.hosts.path)}))}},{key:"clearForm",value:function(){this.props.replaceUsername(""),this.props.replacePassword("")}},{key:"componentWillUnmount",value:function(){this.clearForm()}},{key:"render",value:function(){return r.a.createElement(l.j,null,r.a.createElement(l.e,null,r.a.createElement(Ee,{invert:!1,container:"small"},r.a.createElement(l.g,null,r.a.createElement(l.m,null,r.a.createElement(l.d,null,r.a.createElement(Ie,{name:"username",type:"text",value:this.props.username,placeholder:"Username",handleChange:this.handleInputChange}),r.a.createElement(Ie,{name:"password",type:"password",value:this.props.password,placeholder:"Password",handleChange:this.handleInputChange}),r.a.createElement(_e,{text:"Sign In",handleClick:this.handleSignInClick})))))))}}]),n}(a.Component),gn=Object(f.f)(Object(V.b)((function(e){return Object(d.cloneDeep)(e.adminSignIn)}),{replaceUsername:function(e){return{type:"REPLACE_ADMIN_SIGN_IN_USERNAME",username:e}},replacePassword:function(e){return{type:"REPLACE_ADMIN_SIGN_IN_PASSWORD",password:e}}})(En)),fn=function(){function e(){Object(o.a)(this,e),this.requestService=void 0,this.requestService=new Pe}return Object(s.a)(e,[{key:"auth",value:function(e){this.requestService.get("/admin/auth",(function(t){t||e.push(ra.adminSignIn.path)}))}}]),e}(),kn=function(){function e(){Object(o.a)(this,e),this.requestService=void 0,this.requestService=new Pe}return Object(s.a)(e,[{key:"create",value:function(e,t){this.requestService.post("/host",e,(function(e){e&&t(e)}))}},{key:"listHosts",value:function(e){this.requestService.get("/hosts",(function(t){t&&e(t)}))}},{key:"delete",value:function(e,t){this.requestService.delete("/host",e,(function(e){e&&t()}))}}]),e}(),Nn=n(38),_n=n.n(Nn),wn=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).appStorage=void 0,a.appStorage=new De,a.handleSignOutClick=a.handleSignOutClick.bind(Object(H.a)(a)),a}return Object(s.a)(n,[{key:"handleSignOutClick",value:function(){var e=this;this.appStorage.removeAccessToken((function(){e.props.history.push(ra.adminSignIn.path)}))}},{key:"render",value:function(){return r.a.createElement("div",{className:_n.a.adminMenu},r.a.createElement("div",{className:_n.a.menuItems},r.a.createElement(N.b,{className:_n.a.menuItem,to:ra.hosts.path,activeClassName:_n.a.active},"Hosts"),r.a.createElement(N.b,{className:_n.a.menuItem,to:ra.privacyEdit.path,activeClassName:_n.a.active},"Privacy Policy"),r.a.createElement(N.b,{className:_n.a.menuItem,to:"#",onClick:this.handleSignOutClick},"Sign Out")))}}]),n}(a.Component),yn=Object(f.f)(wn),Sn=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).handleInputChange=a.handleInputChange.bind(Object(H.a)(a)),a.handleCreateHostClick=a.handleCreateHostClick.bind(Object(H.a)(a)),a}return Object(s.a)(n,[{key:"handleInputChange",value:function(e){var t=e.target,n=t.value;switch(t.name){case"name":this.props.replaceName(n);break;case"password":this.props.replacePassword(n);break;case"username":this.props.replaceUsername(n)}}},{key:"copyCredentials",value:function(){var e="https://".concat("musicfun.stagetrack.online"),t=this.props,n=t.name,a=t.username,r=t.password,i="Hi ".concat(n,",\nYou can start a meeting from ").concat(e,"/start using the following credentials:\nUsername: ").concat(a,"\nPassword: ").concat(r);lt()(i),ue.push("Credentials copied.")}},{key:"clearForm",value:function(){this.props.replaceName(""),this.props.replaceUsername(""),this.props.replacePassword("")}},{key:"handleCreateHostClick",value:function(){var e=this,t=this.props,n={name:t.name,username:t.username,password:t.password};this.props.handleCreateClick(n,(function(){e.copyCredentials(),e.clearForm()}))}},{key:"render",value:function(){return r.a.createElement(l.g,null,r.a.createElement(l.m,null,r.a.createElement(l.d,null,r.a.createElement(Ie,{name:"name",type:"text",value:this.props.name,placeholder:"Name",handleChange:this.handleInputChange}),r.a.createElement(Ie,{name:"password",type:"password",value:this.props.password,placeholder:"Password",handleChange:this.handleInputChange})),r.a.createElement(l.d,null,r.a.createElement(Ie,{name:"username",type:"text",value:this.props.username,placeholder:"Username",handleChange:this.handleInputChange}),r.a.createElement(_e,{text:"Create Host",handleClick:this.handleCreateHostClick}))))}}]),n}(a.Component),On=Object(V.b)((function(e){return Object(d.cloneDeep)(e.hostCreate)}),{replaceName:function(e){return{type:"REPLACE_HOST_CREATE_NAME",name:e}},replaceUsername:function(e){return{type:"REPLACE_HOST_CREATE_USERNAME",username:e}},replacePassword:function(e){return{type:"REPLACE_HOST_CREATE_PASSWORD",password:e}}})(Sn),jn=n(154),Mn=n.n(jn),In=n(35),Bn=n.n(In),Rn=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).handleDeleteClick=a.handleDeleteClick.bind(Object(H.a)(a)),a}return Object(s.a)(n,[{key:"handleDeleteClick",value:function(){this.props.handleDeleteClick(this.props.host.id)}},{key:"render",value:function(){return r.a.createElement(l.c,null,r.a.createElement("div",{className:Bn.a.host},r.a.createElement("div",{className:Bn.a.user},r.a.createElement("h3",{className:Bn.a.name},this.props.host.name),r.a.createElement("div",{className:Bn.a.username},this.props.host.username),r.a.createElement("div",{className:Bn.a.lastMeeting},r.a.createElement("h3",{className:Bn.a.heading},"Last Meeting"),r.a.createElement("div",{className:Bn.a.time},this.lastMeeting))),r.a.createElement("div",{className:Bn.a.actions},r.a.createElement(Ot,{name:"removeHost",handleClick:this.handleDeleteClick}))))}},{key:"lastMeeting",get:function(){var e=this.props.host.lastMeetingAt;return e?Mn()(e).format("LLL"):"-"}}]),n}(a.Component),An=n(104),Tn=n.n(An),xn=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:this.className,style:this.styles})}},{key:"styles",get:function(){return{width:this.props.width,height:this.props.height,marginTop:this.props.marginTop,marginBottom:this.props.marginBottom,paddingBottom:this.props.paddingBottom}}},{key:"className",get:function(){var e=this.props.shape,t=e&&Tn.a[e];return"".concat(Tn.a.skeleton," ").concat(t)}}]),n}(a.Component);xn.defaultProps={marginTop:"0",marginBottom:"0",paddingBottom:"0",shape:"rectangle"};var Dn=n(82),Pn=n.n(Dn),Hn=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"randomWidth",value:function(e,t){return"".concat(Object(d.random)(e,t),"%")}},{key:"render",value:function(){return r.a.createElement(l.c,null,r.a.createElement("div",{className:Pn.a.host},r.a.createElement("div",{className:Pn.a.user},r.a.createElement(xn,{width:this.randomWidth(25,35),height:"12px",marginBottom:"8px"}),r.a.createElement(xn,{width:this.randomWidth(25,35),height:"12px",marginBottom:"22px"}),r.a.createElement(xn,{width:"40%",height:"15px",marginBottom:"8px"}),r.a.createElement(xn,{width:"65%",height:"12px"})),r.a.createElement("div",{className:Pn.a.actions},r.a.createElement(xn,{width:"35px",height:"35px",shape:"round"}))))}}]),n}(a.Component),Vn=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).adminMiddleware=void 0,a.request=void 0,a.adminMiddleware=new fn,a.request=new kn,a.handleCreateHostClick=a.handleCreateHostClick.bind(Object(H.a)(a)),a.handleHostDeleteClick=a.handleHostDeleteClick.bind(Object(H.a)(a)),a}return Object(s.a)(n,[{key:"setHosts",value:function(){var e=this;this.request.listHosts((function(t){return e.props.replaceHosts(t)}))}},{key:"deleteHost",value:function(e){var t=this,n={id:e};this.request.delete(n,(function(){return t.props.pullHost(e)}))}},{key:"handleHostDeleteClick",value:function(e){var t=this;ue.push("Are you sure to delete the host?",(function(){return t.deleteHost(e)}))}},{key:"host",value:function(e){return r.a.createElement(l.d,{size:"12",sizeSm:"6",key:e.username},r.a.createElement(Rn,{host:e,handleDeleteClick:this.handleHostDeleteClick}))}},{key:"hostSkeleton",value:function(e){return r.a.createElement(l.d,{size:"12",sizeSm:"6",key:e},r.a.createElement(Hn,null))}},{key:"handleCreateHostClick",value:function(e,t){var n=this;this.request.create(e,(function(e){n.props.pushHost(e),t()}))}},{key:"componentDidMount",value:function(){this.adminMiddleware.auth(this.props.history),this.setHosts()}},{key:"render",value:function(){return r.a.createElement(l.j,null,r.a.createElement(l.e,null,r.a.createElement(Ee,{invert:!1,container:"regular"},r.a.createElement(l.g,null,r.a.createElement(l.m,null,r.a.createElement(l.d,null,r.a.createElement(yn,null),r.a.createElement(On,{handleCreateClick:this.handleCreateHostClick}))),r.a.createElement(l.m,null,this.hosts,this.hostSkeletons)))))}},{key:"hosts",get:function(){var e=this;return this.props.hosts.map((function(t){return e.host(t)}))}},{key:"hostSkeletons",get:function(){var e=this,t=this.props.hosts;if(Object(d.isEmpty)(t))return Object(d.range)(n.skeletonsLength).map((function(t){return e.hostSkeleton(t)}))}}]),n}(a.Component);Vn.skeletonsLength=2;var Ln=Object(f.f)(Object(V.b)((function(e){return Object(d.cloneDeep)(e.hosts)}),{replaceHosts:function(e){return{type:"REPLACE_HOSTS_HOSTS",hosts:e}},pushHost:function(e){return{type:"PUSH_HOSTS_HOST",host:e}},pullHost:function(e){return{type:"PULL_HOSTS_HOST",id:e}}})(Vn)),Wn=n(155),Un=n.n(Wn),zn=function(){function e(){return Object(o.a)(this,e),e.instance||(e.instance=this),e.instance}return Object(s.a)(e,[{key:"getDelta",value:function(t){return e.editor.clipboard.convert(t)}},{key:"getContent",value:function(){return e.editor.root.innerHTML}},{key:"initialize",value:function(t){e.editor=new Un.a(t,this.options)}},{key:"setContent",value:function(t){var n=this.getDelta(t);e.editor.setContents(n,"silent")}},{key:"onContentChange",value:function(t){var n=this;e.editor.on("text-change",(function(){var e=n.getContent();t(e)}))}},{key:"toolbarOptions",get:function(){return[["bold","italic","underline"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{align:[]}],["link"]]}},{key:"options",get:function(){return{modules:{toolbar:this.toolbarOptions,clipboard:{matchVisual:!1}},theme:"snow"}}}]),e}();zn.instance=void 0,zn.editor=void 0;var qn=function(){function e(){Object(o.a)(this,e),this.requestService=void 0,this.requestService=new Pe}return Object(s.a)(e,[{key:"read",value:function(e){this.requestService.get("/privacy",(function(t){t&&e(t.body)}))}},{key:"update",value:function(e){this.requestService.post("/privacy",{body:e},(function(e){e&&ue.push("Privacy updated.")}))}}]),e}(),Gn=n(105),Fn=n.n(Gn),Xn=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).adminMiddleware=void 0,a.editorService=void 0,a.request=void 0,a.adminMiddleware=new fn,a.editorService=new zn,a.request=new qn,a.handleSaveClick=a.handleSaveClick.bind(Object(H.a)(a)),a}return Object(s.a)(n,[{key:"setPrivacy",value:function(){var e=this;this.request.read((function(t){e.props.replacePrivacy(t),e.editorService.setContent(t)}))}},{key:"handlePrivacyChange",value:function(){var e=this;this.editorService.onContentChange((function(t){e.props.replacePrivacy(t)}))}},{key:"handleSaveClick",value:function(){this.request.update(this.props.privacy)}},{key:"componentDidMount",value:function(){this.adminMiddleware.auth(this.props.history),this.editorService.initialize("#privacyEitor"),this.setPrivacy(),this.handlePrivacyChange()}},{key:"render",value:function(){return r.a.createElement(l.j,null,r.a.createElement(l.e,null,r.a.createElement(Ee,{invert:!1,container:"regular"},r.a.createElement(l.g,null,r.a.createElement(l.m,null,r.a.createElement(l.d,null,r.a.createElement(yn,null),r.a.createElement("div",{className:Fn.a.privacyEdit},r.a.createElement("div",{id:"privacyEitor"}),r.a.createElement("div",{className:Fn.a.save},r.a.createElement(_e,{text:"Save",handleClick:this.handleSaveClick})))))))))}}]),n}(a.Component),Jn=Object(f.f)(Object(V.b)((function(e){return Object(d.cloneDeep)(e.privacyEdit)}),{replacePrivacy:function(e){return{type:"REPLACE_PRIVACY_EDIT_PRIVACY",privacy:e}}})(Xn)),Yn=function(){function e(){Object(o.a)(this,e),this.requestService=void 0,this.requestService=new Pe}return Object(s.a)(e,[{key:"read",value:function(e){this.requestService.get("/privacy",(function(t){t&&e(t.body)}))}}]),e}(),Zn=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"randomWidth",value:function(e,t){return"".concat(Object(d.random)(e,t),"%")}},{key:"paragraph",value:function(e){var t=this;return Object(d.range)(e).map((function(e){return r.a.createElement(xn,{width:t.randomWidth(80,100),height:"11px",marginBottom:"5px",key:e})}))}},{key:"render",value:function(){return this.props.visibility&&r.a.createElement(a.Fragment,null,r.a.createElement("div",null,this.paragraph(3)),this.heading,r.a.createElement("div",null,this.paragraph(5)))}},{key:"heading",get:function(){return r.a.createElement(xn,{width:this.randomWidth(30,40),height:"18px",marginBottom:"25px",marginTop:"25px"})}}]),n}(a.Component),Kn=n(106),Qn=n.n(Kn),$n=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).request=void 0,a.request=new Yn,a}return Object(s.a)(n,[{key:"setPrivacy",value:function(){var e=this;this.request.read((function(t){return e.props.replacePrivacy(t)}))}},{key:"componentDidMount",value:function(){this.setPrivacy()}},{key:"render",value:function(){return r.a.createElement(l.j,null,r.a.createElement(l.e,null,r.a.createElement(Ee,{invert:!1,container:"regular"},r.a.createElement(l.g,null,r.a.createElement(l.m,null,r.a.createElement(l.d,null,r.a.createElement("div",{className:Qn.a.privacy},r.a.createElement("h1",null,"Privacy Policy"),r.a.createElement("div",{className:Qn.a.content,dangerouslySetInnerHTML:this.privacyHTML}),r.a.createElement(Zn,{visibility:this.skeletonVisibility}))))))))}},{key:"privacyHTML",get:function(){return{__html:this.props.privacy||""}}},{key:"skeletonVisibility",get:function(){return!this.props.privacy}}]),n}(a.Component),ea=Object(V.b)((function(e){return Object(d.cloneDeep)(e.privacy)}),{replacePrivacy:function(e){return{type:"REPLACE_PRIVACY_PRIVACY",privacy:e}}})($n),ta=n(83),na=n.n(ta),aa=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).handleReturnHomeClick=a.handleReturnHomeClick.bind(Object(H.a)(a)),a}return Object(s.a)(n,[{key:"handleReturnHomeClick",value:function(){this.props.history.push(ra.home.path)}},{key:"render",value:function(){return r.a.createElement(l.j,null,r.a.createElement(l.e,null,r.a.createElement(Ee,{invert:!1,container:"small"},r.a.createElement(l.g,null,r.a.createElement(l.m,null,r.a.createElement(l.d,null,r.a.createElement("div",{className:na.a.notFound},r.a.createElement("h1",{className:na.a.heading},"404"),r.a.createElement("p",{className:na.a.description},"Page Not Found"),r.a.createElement(_e,{text:"Return to Home",handleClick:this.handleReturnHomeClick}))))))))}}]),n}(a.Component),ra={preload:{path:"/",component:fe},home:{path:"/home",component:ye},join:{path:"/join",component:Re},start:{path:"/start",component:Le},meeting:{path:"/meeting",component:mn},install:{path:"/install",component:Cn},adminSignIn:{path:"/admin",component:gn},hosts:{path:"/hosts",component:Ln},privacyEdit:{path:"/privacy/edit",component:Jn},privacy:{path:"/privacy",component:ea},notFound:{path:"*",component:Object(f.f)(aa)}},ia=n(156),ca=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement(V.a,{store:de},r.a.createElement(ia.a,null,r.a.createElement(l.l,null,this.props.children)))}}]),n}(a.Component),oa=(n(218),function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).localStorage=void 0,a.localStorage=new De,a.setupConfig(),at.connect(),a}return Object(s.a)(n,[{key:"setupConfig",value:function(){Object(l.w)({mode:"md"})}},{key:"handlePwaInstall",value:function(){var e=Object(b.a)(C.a.mark((function e(t){var n,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t).prompt(),e.next=4,n.userChoice;case 4:a=e.sent,"accepted"===a.outcome&&ue.pull();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"promptPwaInstall",value:function(){var e=this;this.localStorage.checkPwaPrompted((function(t){t||window.addEventListener("beforeinstallprompt",(function(t){t.preventDefault(),e.localStorage.setPwaInstallPrompted((function(){ue.push("Install app?",(function(){return e.handlePwaInstall(t)}))}))}))}))}},{key:"componentDidMount",value:function(){this.promptPwaInstall()}},{key:"render",value:function(){return r.a.createElement(l.a,null,r.a.createElement(ca,null,r.a.createElement(f.c,null,r.a.createElement(f.a,{path:ra.preload.path,component:ra.preload.component,exact:!0}),r.a.createElement(f.a,{path:ra.home.path,component:ra.home.component,exact:!0}),r.a.createElement(f.a,{path:ra.join.path,component:ra.join.component,exact:!0}),r.a.createElement(f.a,{path:ra.start.path,component:ra.start.component,exact:!0}),r.a.createElement(f.a,{path:ra.meeting.path,component:ra.meeting.component,exact:!0}),r.a.createElement(f.a,{path:ra.install.path,component:ra.install.component,exact:!0}),r.a.createElement(f.a,{path:ra.adminSignIn.path,component:ra.adminSignIn.component,exact:!0}),r.a.createElement(f.a,{path:ra.hosts.path,component:ra.hosts.component,exact:!0}),r.a.createElement(f.a,{path:ra.privacy.path,component:ra.privacy.component,exact:!0}),r.a.createElement(f.a,{path:ra.privacyEdit.path,component:ra.privacyEdit.component,exact:!0}),r.a.createElement(f.a,{path:ra.notFound.path,component:ra.notFound.component,exact:!0}))))}}]),n}(a.Component));c.a.render(r.a.createElement(oa,null),document.getElementById("root")),v.registerWorker()},34:function(e,t,n){e.exports={alert:"Alert_alert__2j1qM",cursor:"Alert_cursor__1gESW",content:"Alert_content__5ozA0",icon:"Alert_icon__2JAk6",message:"Alert_message__3Q1cm",actions:"Alert_actions__xNWp7",cancel:"Alert_cancel__2hV9X",proceed:"Alert_proceed__1WEvF"}},35:function(e,t,n){e.exports={host:"Host_host__5UBHq",user:"Host_user__gNOv3",name:"Host_name__388jT",username:"Host_username__3vIjJ",lastMeeting:"Host_lastMeeting__Rz7Vu",heading:"Host_heading__1H5l_",time:"Host_time__2_weU",actions:"Host_actions__1p3R3"}},38:function(e,t,n){e.exports={adminMenu:"AdminMenu_adminMenu__3X4sH",menuItems:"AdminMenu_menuItems__1ZCWE",menuItem:"AdminMenu_menuItem__29oR7",active:"AdminMenu_active__aA2dh"}},61:function(e,t,n){e.exports={header:"Header_header__1v0yI",logo:"Header_logo__3T0lc",tagline:"Header_tagline__22Om1",invert:"Header_invert__2OkNe"}},62:function(e,t,n){e.exports={copyright:"Copyright_copyright__23gHt",link:"Copyright_link__18MGR",text:"Copyright_text__1fcWP",invert:"Copyright_invert__qZf26"}},63:function(e,t,n){e.exports={page:"Page_page__A7lqB",fadeIn:"Page_fadeIn__3vNfI",main:"Page_main__1BVN_",invert:"Page_invert__2RMSY",full:"Page_full__2A7lk"}},64:function(e,t,n){e.exports={menuToggle:"MenuToggle_menuToggle__3JFXp",notch:"MenuToggle_notch__V_sE6",icon:"MenuToggle_icon__4AKvO",top:"MenuToggle_top__KUvL0",bottom:"MenuToggle_bottom__3v6IZ"}},65:function(e,t,n){e.exports={menuItems:"MenuItems_menuItems__2o-Zz",item:"MenuItems_item__3bxG9",top:"MenuItems_top__1Wvd5",bottom:"MenuItems_bottom__dgiLZ",mobile:"MenuItems_mobile__1Y_QT"}},66:function(e,t,n){e.exports={videoBlock:"VideoBlock_videoBlock__23j3p",full:"VideoBlock_full__3wdvz",mobile:"VideoBlock_mobile__32Zs6",square:"VideoBlock_square__MIbfa",content:"VideoBlock_content__14Ktc"}},67:function(e,t,n){e.exports={activeVideo:"ActiveVideo_activeVideo__1j08x",mobile:"ActiveVideo_mobile__2_pbU",videoBlock:"ActiveVideo_videoBlock__CxhYc",hide:"ActiveVideo_hide__3REMM"}},78:function(e,t,n){e.exports={menuItem:"MenuItem_menuItem__22Hzp",icon:"MenuItem_icon__13emC",active:"MenuItem_active__3zHYA"}},79:function(e,t,n){e.exports={floatButton:"FloatButton_floatButton__19o4O",button:"FloatButton_button__2X4df",icon:"FloatButton_icon__3u2hZ"}},80:function(e,t,n){e.exports={whiteboardBrushSize:"WhiteboardBrushSize_whiteboardBrushSize__2deKv",size:"WhiteboardBrushSize_size__o7vsk",sizeInput:"WhiteboardBrushSize_sizeInput__3yFYh"}},81:function(e,t,n){e.exports={meeting:"Meeting_meeting__3fRJr",mobile:"Meeting_mobile__6tMY8",menuTopSpace:"Meeting_menuTopSpace__1DKGm"}},82:function(e,t,n){e.exports={host:"HostSkeleton_host__1bWhC",user:"HostSkeleton_user__1MMZ8",actions:"HostSkeleton_actions__1bFH1"}},83:function(e,t,n){e.exports={notFound:"NotFound_notFound__3CEjn",heading:"NotFound_heading__2lNQV",description:"NotFound_description__1uh8N"}},95:function(e,t,n){e.exports={container:"Container_container__3eZVY",small:"Container_small__PZBi1",regular:"Container_regular__3d77r",full:"Container_full__3XsvV"}},96:function(e,t,n){e.exports={floatingAnimation:"FloatingAnimation_floatingAnimation__2VgT0",flip:"FloatingAnimation_flip__Bka3_"}},98:function(e,t,n){e.exports={button:"Button_button__2Lf63",content:"Button_content__1y604"}},99:function(e,t,n){e.exports={menu:"Menu_menu__2xbQm",top:"Menu_top__2gHwG",bottom:"Menu_bottom__3BB0i"}}},[[161,3,4]]]);
//# sourceMappingURL=main.8a2a6528.chunk.js.map